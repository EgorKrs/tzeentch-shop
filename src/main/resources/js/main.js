webpackJsonp([30],{"+35/":function(t,e,n){var r=n("VU/8")(n("7hrs"),n("CD+t"),!1,null,null,null);t.exports=r.exports},"+66z":function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},"+MEG":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("I3G/"),a=n.n(i),s=n("mtWM"),c=n.n(s),u=n("IjNM"),l=n.n(u),f=n("Jaym");function d(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)})}}e.default=a.a.extend({components:{AppRadio:l.a},props:{id:[String,Number]},data:function(){return{title:"",items:[],userVote:null,selectedItem:null,auth:!1,isExpired:!1,total:0,loading:!0}},created:function(){this.$mount('[data-poll="'.concat(this.id,'"]')),this.fetchData()},methods:{fetchData:function(){var t=p(o.a.mark(function t(){var e,n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get("/polls/".concat(this.id));case 3:e=t.sent,n=e.data,this.title=n.poll.title,this.items=n.poll.items,this.userVote=n.userVote,this.auth=n.auth,this.isExpired=n.isExpired,r=0,Object(f.f)(n.result,function(t){return r+=t}),this.items.forEach(function(t){t.result=n.result[t.id]||0}),this.total=r,this.loading=!1,t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.error(t.t0);case 20:case"end":return t.stop()}},t,this,[[0,17]])}));return function(){return t.apply(this,arguments)}}(),vote:function(){var t=p(o.a.mark(function t(){var e,n,r=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.selectedItem){t.next=2;break}return t.abrupt("return");case 2:return this.userVote=this.selectedItem,e=Object(f.d)(this.items,function(t){return t.id==r.userVote}),this.total+=1,e.result+=1,t.prev=6,n={poll_id:this.id,item_id:this.userVote},t.next=10,c.a.post("/polls/vote",n);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),console.error(t.t0);case 15:case"end":return t.stop()}},t,this,[[6,12]])}));return function(){return t.apply(this,arguments)}}(),getPercent:function(t){if(!t||!this.total)return 0;var e=Math.round(t/this.total*100);return"".concat(e,"%")}}})},"+X65":function(t,e,n){var r=n("O4Lo"),o=n("yCNF"),i="Expected a function";t.exports=function(t,e,n){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(i);return o(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(t,e,{leading:a,maxWait:e,trailing:s})}},"+gg+":function(t,e,n){var r=n("TQ3y")["__core-js_shared__"];t.exports=r},"+ndw":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vue-modal",{staticClass:"manga-preview",attrs:{type:"slide"}},[!t.loading&&t.mangaInfo?n("div",{staticClass:"modal__content-scroller"},[n("div",{staticClass:"manga-preview__content"},[n("div",{staticClass:"manga-preview__head"},[n("img",{staticClass:"manga-preview__cover",attrs:{src:t.$url.cover(t.mangaInfo)}}),t._v(" "),n("div",{staticClass:"manga-preview__head-right"},[n("div",{staticClass:"manga-rating"},[n("div",{staticClass:"manga-rating__top"},[n("div",{staticClass:"manga-rating__stars rating"},t._l(t.score,function(e){return n("span",{key:e,staticClass:"rating__star",class:{rating__current:t.currentRating===e},attrs:{"data-score":e}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-star"}})])])}),0),t._v(" "),n("div",{staticClass:"manga-rating__value"},[t._v("\n                "+t._s(t.mangaInfo.rate_avg)+"\n              ")])]),t._v(" "),n("div",{staticClass:"manga-rating__votes"},[t._v("\n              голосов: "+t._s(t.mangaInfo.rate)+"\n            ")])]),t._v(" "),t.mangaStatusText?n("button",{staticClass:"button button_primary button_block",class:{button_loading:t.changeStatusLoading},style:{"background-color":t.currentFolder?t.currentFolder.color:null,color:t.currentFolder?t.currentFolder.textColor:null},attrs:{"data-status":t.bookmarkStatus},on:{click:t.changeStatus}},[t._v("\n            "+t._s(t.mangaStatusText)+"\n          ")]):t._e()])]),t._v(" "),n("h3",{staticClass:"manga-preview__name"},[t._v("\n        "+t._s(t.mangaInfo.name)+"\n        "),t.mangaInfo.rus_name?n("small",[t._v("\n          "+t._s(t.mangaInfo.rus_name)+"\n        ")]):t._e()]),t._v(" "),n("div",{staticClass:"manga-preview__data"},[n("div",{staticClass:"info-list manga-info"},[t.mangaInfo.authors&&t.mangaInfo.authors.length?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Автор")]),t._v(" "),t._l(t.mangaInfo.authors,function(e){return n("a",{key:e.id,staticClass:"link-default",attrs:{href:"/people/"+e.slug}},[t._v("\n              "+t._s(e.name)+"\n            ")])})],2):t._e(),t._v(" "),t.mangaInfo.artists&&t.mangaInfo.artists.length?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Художник")]),t._v(" "),t._l(t.mangaInfo.artists,function(e){return n("a",{key:e.id,staticClass:"link-default",attrs:{href:"/people/"+e.slug}},[t._v(t._s(e.name))])})],2):t._e(),t._v(" "),t.mangaInfo.status?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Перевод")]),t._v(" "),n("span",{class:["m-label","m-label_"+(1==t.mangaInfo.status.id?"info":"success")]},[t._v(t._s(t.mangaInfo.status.label))])]):t._e(),t._v(" "),t.mangaInfo.caution>0?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Рейтинг")]),t._v(" "),n("span",{staticClass:"m-label m-label_alert m-label_fx"},[t._v("\n              "+t._s(1==t.mangaInfo.caution?"16+":"18+")+"\n            ")])]):t._e(),t._v(" "),t.mangaInfo.releaseDate?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Дата релиза")]),t._v(" "),n("span",[t._v(t._s(t.mangaInfo.releaseDate))])]):t._e(),t._v(" "),t.mangaInfo.categories&&t.mangaInfo.categories.length?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Жанры")]),t._v(" "),t._l(t.mangaInfo.categories,function(e){return n("a",{key:e.id,staticClass:"link-default",attrs:{href:"/manga-list?genres[include][]="+e.id}},[t._v("\n              "+t._s(e.name)+"\n            ")])})],2):t._e(),t._v(" "),t.mangaInfo.tags&&t.mangaInfo.tags.length?n("div",{staticClass:"info-list__row"},[n("strong",[t._v("Теги")]),t._v(" "),t._l(t.mangaInfo.tags,function(e){return n("a",{key:e.id,staticClass:"link-default",attrs:{href:"/manga-list?tags[include][]="+e.id}},[t._v("\n              "+t._s(e.name)+"\n            ")])})],2):t._e()]),t._v(" "),t.mangaInfo.summary?n("div",{staticClass:"info-desc manga__desc"},[n("div",{staticClass:"info-desc__title"},[t._v("\n            Описание\n          ")]),t._v(" "),n("div",{staticClass:"info-desc__content",domProps:{innerHTML:t._s(t.mangaInfo.summary)}})]):t._e()]),t._v(" "),n("div",{staticClass:"manga-preview__footer"},[n("a",{staticClass:"manga-preview__action",attrs:{href:"/"+t.mangaInfo.slug}},[t._v("Подробнее")]),t._v(" "),n("div",{staticClass:"manga-preview__action manga-preview__action_close text-center text-muted",attrs:{"data-close-modal":""}},[n("i",{staticClass:"fa fa-times"})]),t._v(" "),t.mangaInfo.first_chapter?n("a",{staticClass:"manga-preview__action text-truncate",attrs:{href:t.chapterLink}},[t._v("\n          "+t._s(t.chapterLinkText)+"\n        ")]):n("span",{staticClass:"manga-preview__action"},[t._v("Еще нет глав")])])])]):n("div",{staticClass:"loader-circle"})])},staticRenderFns:[]}},"+opI":function(t,e,n){var r=n("hcE8"),o=n("asqq"),i=n("l/2K"),a=n("C/Wh"),s=n("ypmV"),c=n("I1z2"),u=c.get,l=c.enforce,f=String(String).split("String");(t.exports=function(t,e,n,s){var c=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),l(n).source=f.join("string"==typeof e?e:"")),t!==r?(c?!d&&t[e]&&(u=!0):delete t[e],u?t[e]=n:o(t,e,n)):u?t[e]=n:a(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&u(this).source||s(this)})},"/09a":function(t,e,n){var r=n("AMIE"),o=n("YveC");t.exports=Object.keys||function(t){return r(t,o)}},"/GnY":function(t,e,n){var r=n("HT7L"),o=n("W529"),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},"/I3N":function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},"/gQy":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("OLx3"),o=n("Jaym"),i=n("nctS"),a=n("6Vnj"),s=n.n(a);e.default={components:{AppCheckbox:s.a},popupOptions:{size:"xs"},computed:{settings:function(){return r.a.settings}},watch:{settings:{deep:!0,handler:function(t){(!t.disable.media&&"manga"===r.a.info.type||!t.disable.reader&&"chapter"===r.a.info.type)&&this.$AppEmitter.emit(i.a.init),o.u.update("commentsSettings",t)}}}}},0:function(t,e,n){n("aZpi"),n("0R0H"),n("Ba9a"),n("fJbB"),n("I+QF"),t.exports=n("EdYQ")},"037f":function(t,e,n){var r=n("1oyr"),o=n("p0bc"),i=n("wSKX"),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},"08WP":function(t,e,n){var r;r=function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2));t.exports=r.default},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(9)),i=r(n(3)),a=n(4);e.default=function(){if("undefined"!=typeof window){var t={history:[]},e={offset:{},threshold:0,test:a.inViewport},n=(0,o.default)(function(){t.history.forEach(function(e){t[e].check()})},100);["scroll","resize","load"].forEach(function(t){return addEventListener(t,n)}),window.MutationObserver&&addEventListener("DOMContentLoaded",function(){new MutationObserver(n).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});var r=function(n){if("string"==typeof n){var r=[].slice.call(document.querySelectorAll(n));return t.history.indexOf(n)>-1?t[n].elements=r:(t[n]=(0,i.default)(r,e),t.history.push(n)),t[n]}};return r.offset=function(t){if(void 0===t)return e.offset;var n=function(t){return"number"==typeof t};return["top","right","bottom","left"].forEach(n(t)?function(n){return e.offset[n]=t}:function(r){return n(t[r])?e.offset[r]=t[r]:null}),e.offset},r.threshold=function(t){return"number"==typeof t&&t>=0&&t<=1?e.threshold=t:e.threshold},r.test=function(t){return"function"==typeof t?e.test=t:e.test},r.is=function(t){return e.test(t,e)},r.offset(0),r}}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.options=n,this.elements=e,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return n(t,[{key:"check",value:function(){var t=this;return this.elements.forEach(function(e){var n=t.options.test(e,t.options),r=t.current.indexOf(e),o=r>-1,i=!n&&o;n&&!o&&(t.current.push(e),t.emit("enter",e)),i&&(t.current.splice(r,1),t.emit("exit",e))}),this}},{key:"on",value:function(t,e){return this.handlers[t].push(e),this}},{key:"once",value:function(t,e){return this.singles[t].unshift(e),this}},{key:"emit",value:function(t,e){for(;this.singles[t].length;)this.singles[t].pop()(e);for(var n=this.handlers[t].length;--n>-1;)this.handlers[t][n](e);return this}}]),t}();e.default=function(t,e){return new r(t,e)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inViewport=function(t,e){var n=t.getBoundingClientRect(),r=n.top,o=n.right,i=n.bottom,a=n.left,s=n.width,c=n.height,u=i,l=window.innerWidth-a,f=window.innerHeight-r,d=o,p=e.threshold*s,h=e.threshold*c;return u>e.offset.top+h&&l>e.offset.right+p&&f>e.offset.bottom+h&&d>e.offset.left+p}},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){var r=n(5),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e,n){var r=n(1),o=n(8),i=n(10),a="Expected a function",s=Math.max,c=Math.min;t.exports=function(t,e,n){function u(e){var n=h,r=v;return h=v=void 0,_=e,g=t.apply(r,n)}function l(t){var n=t-y;return void 0===y||n>=e||n<0||w&&t-_>=m}function f(){var t=o();return l(t)?d(t):void(b=setTimeout(f,function(t){var n=e-(t-y);return w?c(n,m-(t-_)):n}(t)))}function d(t){return b=void 0,x&&h?u(t):(h=v=void 0,g)}function p(){var t=o(),n=l(t);if(h=arguments,v=this,y=t,n){if(void 0===b)return function(t){return _=t,b=setTimeout(f,e),O?u(t):g}(y);if(w)return b=setTimeout(f,e),u(y)}return void 0===b&&(b=setTimeout(f,e)),g}var h,v,m,g,b,y,_=0,O=!1,w=!1,x=!0;if("function"!=typeof t)throw new TypeError(a);return e=i(e)||0,r(n)&&(O=!!n.leading,m=(w="maxWait"in n)?s(i(n.maxWait)||0,e):m,x="trailing"in n?!!n.trailing:x),p.cancel=function(){void 0!==b&&clearTimeout(b),_=0,h=y=v=b=void 0},p.flush=function(){return void 0===b?g:d(o())},p}},function(t,e,n){var r=n(6);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(7),o=n(1),i="Expected a function";t.exports=function(t,e,n){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(i);return o(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(t,e,{leading:a,maxWait:e,trailing:s})}},function(t,e){t.exports=function(t){return t}}])},t.exports=r()},"09Qt":function(t,e,n){var r=n("uIr7"),o=n("vi0E"),i=n("l9Lx"),a=n("C0hh"),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=s},"0DSl":function(t,e,n){var r=n("YkxI"),o=n("zBOP");t.exports=function(t){return r(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var c=n[r];c&&t(e,c,r,a)}return e})}},"0LGO":function(t,e,n){var r=n("Eb96"),o=n("HAas"),i=n("l/2K"),a=n("1rEs").f,s=n("17Rs"),c=n("wjiB"),u=s("meta"),l=0,f=Object.isExtensible||function(){return!0},d=function(t){a(t,u,{value:{objectID:"O"+ ++l,weakData:{}}})},p=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,u)){if(!f(t))return"F";if(!e)return"E";d(t)}return t[u].objectID},getWeakData:function(t,e){if(!i(t,u)){if(!f(t))return!0;if(!e)return!1;d(t)}return t[u].weakData},onFreeze:function(t){return c&&p.REQUIRED&&f(t)&&!i(t,u)&&d(t),t}};r[u]=!0},"0R0H":function(t,e){},"0U1j":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toast-item-wrap"},[n("div",{staticClass:"toast-item",class:["is-"+t.item.status,t.item.closeable&&"toast-item_closeable"],on:{click:t.onItemClick}},[n("div",{staticClass:"toast-item__icon"},[n("i",{staticClass:"fa",class:t.iconByStatus})]),t._v(" "),n("div",{staticClass:"toast-item__text"},[t._v("\n      "+t._s(t.item.text)+"\n    ")]),t._v(" "),t.item.closeable?n("div",{staticClass:"toast-item__close",on:{click:function(e){return e.stopPropagation(),t.close(e)}}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-close"}})])]):t._e()])])},staticRenderFns:[]}},"0ghZ":function(t,e,n){var r=n("PfJA"),o=n("iYj9"),i=n("KGqH");t.exports=function(t){return o(t)?i(t):r(t)}},"0uX4":function(t,e,n){var r=n("NkRn"),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},"0vOO":function(t,e,n){n("pkSX");var r=n("odTk");t.exports=r.Object.getOwnPropertyDescriptors},"11ho":function(t,e){void 0==document.createElement("div").style.webkitLineClamp&&document.body.classList.add("not-supported_line-clamp")},"16tV":function(t,e,n){var r=n("tO4o"),o=n("ktak");t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}},"17Rs":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},"1C79":function(t,e,n){var r=n("uIr7"),o=n("Qp3N");t.exports=function t(e,n,i,a,s){var c=-1,u=e.length;for(i||(i=o),s||(s=[]);++c<u;){var l=e[c];n>0&&i(l)?n>1?t(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},"1QDk":function(t,e,n){var r=n("tv3T"),o=n("09Qt");t.exports=function(t,e){return r(t,o(t),e)}},"1UPi":function(t,e,n){"use strict";e.b=function(t){var e={params:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};o.a.get("/chat",e).then(function(e){var n=e.data;t&&t(null,n)}).catch(t)},e.d=s,e.c=function(t){var e=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},s(),{},i.u.get("chat",{}));return t?e[t]:e},e.a=function(t,e,n){return Math.min(Math.max(t,e),n)};var r=n("mtWM"),o=n.n(r),i=n("Jaym");function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){var e={settings:{alwaysOpen:!1,allPage:!1,inWindow:!1,unpinned:!1},pos:{right:20,bottom:0},size:{w:285,h:520}};return t?e[t]:e}},"1Vro":function(t,e,n){var r=n("Qr4f"),o=n("KF7L");t.exports={distanceInWords:r(),format:o()}},"1Yb9":function(t,e,n){var r=n("mgnk"),o=n("UnEC"),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=c},"1dL7":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notifications__wrapper"},[n("div",{staticClass:"notifications-header"},[n("v-dropdown",{staticClass:"notifications-header__dropdown"},[n("div",{staticClass:"notifications-header__icon notifications-header__icon_left",attrs:{"data-dropdown-trigger":""}},[n("i",{staticClass:"fa fa-cog"})]),t._v(" "),n("v-dropdown-menu",[n("div",{staticClass:"menu menu_xs"},[n("div",{staticClass:"menu__subheader"},[t._v("\n            Название манги\n          ")]),t._v(" "),n("div",{staticClass:"menu__item",class:{menu__item_active:"name"===t.settings.mangaNameProp},on:{click:function(e){return t.changeMangaName("name")}}},[t._v("\n            На английском\n          ")]),t._v(" "),n("div",{staticClass:"menu__item",class:{menu__item_active:"rus_name"===t.settings.mangaNameProp},on:{click:function(e){return t.changeMangaName("rus_name")}}},[t._v("\n            На русском\n          ")])])])],1),t._v(" "),n("h6",{staticClass:"notifications-header__title"},[t._v("\n      Уведомления\n    ")]),t._v(" "),n("div",{staticClass:"notifications-header__icon notifications-header__icon_right tooltip",attrs:{"aria-label":"Отметить всё как прочитанное","data-place":"left"},on:{click:t.markAllAsRead}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-check-list"}})])])],1),t._v(" "),n("div",{staticClass:"tabs notifications-filter"},[n("div",{staticClass:"tabs__wrapper"},[n("ul",{directives:[{name:"magic-line",rawName:"v-magic-line"}],staticClass:"tabs__list"},t._l(t.tabs,function(e,r){return n("li",{key:r,staticClass:"tabs__item",class:{tabs__item_active:r==t.activeTab},on:{click:function(e){return t.changeTab(r)}}},[n("span",[t._v(t._s(e.label))]),t._v(" "),n("span",{staticClass:"tabs__label"},[t._v(t._s(t._f("limit")(e.count)))])])}),0)])]),t._v(" "),n("div",{ref:"body",staticClass:"notifications__body"},[t.notifications.length?[n("transition-group",{staticClass:"notifications__list",attrs:{name:t.animationName,tag:"div"},on:{"before-leave":t.beforeLeave}},t._l(t.notifications,function(e){return n("v-notification-item",{key:e.id,attrs:{notification:e,"media-name-prop":t.settings.mangaNameProp},on:{remove:t.removeNotification}})}),1)]:t._e(),t._v(" "),t.loading||t.notifications.length?t._e():n("div",{staticClass:"notifications__empty"},[t._v("\n      Нет новых уведомлений\n    ")]),t._v(" "),t.hasNextPage?n("v-loader",{staticClass:"notifications__loader",attrs:{size:"md"}}):t._e()],2)])},staticRenderFns:[]}},"1oyr":function(t,e){t.exports=function(t){return function(){return t}}},"1rEs":function(t,e,n){var r=n("q0qZ"),o=n("K6eN"),i=n("5+O3"),a=n("whWw"),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"22B7":function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},"25hp":function(t,e,n){var r=n("G7No");t.exports=function(t,e){var n=r(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},"2Hvv":function(t,e,n){var r=n("imBK");t.exports=function(t){return r(this.__data__,t)>-1}},"2N6f":function(t,e,n){var r=n("rCVp"),o=n("Q2wK"),i=n("WHce");t.exports=function(t){return i(o(t,void 0,r),t+"")}},"2X2u":function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},"309y":function(t,e,n){var r=n("PqYH"),o=n("v9aJ"),i=n("CxPB"),a=n("NGEn");t.exports=function(t,e){return(a(t)?r:o)(t,i(e))}},"3Did":function(t,e,n){var r=n("uCi2");t.exports=function(t){return function(e){return r(e,t)}}},"3IRH":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"3Nrx":function(t,e,n){var r=n("HAas"),o=n("jE8y");t.exports=function(t,e,n){var i,a;return o&&"function"==typeof(i=e.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(t,a),t}},"3ObW":function(t,e,n){var r=n("VU/8")(n("w8ZE"),n("dmfu"),!1,null,null,null);t.exports=r.exports},"3U/7":function(t,e,n){var r=n("VU/8")(n("MFFc"),n("0U1j"),!1,function(t){n("xKHF")},null,null);t.exports=r.exports},"3aWb":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section paper"},[n("div",{staticClass:"section__header section__header_tabs comments-header"},[n("div",{staticClass:"section__header-title"},[n("b",[t._v("Комментарии")]),t._v(" "),n("span",{staticClass:"text-muted comments-header__settings",on:{click:t.showSettings}},[n("i",{staticClass:"fa fa-sliders"})]),t._v(" "),t._m(0),t._v(" "),t.showDestroyCommentsBtn?n("button",{staticClass:"comments-header__destroy button button_icon button_sm button_clean button_red",on:{click:t.removeByPage}},[n("i",{staticClass:"fa fa-trash-o"})]):t._e()]),t._v(" "),n("ul",{directives:[{name:"magic-line",rawName:"v-magic-line"}],staticClass:"tabs__list"},t._l(t.orderOptions,function(e,r){return n("li",{key:r,staticClass:"tabs__item",class:{tabs__item_active:r===t.currentOrder},on:{click:function(e){return t.changeSort(r)}}},[n("span",[t._v(t._s(e))])])}),0)]),t._v(" "),n("div",{staticClass:"comments"},[t.showRulesWarning&&t.auth?n("div",{staticClass:"comments__rules"},[n("div",{staticClass:"comments__rules-wrap text-center"},[t._m(1),t._v(" "),n("span",[n("app-checkbox",{model:{value:t.settings.hideRules,callback:function(e){t.$set(t.settings,"hideRules",e)},expression:"settings.hideRules"}},[t._v("Я ознакомлен(а) с правилами")])],1),t._v(" "),n("p",{staticClass:"mt-10"},[n("button",{staticClass:"button button_sm",attrs:{disabled:!t.settings.hideRules},on:{click:t.hideRulesWarning}},[t._v("\n            Скрыть предупреждение\n          ")])])])]):t._e(),t._v(" "),n("comments-form",{directives:[{name:"show",rawName:"v-show",value:!t.loading&&!t.showPartials,expression:"!loading && !showPartials"}]}),t._v(" "),t.sticky&&!t.loading?n("comment",{staticClass:"comment_sticky",attrs:{comment:t.sticky,"comment-level":0,"root-id":t.sticky.id,"is-sticky":""}}):t._e(),t._v(" "),t.showPartials&&!t.loading?n("div",{staticClass:"comments__partial"},[n("div",{staticClass:"comments__partial-text"},[t._v("\n        Вы видите только часть дискуссии. "),n("span",{staticClass:"button_link",on:{click:function(e){return t.$emit("show-all-comments")}}},[t._v("Показать всё.")])])]):t._e(),t._v(" "),n("div",{staticClass:"section__body"},[t.loading?n("div",{staticClass:"comment__loader"},[n("loader")],1):[t.comments.length?[t._l(t.comments,function(t){return n("comment",{key:t.id,attrs:{comment:t,"root-id":t.id,"comment-level":0}})}),t._v(" "),t._t("footer-button"),t._v(" "),t.showPartials&&!t.loading?n("div",{staticClass:"comments__partial"},[n("div",{staticClass:"comments__partial-text"},[t._v("\n              Вы видите только часть дискуссии. "),n("span",{staticClass:"button_link",on:{click:function(e){return t.$emit("show-all-comments")}}},[t._v("Показать всё.")])])]):t._e()]:n("div",{staticClass:"comment__empty empty"},[t._v("\n          Нет ни одного комментария\n        ")])]],2)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"comments-header__rules rules-btn ml-10",attrs:{href:"/faq?section=8&answer=37"}},[this._v("\n        Правила\n        "),e("div",{staticClass:"rules-btn__dot"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n          Пожалуйста, ознакомтесь с "),e("a",{attrs:{href:"/faq?section=8&answer=37",target:"_blank"}},[this._v("правилами")]),this._v(" перед публикацией комментария\n        ")])}]}},"3mz+":function(t,e,n){var r=n("hcE8"),o=n("PedI"),i=n("a/rO"),a=n("asqq"),s=n("jAiL"),c=s("iterator"),u=s("toStringTag"),l=i.values;for(var f in o){var d=r[f],p=d&&d.prototype;if(p){if(p[c]!==l)try{a(p,c,l)}catch(t){p[c]=l}if(p[u]||a(p,u,f),o[f])for(var h in i)if(p[h]!==i[h])try{a(p,h,i[h])}catch(t){p[h]=i[h]}}}},"3y7u":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{size:{type:String,default:""},type:String,closeIcon:Boolean,titlePosition:String,title:String}}},"3znZ":function(t,e,n){var r=n("u/4p");t.exports=function(t){return r(t,{weekStartsOn:1})}},"40wi":function(t,e,n){var r=n("mWhC"),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},"43zn":function(t,e,n){var r,o=n("5+O3"),i=n("o/tC"),a=n("YveC"),s=n("Eb96"),c=n("N5RP"),u=n("P1fK"),l=n("siPu")("IE_PROTO"),f=function(){},d=function(t){return"<script>"+t+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=r?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=o(t),n=new f,f.prototype=null,n[l]=t):n=p(),void 0===e?n:i(n,e)}},"4RiB":function(t,e){t.exports=function(t,e){for(var n,r=-1,o=t.length;++r<o;){var i=e(t[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}},"5+O3":function(t,e,n){var r=n("HAas");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},"5/Qr":function(t,e,n){var r=n("Kzd6"),o=n("6Git"),i=n("WyC4"),a=n("0uX4"),s=n("Ilb/"),c="[object Boolean]",u="[object Date]",l="[object Map]",f="[object Number]",d="[object RegExp]",p="[object Set]",h="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",b="[object Float32Array]",y="[object Float64Array]",_="[object Int8Array]",O="[object Int16Array]",w="[object Int32Array]",x="[object Uint8Array]",k="[object Uint8ClampedArray]",j="[object Uint16Array]",C="[object Uint32Array]";t.exports=function(t,e,n){var E=t.constructor;switch(e){case m:return r(t);case c:case u:return new E(+t);case g:return o(t,n);case b:case y:case _:case O:case w:case x:case k:case j:case C:return s(t,n);case l:return new E;case f:case h:return new E(t);case d:return i(t);case p:return new E;case v:return a(t)}}},"50oC":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal",attrs:{"data-type":t.type,tabindex:"-1"}},[n("div",{staticClass:"modal__inner"},[n("div",{staticClass:"modal__content",attrs:{"data-size":t.size}},[t.$slots.title||t.title?n("div",{staticClass:"modal__header"},[n("h3",{staticClass:"modal__title",class:t.titlePosition},[t._t("title",[t._v("\n            "+t._s(t.title)+"\n          ")])],2)]):t._e(),t._v(" "),t.closeIcon?n("div",{staticClass:"modal__close",attrs:{"data-close-modal":""}},[n("svg",{staticClass:"modal__close-icon"},[n("use",{attrs:{"xlink:href":"#icon-close"}})])]):t._e(),t._v(" "),t._t("default")],2)])])},staticRenderFns:[]}},"516i":function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("bookmark-folders-list",{class:this.className,attrs:{folders:this.filteredFolders,"show-deletion-button":this.showDeletionButton,size:"xs"},on:{selected:this.changeStatus,created:this.folderCreated}})},staticRenderFns:[]}},"5N57":function(t,e,n){var r=n("ICSD")(n("TQ3y"),"Set");t.exports=r},"5Zxu":function(t,e,n){var r=n("sBat");t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},"5oa4":function(t,e,n){var r=n("VU/8")(n("hP5B"),n("VhYc"),!1,null,null,null);t.exports=r.exports},"607n":function(t,e){t.exports=function(t){return t instanceof Date}},"65ot":function(t,e,n){"use strict";var r=n("q0qZ"),o=n("r54x"),i=n("/09a"),a=n("fTzd"),s=n("NGss"),c=n("EJk4"),u=n("fkET"),l=Object.assign,f=Object.defineProperty;t.exports=!l||o(function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||"abcdefghijklmnopqrst"!=i(l({},e)).join("")})?function(t,e){for(var n=c(t),o=arguments.length,l=1,f=a.f,d=s.f;o>l;)for(var p,h=u(arguments[l++]),v=f?i(h).concat(f(h)):i(h),m=v.length,g=0;m>g;)p=v[g++],r&&!d.call(h,p)||(n[p]=h[p]);return n}:l},"6Git":function(t,e,n){var r=n("Kzd6");t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},"6MiT":function(t,e,n){var r=n("aCM0"),o=n("UnEC"),i="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||o(t)&&r(t)==i}},"6Vnj":function(t,e,n){var r=n("VU/8")(n("gF/f"),n("AcyC"),!1,null,null,null);t.exports=r.exports},"6gl1":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{direction:String,closeOnSelect:{type:Boolean,default:!0},outsideClose:{type:Boolean,default:!0}},data:function(){return{Menu:{isActive:!1,closeOnSelect:this.closeOnSelect,direction:this.direction,$el:null}}},provide:function(){return{Menu:this.Menu}},watch:{"Menu.isActive":function(t){t?document.addEventListener("click",this.outsideClickHandler):document.removeEventListener("click",this.outsideClickHandler)}},mounted:function(){this.Menu.$el=this.$el;var t=this.$el.querySelector("[data-dropdown-trigger]");t&&t.addEventListener("click",this.toggle)},methods:{toggle:function(){this.Menu.isActive=!this.Menu.isActive},outsideClickHandler:function(t){this.$el.contains(t.target)||this.toggle(t)}}}},"6kJs":function(t,e,n){var r=n("Hxdr"),o=n("JyYQ"),i=n("yzuE"),a=n("gpZ8"),s=n("S7p9"),c=n("Oo6K"),u=n("wSKX");t.exports=function(t,e,n){var l=-1;e=r(e.length?e:[u],s(o));var f=i(t,function(t,n,o){return{criteria:r(e,function(e){return e(t)}),index:++l,value:t}});return a(f,function(t,e){return c(t,e,n)})}},"7/oE":function(t,e,n){"use strict";e.a=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0,n={methods:{_autoMount:function(t){this.$mount(t),t||document.body.appendChild(this.$el)}}};return t&&(n.created=function(){this._autoMount(e)}),n}},"7YkW":function(t,e,n){var r=n("YeCl"),o=n("Cskv"),i=n("aQOO");function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},"7e4z":function(t,e,n){var r=n("uieL"),o=n("1Yb9"),i=n("NGEn"),a=n("ggOT"),s=n("ZGh9"),c=n("YsVG"),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&a(t),d=!n&&!l&&!f&&c(t),p=n||l||f||d,h=p?r(t.length,String):[],v=h.length;for(var m in t)!e&&!u.call(t,m)||p&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||h.push(m);return h}},"7hrs":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("mtWM"),a=n.n(i);function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}e.default={props:{size:String},data:function(){return{loading:!1,name:""}},methods:{create:function(){var t,e=(t=o.a.mark(function t(){var e,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loading&&this.name.length){t.next=2;break}return t.abrupt("return");case 2:return this.loading=!0,t.prev=3,t.next=6,a.a.post("/bookmark-folder",{name:this.name});case 6:e=t.sent,n=e.data,this.name="",this.$emit("created",n),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.error(t.t0);case 15:this.loading=!1;case 16:case"end":return t.stop()}},t,this,[[3,12]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}()}}},"7pyE":function(t,e,n){var r=n("mi1p"),o=n("o2mx"),i=n("5Zxu"),a=n("ZT2e");t.exports=function(t,e,n){return t=a(t),n=null==n?0:r(i(n),0,t.length),e=o(e),t.slice(n,n+e.length)==e}},"7xX+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Jaym"),o=n("6Vnj"),i=n.n(o);e.default={components:{AppCheckbox:i.a},popupOptions:{size:"xs"},data:function(){return{disableShow:!1}},watch:{disableShow:function(){this.disableShow?this.$dialog.enable():this.$dialog.disable()}},mounted:function(){this.$dialog.disable()},beforeDestroy:function(){this.disableShow&&r.u.save("disableRumangaWarning",!0)}}},"8++/":function(t,e){t.exports=function(t){return t!=t}},"8/eq":function(t,e,n){"use strict";var r=n("dliL"),o=n("V+c1");t.exports=r("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},o)},"86tT":function(t,e,n){var r=n("gHOb"),o=n("UnEC"),i="[object Map]";t.exports=function(t){return o(t)&&r(t)==i}},"8AZL":function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},"8gK5":function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},"8jzl":function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"dropdown",class:this.Menu.isActive&&"dropdown_open"},[this._t("default")],2)},staticRenderFns:[]}},"8l6m":function(t,e,n){var r=n("VU/8")(n("Cjea"),n("1dL7"),!1,null,null,null);t.exports=r.exports},"9+GO":function(t,e,n){var r=n("r54x");t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},"94sX":function(t,e,n){var r=n("dCZQ");t.exports=function(){this.__data__=r?r(null):{},this.size=0}},"9O5E":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("PeYS"),o=n.n(r),i=window.__MANGA__;e.default={components:{ChapterLink:o.a},props:{chapter:Object,teamFilter:String,auth:Boolean,isManga:Boolean},computed:{hasMoreTeams:function(){return this.chapter.teams.length>1}},methods:{chapterLink:function(t){if("edit"===t){var e=this.chapter.chapter_id;return"all"!==this.teamFilter&&(e=this.chapter.teamsMap[this.teamFilter].chapterId),"/manga/".concat(i.slug,"/chapter/").concat(e)}var n="/".concat(i.slug,"/v").concat(this.chapter.chapter_volume,"/c").concat(this.chapter.chapter_number);return"all"!==this.teamFilter?n="".concat(n,"/").concat(this.teamFilter):this.chapter.teams[0].slug&&(n="".concat(n,"/").concat(this.chapter.teams[0].slug)),n}}}},"9UkZ":function(t,e,n){var r=n("aCM0"),o=n("vi0E"),i=n("UnEC"),a="[object Object]",s=Function.prototype,c=Object.prototype,u=s.toString,l=c.hasOwnProperty,f=u.call(Object);t.exports=function(t){if(!i(t)||r(t)!=a)return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==f}},"9mDF":function(t,e,n){var r=n("fkET"),o=n("hiy0");t.exports=function(t){return r(o(t))}},"9pW/":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"filterWrap",staticClass:"paper search-filter",class:{"search-filter_mobile":t.isMobile}},[n("div",{staticClass:"search-filter-layout",class:{"is-hidden":t.show.tags||t.show.genres}},[t.isMobile?n("div",{staticClass:"search-filter__head"},[n("div",{staticClass:"search-filter__head-title",on:{click:function(e){return t.$dialog.close()}}},[n("i",{staticClass:"fa fa-arrow-left fa-fw small"}),t._v(" Фильтры\n      ")]),t._v(" "),n("app-dialog-close")],1):t._e(),t._v(" "),n("div",{staticClass:"search-filter__wrap"},[n("div",{staticClass:"search-filter__filters"},[n("div",{staticClass:"search-filter-submenu",on:{click:function(e){return t.toggleVisible("genres")}}},[n("div",{staticClass:"search-filter-submenu__name"},[t._v("\n            Жанры\n          ")]),t._v(" "),n("div",{staticClass:"search-filter-submenu__right"},[n("span",{staticClass:"search-filter-submenu__selected text-truncate"},[t._v(t._s(t.selectedGenres))]),t._v(" "),n("i",{staticClass:"fa fa-chevron-right"})])]),t._v(" "),n("div",{staticClass:"search-filter-submenu",on:{click:function(e){return t.toggleVisible("tags")}}},[n("div",{staticClass:"search-filter-submenu__name"},[t._v("\n            Теги\n          ")]),t._v(" "),n("div",{staticClass:"search-filter-submenu__right"},[n("span",{staticClass:"search-filter-submenu__selected text-truncate"},[t._v(t._s(t.selectedTags))]),t._v(" "),n("i",{staticClass:"fa fa-chevron-right"})])]),t._v(" "),t.isHentai?n("div",{staticClass:"search-filter-submenu",on:{click:function(e){return t.toggleVisible("series")}}},[n("div",{staticClass:"search-filter-submenu__name"},[t._v("\n            Серия\n          ")]),t._v(" "),n("div",{staticClass:"search-filter-submenu__right"},[n("span",{staticClass:"search-filter-submenu__selected text-truncate"},[t._v(t._s(t.selectedSeries))]),t._v(" "),n("i",{staticClass:"fa fa-chevron-right"})])]):t._e(),t._v(" "),n("div",{staticClass:"search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Количество глав\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content"},[n("div",{staticClass:"search-filter__input-group"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.state.chapters.min,expression:"state.chapters.min",modifiers:{number:!0}}],staticClass:"form__input form__input_sm search-filter__input",attrs:{type:"text",placeholder:"От"},domProps:{value:t.state.chapters.min},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilter(e)},input:function(e){e.target.composing||t.$set(t.state.chapters,"min",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("—")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.state.chapters.max,expression:"state.chapters.max",modifiers:{number:!0}}],staticClass:"form__input form__input_sm search-filter__input",attrs:{type:"text",placeholder:"До"},domProps:{value:t.state.chapters.max},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilter(e)},input:function(e){e.target.composing||t.$set(t.state.chapters,"max",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])]),t._v(" "),n("div",{staticClass:"search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Год выпуска\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content"},[n("div",{staticClass:"search-filter__input-group"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.state.year.min,expression:"state.year.min",modifiers:{number:!0}}],staticClass:"form__input form__input_sm search-filter__input",attrs:{type:"text",placeholder:"От"},domProps:{value:t.state.year.min},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilter(e)},input:function(e){e.target.composing||t.$set(t.state.year,"min",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("—")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.state.year.max,expression:"state.year.max",modifiers:{number:!0}}],staticClass:"form__input form__input_sm search-filter__input",attrs:{type:"text",placeholder:"До"},domProps:{value:t.state.year.max},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilter(e)},input:function(e){e.target.composing||t.$set(t.state.year,"max",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])]),t._v(" "),n("div",{staticClass:"search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Оценка\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content"},[n("div",{staticClass:"search-filter__input-group"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.state.rating.min,expression:"state.rating.min",modifiers:{number:!0}}],staticClass:"form__input form__input_sm search-filter__input",attrs:{type:"text",placeholder:"От"},domProps:{value:t.state.rating.min},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilter(e)},input:function(e){e.target.composing||t.$set(t.state.rating,"min",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("span",{staticClass:"text-muted"},[t._v("—")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.state.rating.max,expression:"state.rating.max",modifiers:{number:!0}}],staticClass:"form__input form__input_sm search-filter__input",attrs:{type:"text",placeholder:"До"},domProps:{value:t.state.rating.max},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilter(e)},input:function(e){e.target.composing||t.$set(t.state.rating,"max",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])]),t._v(" "),t.isHentai?t._e():n("div",{staticClass:"search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Возрастной рейтинг\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content search-filter__checkbox-list search-filter__checkbox-list_caution search-filter__checkbox-list_flex"},[n("label",{staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.caution,expression:"state.caution"}],staticClass:"control__input",attrs:{value:"1",type:"checkbox"},domProps:{checked:Array.isArray(t.state.caution)?t._i(t.state.caution,"1")>-1:t.state.caution},on:{change:function(e){var n=t.state.caution,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=t._i(n,"1");r.checked?i<0&&t.$set(t.state,"caution",n.concat(["1"])):i>-1&&t.$set(t.state,"caution",n.slice(0,i).concat(n.slice(i+1)))}else t.$set(t.state,"caution",o)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v("16+")])]),t._v(" "),n("label",{staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.caution,expression:"state.caution"}],staticClass:"control__input",attrs:{value:"2",type:"checkbox"},domProps:{checked:Array.isArray(t.state.caution)?t._i(t.state.caution,"2")>-1:t.state.caution},on:{change:function(e){var n=t.state.caution,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=t._i(n,"2");r.checked?i<0&&t.$set(t.state,"caution",n.concat(["2"])):i>-1&&t.$set(t.state,"caution",n.slice(0,i).concat(n.slice(i+1)))}else t.$set(t.state,"caution",o)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_top"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v("18+")])]),t._v(" "),n("label",{staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.caution,expression:"state.caution"}],staticClass:"control__input",attrs:{value:"0",type:"checkbox"},domProps:{checked:Array.isArray(t.state.caution)?t._i(t.state.caution,"0")>-1:t.state.caution},on:{change:function(e){var n=t.state.caution,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=t._i(n,"0");r.checked?i<0&&t.$set(t.state,"caution",n.concat(["0"])):i>-1&&t.$set(t.state,"caution",n.slice(0,i).concat(n.slice(i+1)))}else t.$set(t.state,"caution",o)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_top"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v("Отсутствует")])])])]),t._v(" "),n("div",{staticClass:"search-filter__categories search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Тип\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content search-filter__checkbox-list search-filter__checkbox-list_flex"},t._l(t.list.types,function(e,r){return n("label",{key:r,staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.types,expression:"state.types"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{value:r,checked:Array.isArray(t.state.types)?t._i(t.state.types,r)>-1:t.state.types},on:{change:function(e){var n=t.state.types,o=e.target,i=!!o.checked;if(Array.isArray(n)){var a=r,s=t._i(n,a);o.checked?s<0&&t.$set(t.state,"types",n.concat([a])):s>-1&&t.$set(t.state,"types",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.state,"types",i)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v(t._s(e))])])}),0)]),t._v(" "),n("div",{staticClass:"search-filter__format search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Формат выпуска\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content search-filter__checkbox-list search-filter__checkbox-list_flex"},t._l(t.list.format,function(e){return n("CheckboxWithExclude",{key:e.id,attrs:{state:t.state.format,value:e.id}},[t._v("\n              "+t._s(e.name)+"\n            ")])}),1)]),t._v(" "),n("div",{staticClass:"search-filter__status search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Статус перевода\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content search-filter__checkbox-list search-filter__checkbox-list_flex"},t._l(t.list.status,function(e){return n("label",{key:e.id,staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.status,expression:"state.status"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.state.status)?t._i(t.state.status,e.id)>-1:t.state.status},on:{change:function(n){var r=t.state.status,o=n.target,i=!!o.checked;if(Array.isArray(r)){var a=e.id,s=t._i(r,a);o.checked?s<0&&t.$set(t.state,"status",r.concat([a])):s>-1&&t.$set(t.state,"status",r.slice(0,s).concat(r.slice(s+1)))}else t.$set(t.state,"status",i)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v(t._s(e.label))])])}),0)]),t._v(" "),n("div",{staticClass:"search-filter__status search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Статус тайтла\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content search-filter__checkbox-list search-filter__checkbox-list_flex"},t._l(t.list.manga_status,function(e){return n("label",{key:e.id,staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.manga_status,expression:"state.manga_status"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.state.manga_status)?t._i(t.state.manga_status,e.id)>-1:t.state.manga_status},on:{change:function(n){var r=t.state.manga_status,o=n.target,i=!!o.checked;if(Array.isArray(r)){var a=e.id,s=t._i(r,a);o.checked?s<0&&t.$set(t.state,"manga_status",r.concat([a])):s>-1&&t.$set(t.state,"manga_status",r.slice(0,s).concat(r.slice(s+1)))}else t.$set(t.state,"manga_status",i)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v(t._s(e.label))])])}),0)]),t._v(" "),n("div",{staticClass:"search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n            Другое\n          ")]),t._v(" "),n("div",{staticClass:"search-filter__content"},[t.auth?n("label",{staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.long_no_translation,expression:"state.long_no_translation"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.state.long_no_translation)?t._i(t.state.long_no_translation,null)>-1:t.state.long_no_translation},on:{change:function(e){var n=t.state.long_no_translation,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=t._i(n,null);r.checked?i<0&&t.$set(t.state,"long_no_translation",n.concat([null])):i>-1&&t.$set(t.state,"long_no_translation",n.slice(0,i).concat(n.slice(i+1)))}else t.$set(t.state,"long_no_translation",o)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_top"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v("Нет перевода уже 3 месяца")])]):t._e(),t._v(" "),t.isHentai?t._e():n("label",{staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.licensed,expression:"state.licensed"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.state.licensed)?t._i(t.state.licensed,null)>-1:t.state.licensed},on:{change:function(e){var n=t.state.licensed,r=e.target,o=!!r.checked;if(Array.isArray(n)){var i=t._i(n,null);r.checked?i<0&&t.$set(t.state,"licensed",n.concat([null])):i>-1&&t.$set(t.state,"licensed",n.slice(0,i).concat(n.slice(i+1)))}else t.$set(t.state,"licensed",o)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_top"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v("Лицензирован")])])])]),t._v(" "),t.auth?[n("div",{staticClass:"search-filter__group"},[n("div",{staticClass:"search-filter__title"},[t._v("\n              Мои списки "),n("span",{staticClass:"text-muted text-hover small ml-5",on:{click:function(e){return t.selectAll("bookmarks")}}},[t._v("выделить все")])]),t._v(" "),n("div",{staticClass:"search-filter__content search-filter__checkbox-list"},t._l(t.list.bookmarks,function(e,r){return n("CheckboxWithExclude",{key:r,attrs:{state:t.state.bookmarks,value:r}},[t._v("\n                "+t._s(e)+"\n              ")])}),1)])]:t._e()],2)]),t._v(" "),n("div",{staticClass:"search-filter__buttons buttons-stretch"},[n("button",{staticClass:"button",attrs:{disabled:t.loading},on:{click:function(e){return t.resetFilter()}}},[t._v("\n        Сбросить\n      ")]),t._v(" "),n("button",{staticClass:"button button_green",attrs:{disabled:t.loading},on:{click:function(e){return t.applyFilter()}}},[t._v("\n        Показать\n      ")])])]),t._v(" "),n("div",{staticClass:"search-filter-layout search-filter-layout_hidden",class:{"is-visible":t.show.tags}},[n("div",{staticClass:"search-filter__head"},[n("div",{staticClass:"search-filter__head-title",on:{click:function(e){return t.toggleVisible("tags")}}},[n("i",{staticClass:"fa fa-arrow-left fa-fw small"}),t._v(" Теги\n      ")]),t._v(" "),n("span",{staticClass:"search-filter__reset text-hover text-muted",on:{click:function(e){return t.resetFilter("tags")}}},[t._v("сбросить")])]),t._v(" "),n("div",{staticClass:"search-filter-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.tags,expression:"filter.tags"}],staticClass:"search-filter-input__field form__input",attrs:{type:"text",placeholder:"Фильтр по тегам"},domProps:{value:t.filter.tags},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.clearInputFilter("tags")},input:function(e){e.target.composing||t.$set(t.filter,"tags",e.target.value)}}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.filter.tags.length,expression:"filter.tags.length"}],staticClass:"search-filter-input__clear",on:{click:function(e){return t.clearInputFilter("tags")}}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-close"}})])])]),t._v(" "),n("div",{staticClass:"search-filter__wrap"},[!t.filter.tags.length&&t.list.tags_popular.length?[n("div",{staticClass:"search-filter-list-title"},[t._v("\n          Популярные\n        ")]),t._v(" "),n("div",{staticClass:"search-filter__filters"},[n("div",{staticClass:"search-filter__checkbox-list"},t._l(t.list.tags_popular,function(e){return n("CheckboxWithExclude",{key:e.id,attrs:{state:t.state.tags,value:e.id}},[t._v("\n              "+t._s(e.name)+"\n              "),n("span",{staticClass:"text-muted small search-filter__counter"},[t._v(t._s(e.count))])])}),1)])]:t._e(),t._v(" "),n("div",{staticClass:"search-filter-list-title"},[t._v("\n        По алфавиту\n      ")]),t._v(" "),n("div",{staticClass:"search-filter__filters"},[n("div",{staticClass:"search-filter__checkbox-list"},t._l(t.filteredTags,function(e){return n("CheckboxWithExclude",{key:e.id,attrs:{state:t.state.tags,value:e.id}},[t._v("\n            "+t._s(e.name)+"\n          ")])}),1)])],2),t._v(" "),n("div",{staticClass:"search-filter__buttons buttons-stretch"},[n("button",{staticClass:"button",on:{click:function(e){t.toggleVisible("tags"),t.applyFilter()}}},[t._v("\n        Выбрать\n      ")])])]),t._v(" "),n("div",{staticClass:"search-filter-layout search-filter-layout_hidden",class:{"is-visible":t.show.genres}},[n("div",{staticClass:"search-filter__head"},[n("div",{staticClass:"search-filter__head-title",on:{click:function(e){return t.toggleVisible("genres")}}},[n("i",{staticClass:"fa fa-arrow-left fa-fw small"}),t._v(" Жанры\n      ")]),t._v(" "),n("span",{staticClass:"search-filter__reset text-hover text-muted",on:{click:function(e){return t.resetFilter("genres")}}},[t._v("сбросить")])]),t._v(" "),n("div",{staticClass:"search-filter-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.genres,expression:"filter.genres"}],staticClass:"search-filter-input__field form__input",attrs:{type:"text",placeholder:"Фильтр по жанрам"},domProps:{value:t.filter.genres},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.clearInputFilter("genres")},input:function(e){e.target.composing||t.$set(t.filter,"genres",e.target.value)}}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.filter.genres.length,expression:"filter.genres.length"}],staticClass:"search-filter-input__clear",on:{click:function(e){return t.clearInputFilter("genres")}}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-close"}})])])]),t._v(" "),n("div",{staticClass:"search-filter__wrap"},[t.filter.genres.length?t._e():[n("div",{staticClass:"search-filter-list-title"},[t._v("\n          Популярные\n        ")]),t._v(" "),n("div",{staticClass:"search-filter__filters"},[n("div",{staticClass:"search-filter__checkbox-list"},t._l(t.list.genres_popular,function(e){return n("CheckboxWithExclude",{key:e.id,attrs:{state:t.state.genres,value:e.id}},[t._v("\n              "+t._s(e.name)+"\n              "),n("span",{staticClass:"text-muted small search-filter__counter"},[t._v(t._s(e.count))])])}),1)])],t._v(" "),n("div",{staticClass:"search-filter-list-title"},[t._v("\n        По алфавиту\n      ")]),t._v(" "),n("div",{staticClass:"search-filter__filters"},[n("div",{staticClass:"search-filter__checkbox-list"},t._l(t.filteredGenres,function(e){return n("CheckboxWithExclude",{key:e.id,attrs:{state:t.state.genres,value:e.id}},[t._v("\n            "+t._s(e.name)+"\n          ")])}),1)])],2),t._v(" "),n("div",{staticClass:"search-filter__buttons buttons-stretch"},[n("button",{staticClass:"button",on:{click:function(e){t.toggleVisible("genres"),t.applyFilter()}}},[t._v("\n        Выбрать\n      ")])])]),t._v(" "),t.isHentai?n("div",{staticClass:"search-filter-layout search-filter-layout_hidden",class:{"is-visible":t.show.series}},[n("div",{staticClass:"search-filter__head"},[n("div",{staticClass:"search-filter__head-title",on:{click:function(e){return t.toggleVisible("series")}}},[n("i",{staticClass:"fa fa-arrow-left fa-fw small"}),t._v(" Серия\n      ")]),t._v(" "),n("span",{staticClass:"search-filter__reset text-hover text-muted",on:{click:function(e){return t.resetFilter("series")}}},[t._v("сбросить")])]),t._v(" "),n("div",{staticClass:"search-filter-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.series,expression:"filter.series"}],staticClass:"search-filter-input__field form__input",attrs:{type:"text",placeholder:"Поиск серии"},domProps:{value:t.filter.series},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.clearInputFilter("series")},input:function(e){e.target.composing||t.$set(t.filter,"series",e.target.value)}}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.filter.series.length,expression:"filter.series.length"}],staticClass:"search-filter-input__clear",on:{click:function(e){return t.clearInputFilter("series")}}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-close"}})])])]),t._v(" "),n("div",{staticClass:"search-filter__wrap"},[n("div",{staticClass:"search-filter__filters"},[n("div",{staticClass:"search-filter__checkbox-list"},t._l(t.filteredSeries,function(e){return n("label",{key:e.id,staticClass:"control search-filter__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.series,expression:"state.series"}],staticClass:"control__input",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.state.series)?t._i(t.state.series,e.id)>-1:t.state.series},on:{change:function(n){var r=t.state.series,o=n.target,i=!!o.checked;if(Array.isArray(r)){var a=e.id,s=t._i(r,a);o.checked?s<0&&t.$set(t.state,"series",r.concat([a])):s>-1&&t.$set(t.state,"series",r.slice(0,s).concat(r.slice(s+1)))}else t.$set(t.state,"series",i)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text"},[t._v(t._s(e.name))])])}),0)])]),t._v(" "),n("div",{staticClass:"search-filter__buttons buttons-stretch"},[n("button",{staticClass:"button",on:{click:function(e){t.toggleVisible("series"),t.applyFilter()}}},[t._v("\n        Выбрать\n      ")])])]):t._e()])},staticRenderFns:[]}},A2uy:function(t,e,n){var r=n("9mDF"),o=n("xDUa"),i=n("40wi"),a=function(t){return function(e,n,a){var s,c=r(e),u=o(c.length),l=i(a,u);if(t&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},A6BG:function(t,e,n){var r=n("mWhC"),o=n("hiy0"),i=function(t){return function(e,n){var i,a,s=String(o(e)),c=r(n),u=s.length;return c<0||c>=u?t?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):i:t?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},A703:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"media-chapter",class:{"media-chapter_new":t.chapter.isNew},attrs:{"data-volume":t.chapter.chapter_volume,"data-number":t.chapter.chapter_number,"data-is-read":t.chapter.isRead,"data-index":t.chapter.index,"data-teams":JSON.stringify(t.chapter.teams)}},[n("div",{staticClass:"media-chapter__icon media-chapter__icon_read",class:{"button_loading-inv":t.chapter.readLoading}},[n("i",{staticClass:"fa",class:{"fa-eye-slash":!t.chapter.isRead,"fa-eye":t.chapter.isRead}})]),t._v(" "),n("div",{staticClass:"media-chapter__body"},[n("div",{staticClass:"media-chapter__name text-truncate"},[n("chapter-link",{attrs:{"has-more-teams":t.hasMoreTeams,"chapter-link":t.chapterLink()}},[t._v("\n        Том "+t._s(t.chapter.chapter_volume)+" Глава "+t._s(t.chapter.chapter_number)+" "),t.chapter.chapter_name?[t._v("\n          "+t._s(t.chapter.chapter_name)+"\n        ")]:t._e()],2)],1),t._v(" "),n("div",{staticClass:"media-chapter__date"},[t._v("\n      "+t._s(t._f("date")(t.chapter.chapter_created_at))+"\n    ")]),t._v(" "),n("a",{staticClass:"media-chapter__username text-truncate",attrs:{href:"/user/"+t.chapter.chapter_user_id}},[n("i",{staticClass:"fa fa-user-o fa-fw"}),t._v("\n      "+t._s(t.chapter.username)+"\n    ")])]),t._v(" "),t.hasMoreTeams&&"all"===t.teamFilter?n("div",{staticClass:"media-chapter__icon media-chapter__icon_team",attrs:{"data-chapter-dropdown":"read"}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-translate"}})])]):t._e(),t._v(" "),t.auth?[t.hasMoreTeams&&"all"===t.teamFilter?n("div",{staticClass:"media-chapter__icon media-chapter__icon_edit",attrs:{"data-chapter-dropdown":"edit"}},[n("i",{staticClass:"fa fa-pencil fa-fw"})]):n("a",{staticClass:"media-chapter__icon media-chapter__icon_edit link-default tooltip",attrs:{href:t.chapterLink("edit"),"data-place":"left","aria-label":"Редактировать главу"}},[n("i",{staticClass:"fa fa-pencil fa-fw"})])]:t._e(),t._v(" "),t.chapter.close_cpapter?n("div",{staticClass:"chapter-item__icon"},[n("i",{staticClass:"fa fa-lock fa-fw"})]):t._e(),t._v(" "),t.hasMoreTeams&&"all"===t.teamFilter&&t.auth&&!t.chapter.close_cpapter?n("div",{staticClass:"media-chapter__icon media-chapter__icon_download",attrs:{"data-download-ref":t.chapter.chapter_volume+"-"+t.chapter.chapter_number,"data-chapter-dropdown":"download"}},[n("i",{staticClass:"fa fa-cloud-download fa-fw"})]):t.isManga&&!t.chapter.close_cpapter?n("div",{staticClass:"media-chapter__icon media-chapter__icon_download tooltip",attrs:{"data-place":"left","aria-label":"Скачать главу","data-download-chapter":t.chapter.chapter_id,"data-download-ref":t.chapter.chapter_volume+"-"+t.chapter.chapter_number}},[n("i",{staticClass:"fa fa-cloud-download fa-fw"})]):t._e()],2)},staticRenderFns:[]}},A7pH:function(t,e,n){"use strict";var r=n("0ZhK"),o=n.n(r),i=n("OvQW"),a=n.n(i),s=n("u5FJ"),c=n("Jaym");function u(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){l(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g={ALLOWED_TAGS:["b","s","i","u","blockquote","br","ul","li","ol"],ALLOWED_ATTR:[""],FORBID_TAGS:["style","class"],ALLOW_DATA_ATTR:!1};a.a.addHook("beforeSanitizeElements",function(t){return"SPAN"===t.nodeName&&("spoiler-title"===t.className&&(t.innerHTML="[spoiler=".concat(t.innerHTML,"]")),"spoiler-text"===t.className&&(t.innerHTML="".concat(t.innerHTML,"[/spoiler]"))),t}),o.a.prototype.spoiler=function(){var t=this.getSelectedText()||" ";return this.insertHTML("[spoiler=спойлер]".concat(t,"[/spoiler]")),this.focus(),this};var b=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=p(this,v(e).call(this,t,n)))._toolbar=n.toolbar||null,r._tags={italic:"i",bold:"b",strikethrough:"s",underline:"u",quote:"blockquote",orderedList:"ol",unorderedList:"ul"},r._actionMethods={quote:{add:"increaseQuoteLevel",remove:"decreaseQuoteLevel"},orderedList:{add:"makeOrderedList",remove:"removeList"},unorderedList:{add:"makeUnorderedList",remove:"removeList"},clear:"removeAllFormatting",spoiler:"spoiler",undo:"undo",redo:"redo"},r.bindEvents(),r}var n,r,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,o.a),n=e,(r=[{key:"bindEvents",value:function(){this._onToolbarClick=this.onToolbarClick.bind(this),Object(s.c)(this._toolbar,"click",this._onToolbarClick)}},{key:"onToolbarClick",value:function(t){t.preventDefault();var e,n=t.target.closest("[data-action]"),r=Object(s.f)(n,"data-action"),o=this._tags[r],i=this._actionMethods[r],a="remove";if(r){if(o)if(this.hasFormat(o)){var u=r.charAt(0).toUpperCase()+r.slice(1);e="remove".concat(u)}else e=r,a="add";i&&(e=Object(c.o)(i)?i:i[a]),e&&this[e]()}}},{key:"_wrapSpoilers",value:function(t,e){var n=/\[spoiler(=[^\]]*?)?\]([^[]*)\[\/spoiler\]/g,r="string"==typeof t?t:e;if(r&&r.match)for(;(r.match(n)||[]).length;)r=r.replace(n,function(t,e,n){return e?("="===e[0]&&(e=e.slice(1)),e=e.trim()):e="спойлер",n&&n.trim().length?(e=e.length?e:"спойлер",n=n.trim(),' <div class="comment__spoiler"><span class="spoiler-title">'.concat(e,'</span><span class="spoiler-text">').concat(n,"</span></div> ")):""});return r}},{key:"_removeEmptyBlocks",value:function(){for(var t=this._root,e=t.children,n=e.length;n--;){var r=e[n];if(r.textContent.trim().length)break;t.removeChild(r)}}},{key:"getParsedHTML",value:function(){var t=this.getHTML(),e=a.a.sanitize(t,g);return e=(e=this._wrapSpoilers(e,t)).replace(/<br>(?:<br>)+/g,"<br><br>")}},{key:"clearEditor",value:function(){this._root.innerHTML=""}},{key:"getTextContent",value:function(){var t=document.createElement("div");return t.innerHTML=this.getParsedHTML(),t.textContent.trim()}},{key:"contentLength",value:function(){return this.getTextContent().length}},{key:"isEmpty",value:function(){return!this.contentLength()}},{key:"destroy",value:function(){Object(s.b)(this._toolbar,"click",this._onToolbarClick),h(v(e.prototype),"destroy",this).call(this)}}])&&d(n.prototype,r),i&&d(n,i),e}(),y=function(t,e,n){var r,o=n._doc;return(r=t?a.a.sanitize(t,u({},g,{ALLOW_UNKNOWN_PROTOCOLS:!0,WHOLE_DOCUMENT:!1,RETURN_DOM:!0,RETURN_DOM_FRAGMENT:!0})):null)?o.importNode(r,!0):o.createDocumentFragment()};e.a=function(t,e){if(Object(s.j)(t)){var n=new b(t,u({},e,{sanitizeToDOMFragment:y}));return n.addEventListener("focus",function(t){var e=t.target;s.g.add(e,"is-dirty")}),n}}},A9mX:function(t,e,n){var r=n("pTUa");t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},AMIE:function(t,e,n){var r=n("l/2K"),o=n("9mDF"),i=n("A2uy").indexOf,a=n("Eb96");t.exports=function(t,e){var n,s=o(t),c=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;e.length>c;)r(s,n=e[c++])&&(~i(u,n)||u.push(n));return u}},ATG8:function(t,e,n){"use strict";var r=n("Mqyi"),o=n("u5FJ"),i={el:null,isShown:!1,hidePromise:null,show:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Загрузка...";this.el||this.init(),this.el.textContent=e,o.g.add(this.el,"page-preloader_enter","page-preloader_visible"),o.e.once(this.el,function(){t.isShown=!0,o.g.remove(t.el,"page-preloader_enter"),t.hidePromise&&t.hide()})},hide:function(){var t=this;if(!this.isShown)return this.hidePromise=!0;o.g.add(this.el,"page-preloader_leave"),o.e.once(this.el,function(){o.g.remove(t.el,"page-preloader_visible","page-preloader_leave"),t.isShown=!1,t.hidePromise=!1})},init:function(){this.el=Object(r.a)("div",{className:"page-preloader"}),document.body.appendChild(this.el)}};e.a=i},AZEo:function(t,e,n){var r=n("VU/8")(n("igvw"),n("J86R"),!1,null,null,null);t.exports=r.exports},AcyC:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"control"},[n("input",{staticClass:"control__input",attrs:{disabled:t.disabled,type:"checkbox"},domProps:{checked:t.isChecked},on:{change:t.onChange}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox",class:{control__indicator_lg:t.large}}),t._v(" "),t.$slots.default||t.label?n("span",{staticClass:"control__text"},[t._t("default",[t._v(t._s(t.label))])],2):t._e()])},staticRenderFns:[]}},"Ai/T":function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},B0gI:function(t,e,n){var r=n("VU/8")(n("qGuN"),n("lwBO"),!1,null,null,null);t.exports=r.exports},BHJ2:function(t,e,n){var r=n("VU/8")(n("by+k"),n("516i"),!1,null,null,null);t.exports=r.exports},BUAs:function(t,e,n){var r=n("i4ON"),o=n("tv3T"),i=n("0DSl"),a=n("bGc4"),s=n("HT7L"),c=n("ktak"),u=Object.prototype.hasOwnProperty,l=i(function(t,e){if(s(e)||a(e))o(e,c(e),t);else for(var n in e)u.call(e,n)&&r(t,n,e[n])});t.exports=l},BV6Q:function(t,e,n){"use strict";var r=n("O4Lo"),o=n.n(r),i=n("u5FJ");function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c={target:".tabs__item",active:".tabs__item_active",className:"tabs__line",onClick:!0},u=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=n=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},c,{},n),this.el=e,this.target=n.target,this.onClick=this.onClick.bind(this),this.onResize=o()(this.moveLine.bind(this),300),this.init()}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.active=Object(i.l)(this.options.active,this.el),this.bindEvent(),this.appendLine(),this.moveLine(),this.line.style.display="block"}},{key:"bindEvent",value:function(){this.options.onClick&&Object(i.c)(this.el,"click",this.onClick),Object(i.c)(window,"resize",this.onResize)}},{key:"appendLine",value:function(){var t=document.createElement("div");t.className=this.options.className,t.style.display="none",this.line=this.el.appendChild(t)}},{key:"onClick",value:function(t){this._update(t.target)}},{key:"_update",value:function(t){var e=t?t.closest(this.options.target):Object(i.l)(this.options.active,this.el);e&&(this.active=e,this.moveLine())}},{key:"moveLine",value:function(){var t=this;requestAnimationFrame(function(){if(t.active){var e=t.active.offsetWidth,n=t.active.offsetLeft;t.line.style.width="".concat(e,"px"),t.line.style.transform="translateX(".concat(n,"px)")}})}},{key:"destroy",value:function(){Object(i.b)(this.el,"click",this.onClick),Object(i.b)(window,"resize",this.onResize),this.el.removeChild(this.line)}}])&&s(e.prototype,n),r&&s(e,r),t}();e.a=u},Ba3q:function(t,e,n){var r=n("6kJs"),o=n("NGEn");t.exports=function(t,e,n,i){return null==t?[]:(o(e)||(e=null==e?[]:[e]),o(n=i?void 0:n)||(n=null==n?[]:[n]),r(t,e,n))}},Ba9a:function(t,e){},"C/Wh":function(t,e,n){var r=n("hcE8"),o=n("asqq");t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},C0hh:function(t,e){t.exports=function(){return[]}},C1ru:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"CD+t":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookmark-folder-create",class:[t.size&&"bookmark-folder-create_"+t.size]},[n("div",{staticClass:"bookmark-folder-create__icon",class:{"button_loading-inv":t.loading},on:{click:t.create}},[n("i",{staticClass:"fa fa-plus"})]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],staticClass:"bookmark-folder-create__input form__input",attrs:{type:"text",placeholder:"Создать новую вкладку"},domProps:{value:t.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.create(e)},input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])},staticRenderFns:[]}},CHen:function(t,e,n){var r=n("uCi2"),o=n("HAGj"),i=n("bIjD");t.exports=function(t,e,n){for(var a=-1,s=e.length,c={};++a<s;){var u=e[a],l=r(t,u);n(l,u)&&o(c,i(u,t),l)}return c}},CW5P:function(t,e,n){var r=n("T/bE"),o=n("duB3"),i=n("POb3");t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},Cjea:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n("w9Mt"),i=n.n(o),a=n("kvU2"),s=n.n(a),c=n("I3G/"),u=n.n(c),l=n("mtWM"),f=n.n(l),d=n("u5FJ"),p=n("Jaym"),h=n("tuWI"),v=n.n(h),m=n("ryCm"),g=n.n(m),b=n("lelv"),y=n.n(b),_=n("B0gI"),O=n.n(_),w=n("ZLZl");function x(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j=p.u.get("notifications",{mangaNameProp:"rus_name"}),C={};e.default=u.a.extend({components:{VNotificationItem:O.a,VLoader:v.a,VDropdown:g.a,VDropdownMenu:y.a},filters:{limit:function(t){return t>99?"99+":t}},data:function(){return{tabs:{all:{label:"Все",count:0},chapter:{label:"Главы",count:0},comments:{label:"Комментарии",count:0},message:{label:"Сообщения",count:0},friend:{label:"Заявки",count:0},other:{label:"Другое",count:0}},activeTab:"all",notifications:[],perPage:15,hasNextPage:!0,loading:!1,page:1,filter:"unread",settings:function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){k(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},j),animationName:"notification"}},mounted:function(){if(r=Object(d.l)(".notify__count_bell")){if(0===d.f.get(r,"data-counter",{parseNumbers:!0}))return;this.fetchNotifications(!0),this.$refs.body.addEventListener("scroll",this.onScroll,{passive:!0})}else this.hasNextPage=!1},methods:{fetchNotifications:function(t){var e=this;if(this.hasCache()&&C[this.activeTab].page>=this.page)return this.getFromCache();var n={page:this.page,type:this.activeTab,ajax:!0,getCounts:t};this.loading=!0,f.a.get("/notification",{params:n}).then(function(t){var n=t.data;n.counts&&Object(p.f)(n.counts,function(t,n){t>0&&!e.activeTab&&(e.activeTab=n),e.tabs[n].count=t}),1===e.page?e.notifications=n.notifications:e.notifications=e.notifications.concat(n.notifications),e.hasNextPage=n.hasNextPage,e.perPage=n.perPage,e.loading=!1,e.addToCache()})},removeNotification:function(t,e){var n=Object(p.e)(this.notifications,function(e){return e.id===t.id}),r=this.notifications[n];if(this.notifications.splice(n,1),this.tabs[this.activeTab].count=Math.max(0,this.tabs[this.activeTab].count-1),"all"===this.activeTab){var o=this._getNotificationType(r);this.tabs[o].count=Math.max(0,this.tabs[o].count-1)}this.updateCounter(1),this.removeFromCache(t.id),Object(w.a)(t.id,t.data.link,e)},beforeLeave:function(t){t.style.height="".concat(t.offsetHeight,"px")},markAllAsRead:function(){var t=this,e="Отметить всё как прочитанное?";if("all"!==this.activeTab&&(e='Отметить всё прочитанным из категории "'.concat(w.c[this.activeTab],'"?')),confirm(e)&&this.notifications.length&&!this.loading){var n=x(this.notifications),r=this.hasNextPage;"all"===this.activeTab?(Object(p.f)(this.tabs,function(t){t.count=0}),this.updateCounter(1/0)):(this.updateCounter(this.tabs[this.activeTab].count),this.tabs.all.count-=this.tabs[this.activeTab].count,this.tabs[this.activeTab].count=0),this.notifications=[],this.hasNextPage=!1,this.page=1,C={},f.a.post("/notification/read-all",{type:this.activeTab}).catch(function(e){console.error(e),t.notifications=n,t.hasNextPage=r})}},onScroll:function(t){if(!this.loading&&this.hasNextPage){var e=t.currentTarget,n=e.scrollHeight-2*e.offsetHeight;e.scrollTop>=n&&(this.page+=1,this.fetchNotifications())}},changeMangaName:function(t){p.u.update("notifications",{mangaNameProp:t}),this.settings.mangaNameProp=t},updateCounter:function(t){if(r&&r.textContent.trim()){var e=parseInt(r.textContent,10)-t;r.textContent=e,e<=0&&r.parentNode.removeChild(r)}},changeTab:function(t){var e=this;this.loading||(this.$refs.body.scrollTop=0,this.activeTab=t,this.animationName="none",this.getFromCache(),this.hasNextPage&&1===this.page&&!this.notifications.length&&this.fetchNotifications(),this.$nextTick(function(){return e.animationName="notification"}))},addToCache:function(){this.hasCache()||(C[this.activeTab]={items:[],page:1}),C[this.activeTab].items=s()(this.notifications),C[this.activeTab].page=this.page,"all"===this.activeTab&&p.u.update("noty",{cache:i()(C,"all"),tabs:this.tabs,date:Date.now()})},hasCache:function(){return this.activeTab in C},removeFromCache:function(t){var e=Object(p.e)(C.all.items,function(e){return e.id===t});C.all.items.splice(e,1),C=i()(C,"all"),p.u.update("noty",{cache:C,tabs:this.tabs})},getFromCache:function(){var t=this.tabs[this.activeTab];if(this.hasNextPage=!1,this.activeTab in C){var e=s()(C[this.activeTab].items);this.notifications=e,this.page=C[this.activeTab].page,e.length<t.count&&(this.hasNextPage=!0)}else this.notifications=[],this.page=1,t.count>0&&(this.hasNextPage=!0)},_getNotificationType:function(t){return/comment|forum/.test(t.type)?"comments":/firend/.test(t.type)?"friend":/message/.test(t.type)?"message":"chapter"===t.type?"chapter":"other"}}})},CkJp:function(t,e,n){var r=n("VU/8")(n("DLqf"),n("rInL"),!1,null,null,null);t.exports=r.exports},Cskv:function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},CwNI:function(t,e,n){n("vQY2");var r=n("flBj");t.exports=r("Array","findIndex")},CwSZ:function(t,e,n){"use strict";var r=n("p8xL"),o=n("XgCd"),i=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Array.isArray,c=Array.prototype.push,u=function(t,e){c.apply(t,s(e)?e:[e])},l=Date.prototype.toISOString,f=o.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:f,formatter:o.formatters[f],indices:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},p=function t(e,n,o,i,a,c,l,f,p,h,v,m,g){var b,y=e;if("function"==typeof l?y=l(n,y):y instanceof Date?y=h(y):"comma"===o&&s(y)&&(y=r.maybeMap(y,function(t){return t instanceof Date?h(t):t}).join(",")),null===y){if(i)return c&&!m?c(n,d.encoder,g,"key"):n;y=""}if("string"==typeof(b=y)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||r.isBuffer(y))return c?[v(m?n:c(n,d.encoder,g,"key"))+"="+v(c(y,d.encoder,g,"value"))]:[v(n)+"="+v(String(y))];var _,O=[];if(void 0===y)return O;if(s(l))_=l;else{var w=Object.keys(y);_=f?w.sort(f):w}for(var x=0;x<_.length;++x){var k=_[x],j=y[k];if(!a||null!==j){var C=s(y)?"function"==typeof o?o(n,k):n:n+(p?"."+k:"["+k+"]");u(O,t(j,C,o,i,a,c,l,f,p,h,v,m,g))}}return O};t.exports=function(t,e){var n,r=t,c=function(t){if(!t)return d;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||d.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==t.format){if(!i.call(o.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=o.formatters[n],a=d.filter;return("function"==typeof t.filter||s(t.filter))&&(a=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===t.allowDots?d.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:d.charsetSentinel,delimiter:void 0===t.delimiter?d.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:d.encode,encoder:"function"==typeof t.encoder?t.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:d.encodeValuesOnly,filter:a,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:d.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:d.strictNullHandling}}(e);"function"==typeof c.filter?r=(0,c.filter)("",r):s(c.filter)&&(n=c.filter);var l,f=[];if("object"!=typeof r||null===r)return"";l=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var h=a[l];n||(n=Object.keys(r)),c.sort&&n.sort(c.sort);for(var v=0;v<n.length;++v){var m=n[v];c.skipNulls&&null===r[m]||u(f,p(r[m],m,h,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var g=f.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),g.length>0?b+g:""}},CxPB:function(t,e,n){var r=n("wSKX");t.exports=function(t){return"function"==typeof t?t:r}},D6ie:function(t,e,n){var r=n("xA5w"),o=n("3znZ"),i=n("iRXW"),a=6048e5;t.exports=function(t){var e=r(t),n=o(e).getTime()-i(e).getTime();return Math.round(n/a)+1}},DDCP:function(t,e,n){"use strict";var r=n("p8xL"),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})},c=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},u=function(t,e,n,r){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(i),u=s?i.slice(0,s.index):i,l=[];if(u){if(!n.plainObjects&&o.call(Object.prototype,u)&&!n.allowPrototypes)return;l.push(u)}for(var f=0;n.depth>0&&null!==(s=a.exec(i))&&f<n.depth;){if(f+=1,!n.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+i.slice(s.index)+"]"),function(t,e,n,r){for(var o=r?e:c(e,n),i=t.length-1;i>=0;--i){var a,s=t[i];if("[]"===s&&n.parseArrays)a=[].concat(o);else{a=n.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(u,10);n.parseArrays||""!==u?!isNaN(l)&&s!==u&&String(l)===u&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=o:a[u]=o:a={0:o}}o=a}return o}(l,e,n,r)}};t.exports=function(t,e){var n=function(t){if(!t)return a;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?a.charset:t.charset;return{allowDots:void 0===t.allowDots?a.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:a.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:a.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:a.comma,decoder:"function"==typeof t.decoder?t.decoder:a.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:a.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:a.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:a.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:a.strictNullHandling}}(e);if(""===t||null===t||void 0===t)return n.plainObjects?Object.create(null):{};for(var l="string"==typeof t?function(t,e){var n,u={},l=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,f=e.parameterLimit===1/0?void 0:e.parameterLimit,d=l.split(e.delimiter,f),p=-1,h=e.charset;if(e.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[n]?h="utf-8":"utf8=%26%2310003%3B"===d[n]&&(h="iso-8859-1"),p=n,n=d.length);for(n=0;n<d.length;++n)if(n!==p){var v,m,g=d[n],b=g.indexOf("]="),y=-1===b?g.indexOf("="):b+1;-1===y?(v=e.decoder(g,a.decoder,h,"key"),m=e.strictNullHandling?null:""):(v=e.decoder(g.slice(0,y),a.decoder,h,"key"),m=r.maybeMap(c(g.slice(y+1),e),function(t){return e.decoder(t,a.decoder,h,"value")})),m&&e.interpretNumericEntities&&"iso-8859-1"===h&&(m=s(m)),g.indexOf("[]=")>-1&&(m=i(m)?[m]:m),o.call(u,v)?u[v]=r.combine(u[v],m):u[v]=m}return u}(t,n):t,f=n.plainObjects?Object.create(null):{},d=Object.keys(l),p=0;p<d.length;++p){var h=d[p],v=u(h,l[h],n,"string"==typeof t);f=r.merge(f,v,n)}return r.compact(f)}},DLqf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("qrdl"),o=n.n(r),i=n("I3G/"),a=n.n(i),s=n("+35/"),c=n.n(s);e.default=a.a.extend({components:{CreateBookmarkFolderInput:c.a},props:{folders:Array,showDeletionButton:Boolean,size:String,enableCreation:{type:Boolean,default:!0},onClick:{type:Function,default:o.a}},methods:{onMenuItemClick:function(t){this.onClick(t),this.$emit("selected",t)}}})},DaqH:function(t,e,n){var r=n("VU/8")(n("TmPq"),n("yLpN"),!1,null,null,null);t.exports=r.exports},Dc0G:function(t,e,n){(function(t){var r=n("blYT"),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(e,n("3IRH")(t))},Dv2r:function(t,e,n){var r=n("pTUa");t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},DxBg:function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},E4Hj:function(t,e){t.exports=function(t){return this.__data__.get(t)}},EC2Z:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toast"},[n("transition-group",{attrs:{tag:"div",name:"toast"},on:{"before-leave":t.leave}},t._l(t.items,function(e){return n("v-toast-item",{key:e.id,attrs:{item:e},on:{remove:t.remove}})}),1)],1)},staticRenderFns:[]}},EHRO:function(t,e,n){var r=n("NkRn"),o=n("qwTf"),i=n("22B7"),a=n("FhcP"),s=n("WFiI"),c=n("octw"),u=1,l=2,f="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Map]",v="[object Number]",m="[object RegExp]",g="[object Set]",b="[object String]",y="[object Symbol]",_="[object ArrayBuffer]",O="[object DataView]",w=r?r.prototype:void 0,x=w?w.valueOf:void 0;t.exports=function(t,e,n,r,w,k,j){switch(n){case O:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!k(new o(t),new o(e)));case f:case d:case v:return i(+t,+e);case p:return t.name==e.name&&t.message==e.message;case m:case b:return t==e+"";case h:var C=s;case g:var E=r&u;if(C||(C=c),t.size!=e.size&&!E)return!1;var P=j.get(t);if(P)return P==e;r|=l,j.set(t,e);var S=a(C(t),C(e),r,w,k,j);return j.delete(t),S;case y:if(x)return x.call(t)==x.call(e)}return!1}},EJk4:function(t,e,n){var r=n("hiy0");t.exports=function(t){return Object(r(t))}},EKta:function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=u(t),r=n[0],a=n[1],s=new i(function(t,e,n){return 3*(e+n)/4-n}(0,r,a)),c=0,l=a>0?r-4:r,f=0;f<l;f+=4)e=o[t.charCodeAt(f)]<<18|o[t.charCodeAt(f+1)]<<12|o[t.charCodeAt(f+2)]<<6|o[t.charCodeAt(f+3)],s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;2===a&&(e=o[t.charCodeAt(f)]<<2|o[t.charCodeAt(f+1)]>>4,s[c++]=255&e);1===a&&(e=o[t.charCodeAt(f)]<<10|o[t.charCodeAt(f+1)]<<4|o[t.charCodeAt(f+2)]>>2,s[c++]=e>>8&255,s[c++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(l(t,a,a+16383>s?s:a+16383));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var o,i,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},Eb96:function(t,e){t.exports={}},EdYQ:function(t,e){},En79:function(t,e,n){t.exports=n("SldL")},"Eoz/":function(t,e,n){var r=n("ymQ7"),o=n("D6ie"),i=n("zZbG"),a=n("xA5w"),s=n("dH3X"),c=n("uyaC");var u={M:function(t){return t.getMonth()+1},MM:function(t){return f(t.getMonth()+1,2)},Q:function(t){return Math.ceil((t.getMonth()+1)/3)},D:function(t){return t.getDate()},DD:function(t){return f(t.getDate(),2)},DDD:function(t){return r(t)},DDDD:function(t){return f(r(t),3)},d:function(t){return t.getDay()},E:function(t){return t.getDay()||7},W:function(t){return o(t)},WW:function(t){return f(o(t),2)},YY:function(t){return f(t.getFullYear(),4).substr(2)},YYYY:function(t){return f(t.getFullYear(),4)},GG:function(t){return String(i(t)).substr(2)},GGGG:function(t){return i(t)},H:function(t){return t.getHours()},HH:function(t){return f(t.getHours(),2)},h:function(t){var e=t.getHours();return 0===e?12:e>12?e%12:e},hh:function(t){return f(u.h(t),2)},m:function(t){return t.getMinutes()},mm:function(t){return f(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return f(t.getSeconds(),2)},S:function(t){return Math.floor(t.getMilliseconds()/100)},SS:function(t){return f(Math.floor(t.getMilliseconds()/10),2)},SSS:function(t){return f(t.getMilliseconds(),3)},Z:function(t){return l(t.getTimezoneOffset(),":")},ZZ:function(t){return l(t.getTimezoneOffset())},X:function(t){return Math.floor(t.getTime()/1e3)},x:function(t){return t.getTime()}};function l(t,e){e=e||"";var n=t>0?"-":"+",r=Math.abs(t),o=r%60;return n+f(Math.floor(r/60),2)+e+f(o,2)}function f(t,e){for(var n=Math.abs(t).toString();n.length<e;)n="0"+n;return n}t.exports=function(t,e,n){var r=e?String(e):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=(n||{}).locale,i=c.format.formatters,l=c.format.formattingTokensRegExp;o&&o.format&&o.format.formatters&&(i=o.format.formatters,o.format.formattingTokensRegExp&&(l=o.format.formattingTokensRegExp));var f=a(t);return s(f)?function(t,e,n){var r,o,i,a=t.match(n),s=a.length;for(r=0;r<s;r++)o=e[a[r]]||u[a[r]],a[r]=o||((i=a[r]).match(/\[[\s\S]/)?i.replace(/^\[|]$/g,""):i.replace(/\\/g,""));return function(t){for(var e="",n=0;n<s;n++)a[n]instanceof Function?e+=a[n](t,u):e+=a[n];return e}}(r,i,l)(f):"Invalid Date"}},EuP9:function(t,e,n){"use strict";(function(t){var r=n("EKta"),o=n("ujcs"),i=n("sOR5");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=d(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(e,n),o=(t=s(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):d(t,e);if("Buffer"===e.type&&i(e.data))return d(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function h(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:g(t,e,n,r,o);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,r,o){var i,a=1,s=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=n;i<s;i++)if(u(t,i)===u(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var f=!0,d=0;d<c;d++)if(u(t,i+d)!==u(e,d)){f=!1;break}if(f)return i}return-1}function b(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function y(t,e,n,r){return U(F(e,t.length-n),t,n,r)}function _(t,e,n,r){return U(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function O(t,e,n,r){return _(t,e,n,r)}function w(t,e,n,r){return U(H(e),t,n,r)}function x(t,e,n,r){return U(function(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function j(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,a,s,c,u=t[o],l=null,f=u>239?4:u>223?3:u>191?2:1;if(o+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(i=t[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=C));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return f(null,t)},c.allocUnsafeSlow=function(t){return f(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?j(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,n);case"utf8":case"utf-8":return j(this,e,n);case"ascii":return E(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,o){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var i=o-r,a=n-e,s=Math.min(i,a),u=this.slice(r,o),l=t.slice(e,n),f=0;f<s;++f)if(u[f]!==l[f]){i=u[f],a=l[f];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return y(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return O(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function E(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function S(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=B(t[i]);return o}function A(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function T(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,r,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function M(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function I(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(t,e,n,r,i){return i||I(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function q(t,e,n,r,i){return i||I(t,0,n,8),o.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var o=e-t;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},c.prototype.readUInt8=function(t,e){return e||T(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||T(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||T(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||T(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||T(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||T(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||T(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||T(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||T(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||T(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):M(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);N(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);N(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):M(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):M(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return q(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return q(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=c.isBuffer(t)?t:F(new c(t,r).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var R=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function H(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(R,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(e,n("DuR2"))},FCu8:function(t,e,n){var r=n("VU/8")(n("iLhm"),n("Skx/"),!1,null,null,null);t.exports=r.exports},FCuZ:function(t,e,n){var r=n("uIr7"),o=n("NGEn");t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},FNNP:function(t,e,n){"use strict";e.a={methods:{dispatch:function(t,e,n){for(var r=this.$parent||this.$root,o=r.$options.name;r&&(!o||o!==t);)(r=r.$parent)&&(o=r.$options.name);r&&r.$emit.apply(r,[e].concat(n))},broadcast:function(t,e,n){(function t(e,n,r){this.$children.forEach(function(o){o.$options.name===e?(o.$emit.apply(o,[n].concat(r)),o.$children&&o.$children.length&&t.apply(o,[e,n].concat([r]))):t.apply(o,[e,n].concat([r]))})}).call(this,t,e,n)}}}},"FZ+f":function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},FhcP:function(t,e,n){var r=n("7YkW"),o=n("2X2u"),i=n("dmQx"),a=1,s=2;t.exports=function(t,e,n,c,u,l){var f=n&a,d=t.length,p=e.length;if(d!=p&&!(f&&p>d))return!1;var h=l.get(t);if(h&&l.get(e))return h==e;var v=-1,m=!0,g=n&s?new r:void 0;for(l.set(t,e),l.set(e,t);++v<d;){var b=t[v],y=e[v];if(c)var _=f?c(y,b,v,e,t,l):c(b,y,v,t,e,l);if(void 0!==_){if(_)continue;m=!1;break}if(g){if(!o(e,function(t,e){if(!i(g,e)&&(b===t||u(b,t,n,c,l)))return g.push(e)})){m=!1;break}}else if(b!==y&&!u(b,y,n,c,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},Fkvj:function(t,e,n){var r=n("bJWQ"),o=n("PqYH"),i=n("i4ON"),a=n("jD7S"),s=n("py9u"),c=n("mKB/"),u=n("hrPF"),l=n("Nkkh"),f=n("1QDk"),d=n("MoMe"),p=n("xond"),h=n("gHOb"),v=n("UfSK"),m=n("5/Qr"),g=n("WQFf"),b=n("NGEn"),y=n("ggOT"),_=n("dwsC"),O=n("yCNF"),w=n("SGXn"),x=n("ktak"),k=1,j=2,C=4,E="[object Arguments]",P="[object Function]",S="[object GeneratorFunction]",A="[object Object]",T={};T[E]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[A]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[P]=T["[object WeakMap]"]=!1,t.exports=function t(e,n,N,L,M,I){var D,q=n&k,R=n&j,B=n&C;if(N&&(D=M?N(e,L,M,I):N(e)),void 0!==D)return D;if(!O(e))return e;var F=b(e);if(F){if(D=v(e),!q)return u(e,D)}else{var H=h(e),U=H==P||H==S;if(y(e))return c(e,q);if(H==A||H==E||U&&!M){if(D=R||U?{}:g(e),!q)return R?f(e,s(D,e)):l(e,a(D,e))}else{if(!T[H])return M?e:{};D=m(e,H,q)}}I||(I=new r);var z=I.get(e);if(z)return z;I.set(e,D),w(e)?e.forEach(function(r){D.add(t(r,n,N,r,e,I))}):_(e)&&e.forEach(function(r,o){D.set(o,t(r,n,N,o,e,I))});var W=B?R?p:d:R?keysIn:x,V=F?void 0:W(e);return o(V||e,function(r,o){V&&(r=e[o=r]),i(D,o,t(r,n,N,o,e,I))}),D}},Fp5l:function(t,e,n){var r=n("bGc4"),o=n("UnEC");t.exports=function(t){return o(t)&&r(t)}},Fwt4:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("qrdl"),o=n.n(r),i=n("iMIp"),a=n.n(i),s=n("O4Lo"),c=n.n(s),u=n("mtWM"),l=n.n(u),f=n("u5FJ"),d=n("Jaym"),p=n("Mqyi"),h=n("vrSs");function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g={minLength:2,onSelect:console.log,transformQuery:function(t){return t},renderItem:function(t){return Object(p.a)("div",{className:"autocomplete__item"},t.value)}},b=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,"_preventCursorMove",function(t){if((t.which||t.keyCode)===h.f.ARROW_UP){t.preventDefault();var e=t.target;void 0!==e.selectionStart&&(e.selectionEnd=e.selectionStart=e.value.length)}}),m(this,"_inputKeyUp",function(t){var e=t.which||t.keyCode;return e===h.f.ARROW_UP||e===h.f.ARROW_DOWN?n._itemHighlight(e,t):e===h.f.ENTER?n._onSelect(t):void n._onSearch(t)}),m(this,"_onSearch",function(t){var e=t.target,r=t.keyCode||t.which,o=e.value.trim();if("keyup"!==t.type||!t.ctrlKey||86!==r){if("paste"===t.type){var i=t.clipboardData||window.clipboardData;o=a()(i.getData("text")),t.stopPropagation()}o.length||n.clearSuggestions(),n.query!==o&&(n.query=o,o.length<n.options.minLength||(n.cancelRequest(),n.highlight=-1,n.toggleLoading(!0),n.requestSuggestions(o)))}}),m(this,"_suggestionClick",function(t,e){var r=Object(f.h)(e,n.suggestions);n.highlight=r,n._onSelect(t),t.preventDefault()}),m(this,"_toggleVisible",function(t){n.options.toggleVisibility&&("focus"===t.type?n.showSuggestions():n.hideSuggestions())}),m(this,"_renderItems",function(t){var e=document.createDocumentFragment();Object(d.f)(t,function(t,r){var o=n.options.renderItem(t);o.className+=" autocomplete__item",o.setAttribute("data-index",r),e.appendChild(o)}),n.items=t||[],n.clearSuggestions(),n.items.length||e.appendChild(n._renderEmptyData()),n.suggestions.appendChild(e)}),this.el=e.el,this.input=Object(f.l)(".autocomplete__input",this.el),this.suggestions=Object(f.l)(".autocomplete__suggestions",this.el),this.options=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){m(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},g,{},e),this.query="",this.highlight=-1,this.items=[],this.requestSuggestions=c()(this._requestSuggestions,900),this._bindEvents()}var e,n,r;return e=t,(n=[{key:"_bindEvents",value:function(){Object(f.c)(this.input,"keydown",this._preventCursorMove),Object(f.c)(this.input,"keyup",this._inputKeyUp),Object(f.c)(this.input,"paste",this._onSearch),Object(f.c)(this.input,"blur focus",this._toggleVisible),this.destroySuggestionItemClick=Object(f.a)(this.suggestions,"mousedown",".autocomplete__item",this._suggestionClick)}},{key:"_itemHighlight",value:function(t){var e,n=this.items.length-1,r=Object(f.l)(".".concat("is-active"),this.suggestions);if(t===h.f.ARROW_UP?(e=this.highlight-1)<=-1&&(e=n):(e=this.highlight+1)>n&&(e=0),this.highlight=e,r&&f.g.remove(r,"is-active"),-1!==this.highlight){r=this.suggestions.children[e],f.g.add(r,"is-active"),this.suggestions.scrollTop>r.offsetTop&&(this.suggestions.scrollTop=r.offsetTop);var o=r.offsetTop+r.offsetHeight;o>this.suggestions.scrollTop+this.suggestions.offsetHeight&&(this.suggestions.scrollTop=o-this.suggestions.offsetHeight)}}},{key:"_onSelect",value:function(t){-1!==this.highlight&&this.options.onSelect({event:t,el:this.suggestions.children[this.highlight],item:this.items[this.highlight],index:this.highlight})}},{key:"_requestSuggestions",value:function(t){var e=this,n=this.options.transformQuery(t);return l.a.get(this.options.requestUrl(n),{params:{q:n},cancelToken:new l.a.CancelToken(function(t){return e.cancel=t})}).then(function(t){return t.data}).then(this._renderItems).then(function(){return e.toggleLoading(!1)}).catch(o.a),this}},{key:"cancelRequest",value:function(){return this.cancel&&(this.cancel(),this.cancel=null),this}},{key:"toggleLoading",value:function(t){return f.g.toggle(this.el,"autocomplete_loading",t),this}},{key:"clearSuggestions",value:function(){for(;this.suggestions.firstChild;)this.suggestions.removeChild(this.suggestions.firstChild);return this}},{key:"hideSuggestions",value:function(){f.g.add(this.suggestions,"hidden")}},{key:"showSuggestions",value:function(){f.g.remove(this.suggestions,"hidden")}},{key:"_renderEmptyData",value:function(){return Object(p.a)("div",{className:"autocomplete__empty"},"Ничего не найдено")}},{key:"destroy",value:function(){this.destroySuggestionItemClick(),Object(f.b)(this.input,"keydown",this._preventCursorMove),Object(f.b)(this.input,"keyup",this._inputKeyUp),this.el=null,this.input=null,this.suggestions=null,this.options=null,this.items=null,this.requestSuggestion=null}}])&&v(e.prototype,n),r&&v(e,r),t}()},G0Wc:function(t,e,n){var r=n("yCNF"),o=n("HT7L"),i=n("8gK5"),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},G2xm:function(t,e){t.exports=function(t){return this.__data__.has(t)}},G7No:function(t,e,n){var r=n("xA5w");t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()-o.getTime()}},G8ar:function(t,e,n){var r=n("cdq7"),o=n("8++/"),i=n("i6nN");t.exports=function(t,e,n){return e==e?i(t,e,n):r(t,o,n)}},"GB3+":function(t,e,n){var r=n("1rEs").f,o=n("l/2K"),i=n("jAiL")("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},GI7G:function(t,e,n){var r=n("xA5w"),o=n("orNa"),i=n("NKE6");t.exports=function(t,e){var n=r(t),a=r(e),s=i(n,a),c=Math.abs(o(n,a));return n.setMonth(n.getMonth()-s*c),s*(c-(i(n,a)===-s))}},GPcm:function(t,e,n){"use strict";var r=n("A6BG").charAt,o=n("I1z2"),i=n("RxPu"),a=o.set,s=o.getterFor("String Iterator");i(String,"String",function(t){a(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})})},GVF3:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-comments",{attrs:{"current-order":t.currentOrder,loading:t.loading,"show-partials":t.showPartialComments},on:{"sort-changed":t.sortChanged,"show-all-comments":t.showAllComments},scopedSlots:t._u([{key:"footer-button",fn:function(){return[n("div",{staticClass:"comments__load-page"},[t.hasNextPage?n("button",{staticClass:"button button_block",class:{"button_loading-inv":t.pageLoading},attrs:{disabled:t.pageLoading},on:{click:t.nextPage}},[t._v("\n        Показать ещё комментарии\n      ")]):t._e()])]},proxy:!0}])})},staticRenderFns:[]}},GYc8:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),e.b=function(t){r&&(r.setItem("bookmarks",t),r.setItem("updatedAt",Date.now()))};var r,o=n("En79"),i=(n.n(o),n("22C0")),a=n.n(i);a.a.supports(a.a.INDEXEDDB)&&(r=a.a.createInstance({driver:a.a.INDEXEDDB,name:"bookmarks",storeName:"cache"}))},HAGj:function(t,e,n){var r=n("i4ON"),o=n("bIjD"),i=n("ZGh9"),a=n("yCNF"),s=n("Ubhr");t.exports=function(t,e,n,c){if(!a(t))return t;for(var u=-1,l=(e=o(e,t)).length,f=l-1,d=t;null!=d&&++u<l;){var p=s(e[u]),h=n;if(u!=f){var v=d[p];void 0===(h=c?c(v,p,d):void 0)&&(h=a(v)?v:i(e[u+1])?[]:{})}r(d,p,h),d=d[p]}return t}},HAas:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},HLWT:function(t,e,n){var r=n("jAiL"),o=n("43zn"),i=n("1rEs"),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),t.exports=function(t){s[a][t]=!0}},HN2V:function(t,e,n){var r=n("HbnZ"),o=n("0DSl")(function(t,e,n){r(t,e,n)});t.exports=o},HT7L:function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},HVdB:function(t,e,n){var r=n("r54x");t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},HbnZ:function(t,e,n){var r=n("bJWQ"),o=n("O1jc"),i=n("rpnb"),a=n("jMi8"),s=n("yCNF"),c=n("t8rQ"),u=n("MMop");t.exports=function t(e,n,l,f,d){e!==n&&i(n,function(i,c){if(d||(d=new r),s(i))a(e,n,c,l,t,f,d);else{var p=f?f(u(e,c),i,c+"",e,n,d):void 0;void 0===p&&(p=i),o(e,c,p)}},c)}},He3V:function(t,e,n){var r=n("q0qZ"),o=n("NGss"),i=n("C1ru"),a=n("9mDF"),s=n("whWw"),c=n("l/2K"),u=n("K6eN"),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},Hxdr:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},HyF7:function(t,e,n){var r=n("VU/8")(n("ItTP"),n("EC2Z"),!1,null,null,null);t.exports=r.exports},"I+QF":function(t,e){},"I/bN":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"modal__header"},[n("div",{staticClass:"modal__title"},[t._v("\n      Ознакомление с правилами\n    ")]),t._v(" "),n("app-dialog-close")],1),t._v(" "),n("div",{staticClass:"modal__body"},[t._m(0),t._v(" "),n("AppCheckbox",{model:{value:t.disableShow,callback:function(e){t.disableShow=e},expression:"disableShow"}},[t._v("\n      Я ознакомился(ась) с правилами\n    ")])],1),t._v(" "),n("div",{staticClass:"modal__footer"},[n("button",{staticClass:"button button_block",attrs:{disabled:!t.disableShow},on:{click:function(e){return t.$dialog.close()}}},[t._v("\n      Закрыть\n    ")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{"font-size":"16px"}},[this._v("\n      Во избежание дополнительных вопросов о причине отклонения мы просим ознакомиться с "),e("a",{attrs:{href:"/faq?section=8&answer=47",target:"_blank"}},[this._v("правилами")]),this._v(" добавления Руманги\n    ")])}]}},I1z2:function(t,e,n){var r,o,i,a=n("QYNq"),s=n("hcE8"),c=n("HAas"),u=n("asqq"),l=n("l/2K"),f=n("siPu"),d=n("Eb96"),p=s.WeakMap;if(a){var h=new p,v=h.get,m=h.has,g=h.set;r=function(t,e){return g.call(h,t,e),e},o=function(t){return v.call(h,t)||{}},i=function(t){return m.call(h,t)}}else{var b=f("state");d[b]=!0,r=function(t,e){return u(t,b,e),e},o=function(t){return l(t,b)?t[b]:{}},i=function(t){return l(t,b)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},ICSD:function(t,e,n){var r=n("ITwD"),o=n("mTAn");t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},IGcM:function(t,e,n){var r=n("bIjD"),o=n("1Yb9"),i=n("NGEn"),a=n("ZGh9"),s=n("Rh28"),c=n("Ubhr");t.exports=function(t,e,n){for(var u=-1,l=(e=r(e,t)).length,f=!1;++u<l;){var d=c(e[u]);if(!(f=null!=t&&n(t,d)))break;t=t[d]}return f||++u!=l?f:!!(l=null==t?0:t.length)&&s(l)&&a(d,l)&&(i(t)||o(t))}},ITwD:function(t,e,n){var r=n("gGqR"),o=n("eFps"),i=n("yCNF"),a=n("Ai/T"),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?d:s).test(a(t))}},IjNM:function(t,e,n){var r=n("VU/8")(n("zhVe"),n("VYv/"),!1,null,null,null);t.exports=r.exports},"Ilb/":function(t,e,n){var r=n("Kzd6");t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},ItTP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),o=n.n(r),i=n("3U/7"),a=n.n(i),s=n("Jaym"),c=n("7/oE");function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=0;e.default=o.a.extend({components:{VToastItem:a.a},mixins:[Object(c.a)()],data:function(){return{items:[]}},methods:{addItem:function(t){var e=this;t.closeable&&(t.timeout=0),requestAnimationFrame(function(){return e.items.push(function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){u(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},t,{id:++l}))})},remove:function(t){var e=Object(s.e)(this.items,function(e){return e.id===t});this.items.splice(e,1)},leave:function(t){t.style.height="".concat(t.offsetHeight,"px")}}})},IttV:function(t,e,n){var r=n("G8ar");t.exports=function(t,e){for(var n=-1,o=t.length;++n<o&&r(e,t[n],0)>-1;);return n}},"J+MW":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("u5FJ"),o=n("Jaym"),i=n("vrSs"),a=o.u.get("chat",{}),s=a&&a.settings;(s&&s.allPage&&s.inWindow&&!i.k||Object(r.l)("#chat"))&&new Promise(function(t){n.e(13).then(function(e){t(n("BXEb"))}.bind(null,n)).catch(n.oe)})},J86R:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"media-chapters"},[n("div",{staticClass:"paper"},[t.teams.length>1?n("div",{staticClass:"section-body"},[n("div",{staticClass:"media-section__title"},[t._v("\n        Переводчик\n      ")]),t._v(" "),n("div",{staticClass:"tags-scroller"},[n("div",{staticClass:"tag-item",class:{"tag-item_active":"all"===t.teamFilter},attrs:{"data-team":"all"},on:{click:function(e){return t.selectTeam("all")}}},[t._v("\n          Все\n        ")]),t._v(" "),t._l(t.teams,function(e){return n("div",{key:e.slug,staticClass:"tag-item",class:{"tag-item_active":e.slug===t.teamFilter},attrs:{"data-team":t.teams.slug},on:{click:function(n){return t.selectTeam(e.slug)}}},[t._v("\n          "+t._s(e.name)+"\n        ")])})],2)]):t._e(),t._v(" "),n("div",{staticClass:"section-body flex justify_between media-chapter-actions"},[n("div",{staticClass:"media-chapters-sort",attrs:{"data-sort":t.sort},on:{click:t.changeSort}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 113.144 90.311"}},[n("path",{staticClass:"media-chapters-sort__arr-left",attrs:{d:"M54.79 24.23L32.214 1.654l-.003-.003a5.686 5.686 0 00-.41-.371c-.066-.054-.135-.1-.202-.15-.08-.06-.159-.123-.242-.179-.08-.053-.164-.1-.246-.15-.076-.044-.15-.092-.228-.134-.084-.045-.17-.083-.256-.123-.081-.039-.161-.08-.244-.114-.084-.034-.169-.062-.254-.092-.089-.032-.177-.066-.268-.094-.084-.026-.17-.044-.256-.066-.093-.023-.185-.05-.28-.068-.098-.02-.198-.032-.298-.046-.082-.012-.163-.027-.247-.036a5.68 5.68 0 00-1.114 0c-.083.009-.164.024-.247.036-.1.014-.2.026-.299.046-.095.019-.186.045-.28.068-.085.022-.17.04-.255.066-.091.028-.18.062-.268.094-.085.03-.17.058-.254.092-.083.035-.163.075-.244.114-.086.04-.172.078-.256.123-.078.042-.152.09-.228.135-.082.049-.165.096-.246.15-.083.055-.162.117-.242.177-.067.05-.136.097-.202.15a5.63 5.63 0 00-.41.372l-.003.003L1.653 24.23a5.645 5.645 0 007.983 7.983L22.578 19.27v65.395a5.644 5.644 0 1011.288 0V19.271L46.81 32.213a5.645 5.645 0 007.982-7.982z"}}),t._v(" "),n("path",{staticClass:"media-chapters-sort__arr-right",attrs:{d:"M103.508 58.098L90.566 71.04V5.645a5.644 5.644 0 10-11.289 0V71.04L66.335 58.098a5.645 5.645 0 00-7.982 7.983L80.93 88.658l.004.003c.13.13.267.254.41.371.065.054.134.1.202.151.08.06.158.122.242.178.08.054.163.1.246.15.076.045.15.092.227.134.084.045.17.083.257.123.08.039.16.08.244.114.083.034.168.062.253.092.09.032.177.066.268.094.085.026.17.044.256.066.093.023.185.05.28.068.1.02.2.031.299.046.082.011.163.027.247.035.37.037.743.037 1.114 0 .083-.008.164-.024.247-.035.1-.015.2-.026.299-.046.094-.019.186-.045.279-.069.086-.02.172-.04.256-.065.091-.028.18-.062.268-.094.085-.03.17-.058.253-.093.084-.034.163-.075.244-.113.086-.04.173-.078.257-.124.078-.041.151-.089.227-.134.082-.049.166-.096.246-.15.084-.055.162-.117.242-.177.067-.05.136-.097.202-.151.142-.116.278-.239.408-.368l.006-.006L111.49 66.08a5.645 5.645 0 00-7.982-7.982z"}})])]),t._v(" "),t._m(0)])]),t._v(" "),t.sortedChapters.length?[t.chaptersOutputFrequency?n("div",{staticClass:"px-10 pt-10 text-center text-muted media-chapters-timer"},[n("span",[t._v("Примерный выход глав раз в "+t._s(t.chaptersOutputFrequency)+" дн.")]),t._v(" "),t.chaptersOutputFrequencyQuestion?n("div",{staticClass:"media-chapters-timer__q text-center"},[n("span",{on:{click:t.showAnswerDialog}},[t._v("почему нет главы?")])]):n("span",{staticClass:"media-chapters-timer__q-icon",on:{click:t.showAnswerDialog}},[n("i",{staticClass:"fa fa-question-circle"})])]):t._e(),t._v(" "),n("div",{staticClass:"section-body media-chapters-list"},[t._l(t.sortedChapters,function(e){return n("app-chapter-item",{key:e.chapter_id,attrs:{chapter:e,"team-filter":t.teamFilter,auth:t.auth,"is-manga":t.isManga}})}),t._v(" "),!t.showAll&&t.chapters.length>30?n("button",{staticClass:"button button_block mt-10",on:{click:function(e){t.showAll=!t.showAll}}},[t._v("\n        Показать все главы\n      ")]):t._e()],2)]:n("div",{staticClass:"empty"},["all"!==t.selectTeam?[t._v("\n      По текущему фильтру нет глав\n    ")]:[t._v("\n      Тут пока нет глав\n    ")]],2)],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media-chapters-anchor text-muted",attrs:{tabindex:"-1","data-open-modal":"#chapter-volumes-list"}},[e("span",[this._v("перейти к тому")])])}]}},JBvZ:function(t,e,n){var r=n("imBK");t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},JJmi:function(t,e){},JURy:function(t,e,n){var r=n("xA5w");t.exports=function(t){var e=r(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}},Jaym:function(t,e,n){"use strict";var r=n("ooSW");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;requestAnimationFrame(function(){return setTimeout(t,e)})}var i=n("mw3O"),a=n.n(i);function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.search,e=t.slice(t.indexOf("?")+1);return a.a.parse(e,{arrayFormat:"bracket"})}var c={};function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"_token";if(c[t])return c[t];var e=document.querySelector('meta[name="'.concat(t,'"]'));return e&&(c[t]=e.getAttribute("content")),c[t]}function l(t){for(var e in t)return!1;return!0}var f=n("NGEn"),d=n.n(f),p=n("HN2V"),h=n.n(p),v=n("9UkZ"),m=n.n(v),g=n("yCNF"),b=n.n(g);function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var O={supported:function(){try{return localStorage.setItem("_test","_test"),localStorage.removeItem("_test"),!0}catch(t){return console.error("local storage not supported"),!1}}(),save:function(t,e){requestAnimationFrame(function(){if(b()(e))try{localStorage[t]=JSON.stringify(e)}catch(t){console.error(t)}else localStorage[t]=e})},get:function(t,e){if(localStorage[t])try{var n=JSON.parse(localStorage[t]);return _(n)!==_(e)?e:m()(n)?h()(e,n):n||e}catch(e){console.error(e),localStorage.removeItem(t)}return e},has:function(t){if("string"==typeof t&&this.supported)return t in localStorage},update:function(t,e){var n=d()(e),r=n?[]:{},o=this.get(t,r);m()(e)&&(e=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){y(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},o,{},e)),n&&(e=o.concat(e)),this.save(t,e)}};function w(t,e){var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(e(t[r],r,t));return n}function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var k=function(t){return"string"==typeof t},j=function(t){return"number"==typeof t},C=function(t){return"boolean"==typeof t},E=function(t){return"function"==typeof t},P=function(t){return void 0===t},S=function(t){return null===t},A=function(t){return null!==t&&"object"===x(t)},T=Array.isArray,N=n("u5FJ");function L(t,e){if(t&&e)if(T(t)||Object(N.k)(t))for(var n=0,r=t.length;n<r;n++)e(t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e(t[o],o,t)}function M(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var I=function t(e,n,r,o,i,a){var s=n(i),c=n(a);return s===c?r&&r.length>o?t(e,r[o],r,o+1,i,a):0:s<c?-e:null==s?1:null==c?-1:e},D=function(t){return t},q=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;if(!Array.isArray(e))return e;var r=Array.isArray(n)?I.bind(void 0,t,n.shift(),n,0):I.bind(void 0,t,n,void 0,0);return e.sort(r)};function R(t,e,n){return q("asc"===e?1:-1,M(t),n)}function B(t,e){if(!Array.isArray(t))throw new Error("First argument must be array");for(var n={},r=0,o=t.length;r<o;r++){var i=t[r],a=i[e];n[a]||(n[a]=[]),n[a].push(i)}return n}function F(t,e){for(var n={},r=t.length;r--;){var o=t[r];n[o[e]]=o}return n}function H(t,e,n,r){var o=Math.abs(t);return(o%=100)>=5&&o<=20?r:1===(o%=10)?e:o>=2&&o<=4?n:r}function U(t,e){var n={};return L(e,function(e){null!=t[e]&&(n[e]=t[e])}),n}function z(t,e,n){if(t&&e&&n){for(var r={},o=0,i=t.length;o<i;o++){var a=t[o];r[a[e]]=a[n]}return r}}function W(t){return new Promise(function(e){setTimeout(e,t)})}var V=function(t,e,n,r){if(!Array.isArray(t))throw new TypeError("First argument must be array");var o=t.length;if(n||(n=t),0===o)return r?-1:null;if("function"!=typeof e)throw new TypeError("".concat(e," must be a function"));for(var i=0;i<o;i++)if(e.call(n,t[i],i,t))return r?i:t[i];return r?-1:null},G=function(t,e,n){return V(t,e,n,!0)},$={get:function(t,e){var n=window.__DATA__||{};return t?n[t]?n[t]:e:n},set:function(t,e){var n=window.__DATA__||{};n[t]=e,window.__DATA__=n}};n.d(e,"b",function(){return Y}),n.d(e,"a",function(){return r.a}),n.d(e,"c",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return u}),n.d(e,"l",function(){return l}),n.d(e,"u",function(){return O}),n.d(e,!1,function(){return w}),n.d(e,"f",function(){return L}),n.d(e,"q",function(){return R}),n.d(e,"i",function(){return B}),n.d(e,!1,function(){return F}),n.d(e,"t",function(){return H}),n.d(e,!1,function(){return U}),n.d(e,"s",function(){return z}),n.d(e,!1,function(){return W}),n.d(e,"d",function(){return V}),n.d(e,"e",function(){return G}),n.d(e,"r",function(){return $}),n.d(e,"j",function(){return T}),n.d(e,"k",function(){return C}),n.d(e,!1,function(){return S}),n.d(e,"m",function(){return j}),n.d(e,"n",function(){return A}),n.d(e,"o",function(){return k}),n.d(e,"p",function(){return P}),n.d(e,!1,function(){return E});var Y=new r.a},JnrT:function(t,e,n){var r,o,i,a;a=function(t,e){"use strict";var n,r,o="function"==typeof Map?new Map:(n=[],r=[],{has:function(t){return n.indexOf(t)>-1},get:function(t){return r[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),r.push(e))},delete:function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),r.splice(e,1))}}),i=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){i=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function a(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!o.has(t)){var e,n=null,r=null,a=null,s=function(){t.clientWidth!==r&&f()},c=function(e){window.removeEventListener("resize",s,!1),t.removeEventListener("input",f,!1),t.removeEventListener("keyup",f,!1),t.removeEventListener("autosize:destroy",c,!1),t.removeEventListener("autosize:update",f,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),o.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",c,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",f,!1),window.addEventListener("resize",s,!1),t.addEventListener("input",f,!1),t.addEventListener("autosize:update",f,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",o.set(t,{destroy:c,update:f}),"vertical"===(e=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),n="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(n)&&(n=0),f()}function u(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function l(){if(0!==t.scrollHeight){var e=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),o=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+n+"px",r=t.clientWidth,e.forEach(function(t){t.node.scrollTop=t.scrollTop}),o&&(document.documentElement.scrollTop=o)}}function f(){l();var e=Math.round(parseFloat(t.style.height)),n=window.getComputedStyle(t,null),r="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):t.offsetHeight;if(r<e?"hidden"===n.overflowY&&(u("scroll"),l(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==n.overflowY&&(u("hidden"),l(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),a!==r){a=r;var o=i("autosize:resized");try{t.dispatchEvent(o)}catch(t){}}}}function s(t){var e=o.get(t);e&&e.destroy()}function c(t){var e=o.get(t);e&&e.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(t){return t}).destroy=function(t){return t},u.update=function(t){return t}):((u=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return a(t)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],s),t},u.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],c),t}),e.default=u,t.exports=e.default},o=[t,e],void 0===(i="function"==typeof(r=a)?r.apply(e,o):r)||(t.exports=i)},JyYQ:function(t,e,n){var r=n("d+aQ"),o=n("eKBv"),i=n("wSKX"),a=n("NGEn"),s=n("iL3P");t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):s(t)}},K6eN:function(t,e,n){var r=n("q0qZ"),o=n("r54x"),i=n("P1fK");t.exports=!r&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},KF7L:function(t,e,n){var r=n("SJLv");t.exports=function(){var t=["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],e=["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],n=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],o=["вс","пн","вт","ср","чт","пт","сб"],i=["вск","пнд","втр","срд","чтв","птн","суб"],a=["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],s=["ночи","утра","дня","вечера"],c={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return o[t.getDay()]},ddd:function(t){return i[t.getDay()]},dddd:function(t){return a[t.getDay()]},A:function(t){var e=t.getHours();return e>=17?s[3]:e>=12?s[2]:e>=4?s[1]:s[0]},Do:function(t,e){return e.D(t)+"-е"},Wo:function(t,e){return e.W(t)+"-я"}};return c.a=c.A,c.aa=c.A,["M","DDD","d","Q"].forEach(function(t){c[t+"o"]=function(e,n){return n[t](e)+"-й"}}),["D","Do","DD"].forEach(function(t){c[t+" MMMM"]=function(e,r){return(c[t]||r[t])(e,r)+" "+n[e.getMonth()]}}),{formatters:c,formattingTokensRegExp:r(c)}}},KGqH:function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[i,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),l="(?:"+[i+r+"?",r,a,s,n].join("|")+")",f=RegExp(o+"(?="+o+")|"+l+u,"g");t.exports=function(t){return t.match(f)||[]}},KO5a:function(t,e,n){"use strict";var r,o=n("u5FJ"),i=n("Jaym"),a=n("oV6p"),s=n.n(a);var c=n("En79"),u=n.n(c),l=n("mtWM"),f=n.n(l),d=n("iSNJ"),p=n("Mqyi");function h(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function v(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var m=function(){return Object(p.a)("div",{className:"dots"},Object(p.a)("div",{className:"dot"}),Object(p.a)("div",{className:"dot"}),Object(p.a)("div",{className:"dot"}))},g=function(t){var e,n,r=function(t){t.summary.length>220&&(t.summary="".concat(t.summary.slice(0,220)," [...]")),t.rate_avg||(t.rate_avg=0),t.releaseDate||(t.releaseDate="неизвестно"),t.rating=[];for(var e=5;e>0;e--){var n=Math.ceil(parseFloat(t.rate_avg))===e;t.rating.push({current:n})}return t.caution>0?t.caution=t.caution>1?"18+":"16+":t.caution=!1,t}(t),o=r.categories,i=r.authors,a=r.tags,s=v(r,["categories","authors","tags"]);return o&&o.length&&(e=Object(p.a)("div",{className:"manga-item-info__row"},Object(p.a)("strong",null,"Жанры"),o.map(function(t){return Object(p.a)("span",null,t.name)}))),a&&a.length&&(n=Object(p.a)("div",{className:"manga-item-info__row"},Object(p.a)("strong",null,"Теги"),a.map(function(t){return Object(p.a)("span",null,t.name)}))),Object(p.a)("div",{className:"manga-item-info__inner"},Object(p.a)("div",{className:"manga-item-info__header"},s.caution&&Object(p.a)("div",{className:"manga-item-info__pg"},s.caution),Object(p.a)("h3",null,s.name),Object(p.a)("h5",null,s.rus_name||s.eng_name)),Object(p.a)("div",{className:"manga-item-info__description",dangerouslySetInnerHTML:s.summary}),Object(p.a)("div",{className:"manga-item-info__rows"},Object(p.a)("div",{className:"manga-item-info__row"},Object(p.a)("strong",null,"Дата релиза:"),Object(p.a)("span",null,s.releaseDate)),Object(p.a)("div",{className:"manga-item-info__row"},Object(p.a)("strong",null,"Автор:"),i&&i.map(function(t){return Object(p.a)("span",null,t.name)})),e,n),Object(p.a)("div",{className:"manga-item-info__rating"},Object(p.a)("div",{class:"manga-item-info__stars rating"},s.rating.map(function(t){return Object(p.a)("div",{className:"rating__star","data-current":t.current},Object(p.a)("svg",{dangerouslySetInnerHTML:'<use xlink:href="#icon-star"></use>'}))})),Object(p.a)("div",{className:"manga-item-info__rating-count"},s.rate_avg)))};function b(t){Object(d.b)(t,{content:function(){return document.createElement("div")},placement:"right-start",animation:"shift-away",target:"[data-media-id]",theme:"item-info",offset:[0,16],delay:[300,300],onTrigger:function(t){t._isLoading||t.setContent(m())},onShown:function(){var t,e=(t=u.a.mark(function t(e){var n,r,i,a,s;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.reference,r=Object(o.f)(n,"data-media-id"),i=Object(o.f)(n,"data-media-slug"),!e._isLoading){t.next=5;break}return t.abrupt("return");case 5:return e._isLoading=!0,t.prev=6,t.next=9,f.a.get("/manga-short-info",{params:{id:r,slug:i}});case 9:a=t.sent,s=a.data,e.setContent(g(s)),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(6),console.error(t.t0),e._isLoading=!1;case 18:case"end":return t.stop()}},t,null,[[6,14]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){h(i,r,o,a,s,"next",t)}function s(t){h(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}()})}e.b=function(t){y?function(t){Object(o.a)(t,"click","[data-media-id]",function(t){t.preventDefault();var e=Object(o.f)(this,"data-media-id"),n=Object(o.f)(this,"data-media-slug");r||(r=new s.a),r.show(e,n)})}(t):b(t)},e.a=function(t){if(!y){t=Object(i.o)(t)?Object(o.l)(t):t;var e=Object(o.m)("[data-manga-id]",t);Object(i.f)(e,function(t){t._tippy&&(t._tippy.destroy(),o.f.remove(t,"data-loading"))})}};var y=o.g.has(document.body,"page_mobile")},KZyg:function(t,e,n){var r=n("VU/8")(n("o51f"),n("rr1Y"),!1,null,null,null);t.exports=r.exports},Kbrx:function(t,e,n){var r=n("jAiL")("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},Kcyw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Jaym");e.default={functional:!0,props:{metadata:Object,type:String,mediaNameProp:String},render:function(t,e){var n=e.props,o=n.metadata,i=n.type,a=n.mediaNameProp,s="",c=[];if(o.manga&&(s=o.manga[a]||o.manga.name),"subscription"===i&&("series"===o.subscription_type&&c.push("В серию на которую вы подписаны ",t("b",o.serie.name),t("br"),"Добавлен новый тайтл "),"team"===o.subscription_type&&c.push("Команда ",t("b",o.team.name),t("br"),"Добавлена в тайтл "),"people"===o.subscription_type&&c.push("Персона ",t("b",o.people.name)," была добавлена в тайтл "),c.push(t("b",s))),"chapter"===i){if(o.chaptersCount&&!o.chapter){var u=Object(r.t)(o.chaptersCount,"новая","новых","новых"),l=Object(r.t)(o.chaptersCount,"глава","главы","глав");c.push("Добавлено ",t("strong",o.chaptersCount)," ".concat(u," ").concat(l))}else{var f="Добавлена новая Глава ".concat(o.chapter.number);o.chapter.name&&(f+=": ".concat(o.chapter.name)),c.push(f)}c.push(t("br"),"В тайтле ",t("b",s))}return"manga"===i&&c.push("Добавлен новый тайтл ",t("b",s)),"manga_deny"===i&&(c.push("Модератор отклонил ваш тайтл ",t("b",s)),o.message&&c.push(t("br"),"Причина: ".concat(o.message))),"manga_accept"===i&&c.push("Модератор принял ваш тайтл ",t("b",s)),"manga_changes_accept"===i&&c.push("Модератор принял ваши изменения в ",t("b",s)),"manga_changes_deny"===i&&c.push("Модератор отклонил ваши изменения в ",t("b",s)),"chapter_accept"===i&&c.push("Модератор принял вашу главу в тайтле ",t("b",s)),"chapter_deny"===i&&c.push("Модератор отклонил вашу главу в тайтле ",t("b",s)),"forum_post"===i&&c.push("Оставил новое сообщение в теме ",t("b",o.discussion.title)),"comment"===i&&c.push("Ответил на ваш комментарий"),"post_comment"===i&&c.push("Оставил новый комментарий к новости"),"manga_comment"===i&&c.push("Оставил новый комментарий в добаленном вами тайтле"),"chapter_comment"===i&&c.push("Оставил новый комментарий к добавленной вами главе"),"message"===i&&c.push("Прислал новое сообщение"),"repmessage"===i&&c.push("Ответил на ваше сообщение"),"friend_request"===i&&c.push("Хочет добавить вас в друзья"),"friend_accept"===i&&c.push("Принял ваш запрос на добавление в друзья"),"friend_deny"===i&&c.push("Отклонил ваш запрос на добавление в друзья"),"manga_destroy"===i&&c.push("Тайтл ",t("b",s)," был удалён с сайта. ",t("br"),"Причина: ",o.reason_text),t("div",{staticClass:"notification-item__body"},c)}}},"KfN+":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comments-settings"},[n("div",{staticClass:"modal__header"},[n("div",{staticClass:"modal__title"},[t._v("\n      Настройки комментариев\n    ")]),t._v(" "),n("app-dialog-close")],1),t._v(" "),n("div",{staticClass:"modal__body"},[n("div",{staticClass:"comments-settings-item"},[n("app-checkbox",{model:{value:t.settings.disable.reader,callback:function(e){t.$set(t.settings.disable,"reader",e)},expression:"settings.disable.reader"}},[t._v("\n        Отключить комментарии "),n("b",[t._v("в читалке")])])],1),t._v(" "),n("div",{staticClass:"comments-settings-item"},[n("app-checkbox",{model:{value:t.settings.disable.media,callback:function(e){t.$set(t.settings.disable,"media",e)},expression:"settings.disable.media"}},[t._v("\n        Отключить комментарии на "),n("b",[t._v("странице тайтла")])])],1),t._v(" "),n("div",{staticClass:"comments-settings-level comments-settings-item"},[n("div",{staticClass:"comments-settings-level__text"},[t._v("\n        Сворачивать вложенные комментарии\n        "),n("b",[t._v("с "+t._s(t.settings.level)+" ур.")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.level,expression:"settings.level"}],staticClass:"comments-settings-level__range",attrs:{type:"range",min:"1",max:"10",step:"1"},domProps:{value:t.settings.level},on:{__r:function(e){return t.$set(t.settings,"level",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"alert alert_info alert_sm small"},[t._v("\n      Обновите страницу, чтобы изменения вступили в силу\n    ")])])])},staticRenderFns:[]}},KgVm:function(t,e,n){var r=n("cdq7"),o=n("JyYQ"),i=n("5Zxu"),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var c=null==n?0:i(n);return c<0&&(c=a(s+c,0)),r(t,o(e,3),c)}},Kip4:function(t,e,n){"use strict";var r=n("En79"),o=n.n(r),i=n("qrdl"),a=n.n(i),s=n("mtWM"),c=n.n(s),u=(n("oG8a"),n("jywo"));function l(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.a={props:{dataPresets:{type:Object,default:function(){return{}}},folders:Array,onSelected:{type:Function,default:a.a},onChanged:{type:Function,default:a.a},onCreated:{type:Function,default:a.a}},data:function(){return{foldersList:this.folders,status:this.dataPresets.status,mangaId:this.dataPresets.mangaId,mangaSlug:this.dataPresets.mangaSlug,loading:!1}},created:function(){this.foldersList||(this.foldersList=f(window.__BOOKMARK_FOLDERS__))},computed:{filteredFolders:function(){var t=this;return this.status?this.foldersList.filter(function(e){return e.id!=t.status}):this.foldersList},showDeletionButton:function(){return null!=this.status}},methods:{changeStatus:function(){var t,e=(t=o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loading){t.next=2;break}return t.abrupt("return");case 2:return this.onSelected(e),n="",e.id?this.status?(n="/change-status",r={status:e.id,ids:[this.mangaId]}):r={manga_id:this.mangaId,media_slug:this.mangaSlug,status:e.id}:(n="/destroy",r={ids:[this.mangaId]}),this.loading=!0,t.prev=6,t.next=9,c.a.post("/bookmark".concat(n),r);case 9:this.$toast.confirm("Изменения сохранены"),this.status=e.id,u.a.emit(u.b.resetCacheTime),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),this.$toast.alert("Произошла ошибка при изменении закладок");case 17:this.onChanged(e),this.loading=!1;case 19:case"end":return t.stop()}},t,this,[[6,14]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}(),folderCreated:function(t){this.foldersList.push(t),this.onCreated(t)}}}},Kl7s:function(t,e){t.exports=function(t){return function(e){return null==t?void 0:t[e]}}},KmWZ:function(t,e,n){var r=n("duB3");t.exports=function(){this.__data__=new r,this.size=0}},Kzd6:function(t,e,n){var r=n("qwTf");t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},L8xD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={inject:["Menu"],methods:{handleClick:function(){this.Menu.closeOnSelect&&(this.Menu.isActive=!1)}}}},LQly:function(t,e,n){"use strict";var r=n("u5FJ");e.a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"button_loading";r.g.toggle(t,n,e),"BUTTON"===t.tagName&&(t.disabled=e)}},Lb8E:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"dropdown"}},[this.Menu.isActive?e("div",{staticClass:"dropdown-menu",class:[this.Menu.direction&&"dropdown-menu-"+this.Menu.direction],on:{click:this.handleClick}},[this._t("default")],2):this._e()])},staticRenderFns:[]}},LiUp:function(t,e,n){"use strict";n.d(e,"d",function(){return w}),e.a=x,e.c=function(){var t=m()(w.filter);Object(O.f)(t,function(e,n){h()(e)&&Object(O.f)(e,function(e,r){(!e||d()(e)&&l()(e))&&delete t[n][r]}),(!e||d()(e)&&l()(e))&&delete t[n]});var e=_.a.stringify(t,{arrayFormat:"brackets",encode:!1});return{object:t,string:e}},e.b=function(){var t={sort:"rate",dir:"desc",page:1,year:{min:"",max:""},rating:{min:"",max:""},chapters:{min:"",max:""},long_no_translation:!1,licensed:!1,name:"",caution:[],status:[],manga_status:[],types:[],series:[],bookmarks:{include:[],exclude:[]},format:{include:[],exclude:[]},tags:{include:[],exclude:[]},genres:{include:[],exclude:[]}};w.filter=c()(t,a()(Object(O.g)(),o()(t)),window.__LIST_INIT__)};var r=n("ktak"),o=n.n(r),i=n("w9Mt"),a=n.n(i),s=n("HN2V"),c=n.n(s),u=n("lHK6"),l=n.n(u),f=n("yCNF"),d=n.n(f),p=n("9UkZ"),h=n.n(p),v=n("kvU2"),m=n.n(v),g=n("I3G/"),b=n.n(g),y=n("mw3O"),_=n.n(y),O=n("Jaym"),w=b.a.observable({filter:{},loading:!1,hasNextPage:window.__HAS_NEXT_PAGE__});function x(){return{sort:"rate",dir:"desc",page:1,year:{min:"",max:""},rating:{min:"",max:""},chapters:{min:"",max:""},long_no_translation:!1,licensed:!1,name:"",caution:[],status:[],manga_status:[],types:[],series:[],bookmarks:{include:[],exclude:[]},format:{include:[],exclude:[]},tags:{include:[],exclude:[]},genres:{include:[],exclude:[]}}}},M0Fu:function(t,e,n){"use strict";var r=n("En79"),o=n.n(r),i=n("mtWM"),a=n.n(i),s=n("Ngrm"),c=n("7/oE"),u=n("FNNP"),l=n("u5FJ"),f=n("Jaym"),d=n("kAZi"),p=n("in12"),h=n.n(p),v=n("OLx3"),m=n("gmAb"),g=n("nctS");function b(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){y(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function O(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){_(i,r,o,a,s,"next",t)}function s(t){_(i,r,o,a,s,"throw",t)}a(void 0)})}}e.a={components:{AppComments:h.a},mixins:[Object(c.a)(!0,"#comments"),u.a],data:function(){return{loading:!0,userVotes:{},showPartialComments:!1,targetCommentId:null}},computed:{currentOrder:function(){return v.a.settings.order[v.a.info.type]}},created:function(){this.$AppEmitter.on(g.a.deleted,this.removeCommentsFromStore);var t=Object(f.g)().comm_id;t&&(this.comm_id=t,this.showPartialComments=!0,this.targetCommentId=parseInt(t))},methods:{fetchComments:function(){var t=O(o.a.mark(function t(e){var n,r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={params:{type:v.a.info.type,post_id:v.a.info.postId,order:this.currentOrder}},"chapter"!==v.a.info.type&&(e&&(r.params=b({},r.params,{},e)),this.showPartialComments&&(r.params.show_partial=!0,r.params.comment_id=this.targetCommentId)),t.prev=2,t.next=5,a.a.get(v.a.info.api,r);case 5:i=t.sent,n=i.data,v.a.auth=n.auth,this._userVotes=n.userVotes,this.hideDeleted(n.comments),this.hideDeleted(n.replies),n.auth&&(v.a.teamPermission=f.r.get("hasStickyPermission",!1)),n.sticky&&(this.hideDeleted([n.sticky]),n.sticky.userVote=this._userVotes[n.sticky.id]||null,n.sticky._comment=n.sticky.comment,n.sticky.comment=Object(d.a)(n.sticky.comment),v.a.sticky=n.sticky,n.comments=n.comments.filter(function(t){return t.id!==n.sticky.id})),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),s.a.alert("Произошла ошибка загрузки комментариев"),console.error(t.t0);case 19:return this.loading=!1,t.abrupt("return",n);case 21:case"end":return t.stop()}},t,this,[[2,15]])}));return function(e){return t.apply(this,arguments)}}(),jumpToComment:function(){var t=O(o.a.mark(function t(){var e,n,r,i=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._elWasJump){t.next=2;break}return t.abrupt("return");case 2:if(!this.comm_id){t.next=12;break}if(n=(e=function(){return Object(l.l)("#comment_".concat(i.comm_id))})(),r=function(){n&&(i._elWasJump=!0,Object(f.c)(function(){return Object(m.c)(n)},150))},n){t.next=11;break}return this.broadcast("Comment","toggleCollapse",{}),t.next=10,this.$nextTick();case 10:n=e();case 11:r();case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),removeCommentsFromStore:function(t){var e=t.commentId,n=t.parentComment,r=t.forceDelete,o=t.reasonText,i=n?v.a.replies[n]:v.a.comments,a=Object(f.e)(i,function(t){return t.id==e});if(a>=0)if(r)i.splice(a,1);else if(o){i[a].comment=o}},hideDeleted:function(t){for(var e=t.length,n=0;n<e;n++){var r=t[n];r.deleted>0&&(r.comment=Object(m.a)(r.deleted))}}}}},M1c9:function(t,e){t.exports=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}},M6Wl:function(t,e,n){var r=n("rpnb"),o=n("ktak");t.exports=function(t,e){return t&&r(t,e,o)}},MFFc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={success:"fa-check-circle",alert:"fa-exclamation-circle",info:"fa-info-circle"};e.default={props:{item:Object},computed:{iconByStatus:function(){return r[this.item.status]}},created:function(){this.item.closeable||0===this.item.timeout||(this.timer=setTimeout(this.close,this.item.timeout||4e3))},beforeDestroy:function(){this.clearTimeout()},methods:{close:function(){this.removeItem(),this.item.onClose&&this.item.onClose()},onItemClick:function(){this.removeItem(),this.item.onClick&&this.item.onClick()},removeItem:function(){this.$emit("remove",this.item.id),this.clearTimeout()},clearTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){this.timer&&(clearTimeout(this.timer),this.timer=null)})}}},MMop:function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},MU8w:function(t,e,n){"use strict";t.exports=n("hKoQ").polyfill()},MkIS:function(t,e,n){var r=n("HAas"),o=n("rF9q"),i=n("jAiL")("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},MoMe:function(t,e,n){var r=n("FCuZ"),o=n("l9Lx"),i=n("ktak");t.exports=function(t){return r(t,i,o)}},Mqyi:function(t,e,n){"use strict";e.a=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];var s=(i||[]).reduce(o,[]);return function t(e){var n=e.tag,o=e.props,i=e.children;var a=-1!==["svg","circle"].indexOf(n)?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n);if(o)for(var s in o){var c=o[s];"on"===s.slice(0,2)?a.addEventListener(s.slice(2).toLowerCase(),c):"className"===s?a.className=c:"dangerouslySetInnerHTML"===s?c&&(a.innerHTML=c):a.setAttribute(s,c)}for(var u=0,l=i.length;u<l;u++){var f=i[u];f instanceof Element?a.appendChild(f):Object(r.n)(f)?a.appendChild(t(f)):a.appendChild(document.createTextNode(f))}return a}({tag:t,props:e,children:s})};var r=n("Jaym");function o(t,e){return Array.isArray(e)?t=e.reduce(o,t):null==e||Object(r.k)(e)||t.push(Object(r.m)(e)?"".concat(e):e),t}},N5RP:function(t,e,n){var r=n("aqbq");t.exports=r("document","documentElement")},NGEn:function(t,e){var n=Array.isArray;t.exports=n},NGss:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},NHiU:function(t,e,n){var r=n("VU/8")(n("7xX+"),n("I/bN"),!1,function(t){n("SM/s")},null,null);t.exports=r.exports},NKE6:function(t,e,n){var r=n("xA5w");t.exports=function(t,e){var n=r(t).getTime(),o=r(e).getTime();return n<o?-1:n>o?1:0}},Ngrm:function(t,e,n){"use strict";var r=n("umy1"),o=n.n(r),i=n("oG8a");function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"confirm",value:function(t){return this.success(t)}},{key:"alert",value:function(t){return this.error(t)}},{key:"info",value:function(t,e){return i.default.info(t,e),this}},{key:"success",value:function(t){return i.default.success(t),this}},{key:"error",value:function(t){return i.default.alert(t),this}},{key:"httpError",value:function(t,e){return console.error(t),o()(t,"response.data.message")||this.alert(e),this}}])&&a(e.prototype,n),r&&a(e,r),t}();e.a=new s},NkRn:function(t,e,n){var r=n("TQ3y").Symbol;t.exports=r},Nkkh:function(t,e,n){var r=n("tv3T"),o=n("l9Lx");t.exports=function(t,e){return r(t,o(t),e)}},NqZt:function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},O1jc:function(t,e,n){var r=n("nw3t"),o=n("22B7");t.exports=function(t,e,n){(void 0===n||o(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},O4Lo:function(t,e,n){var r=n("yCNF"),o=n("RVHk"),i=n("kxzG"),a="Expected a function",s=Math.max,c=Math.min;t.exports=function(t,e,n){var u,l,f,d,p,h,v=0,m=!1,g=!1,b=!0;if("function"!=typeof t)throw new TypeError(a);function y(e){var n=u,r=l;return u=l=void 0,v=e,d=t.apply(r,n)}function _(t){var n=t-h;return void 0===h||n>=e||n<0||g&&t-v>=f}function O(){var t=o();if(_(t))return w(t);p=setTimeout(O,function(t){var n=e-(t-h);return g?c(n,f-(t-v)):n}(t))}function w(t){return p=void 0,b&&u?y(t):(u=l=void 0,d)}function x(){var t=o(),n=_(t);if(u=arguments,l=this,h=t,n){if(void 0===p)return function(t){return v=t,p=setTimeout(O,e),m?y(t):d}(h);if(g)return clearTimeout(p),p=setTimeout(O,e),y(h)}return void 0===p&&(p=setTimeout(O,e)),d}return e=i(e)||0,r(n)&&(m=!!n.leading,f=(g="maxWait"in n)?s(i(n.maxWait)||0,e):f,b="trailing"in n?!!n.trailing:b),x.cancel=function(){void 0!==p&&clearTimeout(p),v=0,u=h=l=p=void 0},x.flush=function(){return void 0===p?d:w(o())},x}},OJry:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),o=n.n(r),i=n("aPs8"),a=n.n(i),s=n("QYYS"),c=n.n(s),u=n("alMs");o.a.component("app-dialog-close",c.a),o.a.mixin({created:function(){this.$options.popupOptions&&this.$parent&&this.$parent.setOptions(this.$options.popupOptions)}}),new a.a,o.a.prototype.$dialog=u.a},OLx3:function(t,e,n){"use strict";var r=n("I3G/"),o=n.n(r),i=n("Jaym");e.a=o.a.observable({info:{type:null,postId:null,api:"/api/comments"},auth:!1,teamPermission:!1,page:1,totalPages:1,activeItem:null,editing:!1,sticky:null,settings:i.u.get("commentsSettings",{level:5,order:{post:"latest",manga:"latest",chapter:"latest"},disable:{media:!1,reader:!1},hideRules:!1}),comments:[],replies:{}})},Oo6K:function(t,e,n){var r=n("nbsL");t.exports=function(t,e,n){for(var o=-1,i=t.criteria,a=e.criteria,s=i.length,c=n.length;++o<s;){var u=r(i[o],a[o]);if(u)return o>=c?u:u*("desc"==n[o]?-1:1)}return t.index-e.index}},OpCx:function(t,e){var n;(function(){if(void 0===window.DOMTokenList)return!1;var t=document.createElement("div");return t.classList.add("t"),!0!==t.classList.toggle("t",!0)||!t.classList.contains("t")||!(!1===t.classList.toggle("o",!1)&&!t.classList.contains("o"))})()&&(n=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(t,e){if(!0===e)this.add(t);else{if(!1!==e)return n.call(this,t);this.remove(t)}return this.contains(t)})},Opag:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("umy1"),o=n.n(r),i=n("hygk"),a=n.n(i),s=n("ktak"),c=n.n(s),u=n("HN2V"),l=n.n(u),f=n("I3G/"),d=n.n(f),p=n("u5FJ"),h=n("Jaym"),v=n("QX9i"),m=n("LiUp"),g=n("h9fk"),b=n.n(g),y=n("vrSs");function _(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){O(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},window.__DATA);e.default=d.a.extend({components:{CheckboxWithExclude:b.a},popupOptions:{name:"popup_side"},filters:{capitalize:function(t){return t.slice(0,1).toUpperCase()+t.slice(1)}},data:function(){return{list:w.filters,auth:w.auth,isHentai:y.i.isHentai,genreFilter:"",show:{genres:!1,tags:!1,series:!1},filter:{genres:"",tags:"",series:""},loadingSeries:!1}},computed:{filteredGenres:function(){return this.filterList(this.list.genres,this.filter.genres)},filteredTags:function(){return this.filterList(this.list.tags,this.filter.tags)},filteredSeries:function(){return this.filterList(this.list.series,this.filter.series)},selectedGenres:function(){var t=this.state.genres.include,e=this.state.genres.exclude;return this.mapSelectedToList("genres",t.concat(e))},selectedTags:function(){var t=this.state.tags.include,e=this.state.tags.exclude;return this.mapSelectedToList("tags",t.concat(e))},selectedSeries:function(){return this.mapSelectedToList("series",this.state.series)},isMobile:function(){return y.k},loading:function(){return m.d.loading},state:function(){return m.d.filter}},mounted:function(){Object(p.c)(window,"popstate",function(t){console.log(t),m.d.filter=l()(m.a(),window.history.state),Object(v.b)({preventPushState:!0})}),this.isMobile||(Object(p.c)(window,"resize",this.updatePosition,{passive:!0}),this.updatePosition())},methods:{filterList:function(t,e){if(!e)return t;var n=new RegExp("".concat(e),"i");return t.filter(function(t){return n.test(t.name)})},clearInputFilter:function(t){this.filter[t]=""},mapSelectedToList:function(t,e){var n=Object(h.s)(this.list[t],"id","name"),r=e.map(function(t){return n[t]}).join(", ");return r||"Любые"},selectAll:function(t){var e=c()(this.list.bookmarks);a()(e,this.state[t].exclude)?this.state[t].exclude=[]:a()(e,this.state[t].include)?(this.state[t].exclude=_(e),this.state[t].include=[]):this.state[t].include=_(e)},resetFilter:function(t){var e=m.a(),n=!1;t?(this.state[t]=e[t],n=!0):m.d.filter=e,this.applyFilter(n)},applyFilter:function(t){var e=this;window.scrollTo(0,0),Object(h.f)(this.state,function(t){o()(t,"min")&&o()(t,"max")&&e.validateMinAndMaxValues(t)}),this.isMobile&&!t&&this.$dialog.close(),this.state.page=1,Object(v.b)()},updatePosition:function(){var t=v.a.listContainer.getBoundingClientRect();this.$refs.filterWrap.style.left="".concat(t.right+34,"px")},toggleVisible:function(t){this.show[t]=!this.show[t]},validateMinAndMaxValues:function(t){if(t.min&&t.max&&t.min>t.max){var e=[t.max,t.min];t.min=e[0],t.max=e[1]}}}})},P1fK:function(t,e,n){var r=n("hcE8"),o=n("HAas"),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},POb3:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"Map");t.exports=r},PYrI:function(t,e,n){var r=n("l/2K"),o=n("aske"),i=n("He3V"),a=n("1rEs");t.exports=function(t,e){for(var n=o(e),s=a.f,c=i.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||s(t,l,c(e,l))}}},PeYS:function(t,e,n){var r=n("VU/8")(n("oWUU"),null,!1,null,null,null);t.exports=r.exports},PedI:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},PfJA:function(t,e){t.exports=function(t){return t.split("")}},PqYH:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},Ptqd:function(t,e){t.exports=function(){var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(e,n,r){var o;return r=r||{},o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}}}},"Q/p3":function(t,e,n){var r=n("VU/8")(n("+MEG"),n("rDLc"),!1,function(t){n("femp")},null,null);t.exports=r.exports},Q2wK:function(t,e,n){var r=n("8AZL"),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),c=Array(s);++a<s;)c[a]=i[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=i[a];return u[e]=n(c),r(t,this,u)}}},"Q3+A":function(t,e,n){"use strict";var r=n("aqbq"),o=n("1rEs"),i=n("jAiL"),a=n("q0qZ"),s=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},Q7hp:function(t,e,n){var r=n("uCi2");t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},QX9i:function(t,e,n){"use strict";var r=n("En79"),o=n.n(r),i=n("mtWM"),a=n.n(i),s=n("arOy"),c=n.n(s),u=n("Mqyi"),l=n("oTFi"),f=n("Ngrm"),d=n("vrSs"),p=n("Jaym"),h=n("u5FJ"),v=n("KO5a"),m=n("Us2S");var g,b,y=n("LiUp");function _(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}n.d(e,"a",function(){return O}),n.d(e,"d",function(){return j}),n.d(e,"b",function(){return P}),n.d(e,"e",function(){return k}),n.d(e,"c",function(){return g}),n.d(e,"f",function(){return w});var O={filterContainer:Object(h.l)("#manga-list-filter"),listContainer:Object(h.l)("#manga-list"),list:Object(h.l)(".media-grid-wrap"),listWrapper:Object(h.l)(".media-cards-grid"),sortInputs:Object(h.m)('.manga-list-sort input[type="radio"]'),sortButton:Object(h.l)(".manga-search__sort-button"),filter:Object(h.l)(".search-filter")},w=function(){g=Object(h.i)(O.list).bottom},x=function(t){y.d.loading=t,h.g.toggle(O.list,"manga-block-items_loading",t)},k=function(){(Object(p.f)(O.sortInputs,function(t){t.value===y.d.filter[t.name]&&(t.checked=!0)}),O.sortButton)&&(Object(h.f)(O.sortButton,"data-sort",y.d.filter.dir),Object(h.l)("span",O.sortButton).textContent={rate:"По рейтингу",name:"По названию",views:"По просмотрам",last_chapter_at:"По дате обновления",created_at:"По дате добавления",chap_count:"По количеству глав"}[y.d.filter.sort]);d.k&&l.a.close()},j=function(){b=new c.a({elements_selector:".media-card"})},C=function(){for(;O.listWrapper.firstChild;)O.listWrapper.removeChild(O.listWrapper.lastChild)},E=function(t){var e=document.createDocumentFragment();Object(p.f)(t,function(t){e.appendChild(function(t){var e,n="";return d.l[t.type_id]&&(n=d.l[t.type_id]),t.bookmark&&(e=Object(u.a)("span",{className:"media-card__bookmark text-truncate",style:t.bookmark.style,"data-book-status":t.bookmark.status},t.bookmark.name)),Object(u.a)("div",{className:"media-card-wrap"},Object(u.a)("a",{className:"media-card",href:"/".concat(t.slug),style:"background-image: url(".concat(m.a.coverPlaceholder,");"),"data-src":m.a.cover(t),"data-media-id":t.id,"data-media-slug":t.slug},Object(u.a)("div",{className:"media-card__caption"},Object(u.a)("h5",{className:"media-card__subtitle"},n),Object(u.a)("h3",{className:"media-card__title line-clamp"},t.rus_name||t.name)),e))}(t))}),t.length||e.appendChild(Object(u.a)("div",{className:"empty"},"Ничего не найдено")),O.listWrapper.appendChild(e)},P=function(){var t,e=(t=o.a.mark(function t(){var e,n,r,i,s,c=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=c.length>0&&void 0!==c[0]?c[0]:{},!y.d.loading){t.next=3;break}return t.abrupt("return");case 3:return n=Math.max(y.d.filter.page-1,1),r=y.c(),e.preventPushState||window.history.pushState(r.object,null,"?".concat(r.string)),x(!0),k(),t.prev=8,t.next=11,a.a.post("/filterlist",r.object);case 11:i=t.sent,s=i.data,y.d.hasNextPage=null!=s.items.next_page_url,n>=y.d.filter.page&&(Object(v.a)(O.listContainer),b&&(b.destroy(),b=null),C()),E(s.items.data),y.d.filter.page>n&&b?b.update():j(),w(),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(8),console.error(t.t0),f.a.httpError(t.t0,"Приозошла ошибка при запросе");case 24:x(!1),e.cb&&e.cb();case 26:case"end":return t.stop()}},t,null,[[8,20]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){_(i,r,o,a,s,"next",t)}function s(t){_(i,r,o,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}()},QYNq:function(t,e,n){var r=n("hcE8"),o=n("ypmV"),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},QYYS:function(t,e,n){var r=n("VU/8")(n("x/oW"),n("uH1e"),!1,null,null,null);t.exports=r.exports},QmTJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("I3G/"),a=n.n(i),s=n("mxmQ"),c=n("Jaym"),u=n("M0Fu"),l=n("OLx3");function f(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){d(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}e.default=a.a.extend({mixins:[u.a,s.a],methods:{request:function(){var t,e=(t=o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchComments(e);case 2:return(n=t.sent).replies&&n.replies.length&&(this.mapData(n.replies),r=Object(c.i)(n.replies,"parent_comment"),l.a.replies=f({},l.a.replies,{},r)),n.comments&&(this.mapData(n.comments),l.a.comments=l.a.comments.concat(n.comments)),this.showPartialComments&&!n.showPartial&&(this.showPartialComments=!1),this.$nextTick(this.jumpToComment),t.abrupt("return",n);case 8:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){p(i,r,o,a,s,"next",t)}function s(t){p(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}(),sortChanged:function(){this.showPartialComments=!1,this.loading=!0,this.page=1,l.a.comments=[],this.requestHandler(this.page)},mapData:function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];r.userVote=this._userVotes[r.id]||null}},showAllComments:function(){this.showPartialComments=!1,this.loading=!0,this.page=1,l.a.comments=[],this.requestHandler(this.page)}}})},Qp3N:function(t,e,n){var r=n("NkRn"),o=n("1Yb9"),i=n("NGEn"),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},Qr4f:function(t,e){function n(t,e){if(void 0!==t.one&&1===e)return t.one;var n=e%10,r=e%100;return 1===n&&11!==r?t.singularNominative.replace("{{count}}",e):n>=2&&n<=4&&(r<10||r>20)?t.singularGenitive.replace("{{count}}",e):t.pluralGenitive.replace("{{count}}",e)}function r(t){return function(e,r){return r.addSuffix?r.comparison>0?t.future?n(t.future,e):"через "+n(t.regular,e):t.past?n(t.past,e):n(t.regular,e)+" назад":n(t.regular,e)}}t.exports=function(){var t={lessThanXSeconds:r({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:r({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:function(t,e){return e.addSuffix?e.comparison>0?"через полминуты":"полминуты назад":"полминуты"},lessThanXMinutes:r({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:r({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:r({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:r({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:r({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXMonths:r({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:r({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:r({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:r({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:r({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:r({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})};return{localize:function(e,n,r){return r=r||{},t[e](n,r)}}}},RGrk:function(t,e,n){var r=n("dCZQ"),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},RVHk:function(t,e,n){var r=n("TQ3y");t.exports=function(){return r.Date.now()}},RfZv:function(t,e,n){var r=n("SOZo"),o=n("IGcM");t.exports=function(t,e){return null!=t&&o(t,e,r)}},Rh28:function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},RpmR:function(t,e,n){var r=n("mi1p"),o=n("kxzG");t.exports=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=o(n))==n?n:0),void 0!==e&&(e=(e=o(e))==e?e:0),r(o(t),e,n)}},RxPu:function(t,e,n){"use strict";var r=n("i9tX"),o=n("ot7w"),i=n("wzd1"),a=n("jE8y"),s=n("GB3+"),c=n("asqq"),u=n("+opI"),l=n("jAiL"),f=n("pzR0"),d=n("eZ0g"),p=n("UFcy"),h=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,m=l("iterator"),g=function(){return this};t.exports=function(t,e,n,l,p,b,y){o(n,e,l);var _,O,w,x=function(t){if(t===p&&P)return P;if(!v&&t in C)return C[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},k=e+" Iterator",j=!1,C=t.prototype,E=C[m]||C["@@iterator"]||p&&C[p],P=!v&&E||x(p),S="Array"==e&&C.entries||E;if(S&&(_=i(S.call(new t)),h!==Object.prototype&&_.next&&(f||i(_)===h||(a?a(_,h):"function"!=typeof _[m]&&c(_,m,g)),s(_,k,!0,!0),f&&(d[k]=g))),"values"==p&&E&&"values"!==E.name&&(j=!0,P=function(){return E.call(this)}),f&&!y||C[m]===P||c(C,m,P),d[e]=P,p)if(O={values:x("values"),keys:b?P:x("keys"),entries:x("entries")},y)for(w in O)!v&&!j&&w in C||u(C,w,O[w]);else r({target:e,proto:!0,forced:v||j},O);return O}},S7p9:function(t,e){t.exports=function(t){return function(e){return t(e)}}},SGXn:function(t,e,n){var r=n("eP4g"),o=n("S7p9"),i=n("Dc0G"),a=i&&i.isSet,s=a?o(a):r;t.exports=s},SHWz:function(t,e,n){var r=n("MoMe"),o=1,i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,c){var u=n&o,l=r(t),f=l.length;if(f!=r(e).length&&!u)return!1;for(var d=f;d--;){var p=l[d];if(!(u?p in e:i.call(e,p)))return!1}var h=c.get(t);if(h&&c.get(e))return h==e;var v=!0;c.set(t,e),c.set(e,t);for(var m=u;++d<f;){var g=t[p=l[d]],b=e[p];if(a)var y=u?a(b,g,p,e,t,c):a(g,b,p,t,e,c);if(!(void 0===y?g===b||s(g,b,n,a,c):y)){v=!1;break}m||(m="constructor"==p)}if(v&&!m){var _=t.constructor,O=e.constructor;_!=O&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof O&&O instanceof O)&&(v=!1)}return c.delete(t),c.delete(e),v}},SJLv:function(t,e){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];t.exports=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);var o=n.concat(e).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}},"SM/s":function(t,e){},SOZo:function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},"Skx/":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-comments",{ref:"comments",attrs:{"current-order":t.currentOrder,loading:t.loading,"show-partials":t.showPartialComments},on:{"sort-changed":t.sortChanged,"show-all-comments":t.showAllComments},scopedSlots:t._u([{key:"footer-button",fn:function(){return[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.showPartialComments,expression:"!showPartialComments"}],staticClass:"comments__load-page"},[t.hasNextSlice?n("button",{staticClass:"button button_block",on:{click:t.showNextSlice}},[t._v("\n        Показать ещё комментарии\n      ")]):t._e()])]},proxy:!0}])})},staticRenderFns:[]}},SldL:function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(t,e,n){var r=l;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=u(t,e,n);if("normal"===c.type){if(r=n.done?p:f,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",f="suspendedYield",d="executing",p="completed",h={};function v(){}function m(){}function g(){}var b={};b[i]=function(){return this};var y=Object.getPrototypeOf,_=y&&y(y(P([])));_&&_!==n&&r.call(_,i)&&(b=_);var O=g.prototype=v.prototype=Object.create(b);function w(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function x(t){var e;this._invoke=function(n,o){function i(){return new Promise(function(e,i){!function e(n,o,i,a){var s=u(t[n],t,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(l).then(function(t){c.value=t,i(c)},function(t){return e("throw",t,i,a)})}a(s.arg)}(n,o,e,i)})}return e=e?e.then(i,i):i()}}function k(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=u(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:e,done:!0}}return m.prototype=O.constructor=g,g.constructor=m,g[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},w(x.prototype),x.prototype[a]=function(){return this},t.AsyncIterator=x,t.async=function(e,n,r,o){var i=new x(c(e,n,r,o));return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},w(O),O[s]="Generator",O[i]=function(){return this},O.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=P,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},"T/bE":function(t,e,n){var r=n("94sX"),o=n("ue/d"),i=n("eVIm"),a=n("RGrk"),s=n("Z2pD");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},T5cH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,i=n("I3G/"),a=n.n(i),s=n("7/oE"),c=n("Xqzd"),u=n.n(c),l=n("alMs");e.default=a.a.extend({name:"AppDialogRoot",components:{AppDialog:u.a},mixins:[Object(s.a)()],data:function(){return{dialogs:[],isDisabled:!1}},$watch:{isDisabled:{immediate:!0,handler:function(t){this.$dialog.isDisabled=t}}},created:function(){var t=this;window.addEventListener("keyup",function(t){27===t.keyCode&&l.a.emit("close")}),l.a.on("disable",function(){return t.isDisabled=!0}),l.a.on("enable",function(){return t.isDisabled=!1}),l.a.on("open",function(e){t.dialogs.push(e),1===t.dialogs.length&&t.toggleBodyOffset(!0)}),l.a.on("close",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t.isDisabled||e){var n=t.dialogs.length-1;t.dialogs.splice(n,1),t.dialogs.length||setTimeout(function(){return t.toggleBodyOffset(!1)},420)}})},methods:{outsideClickStart:function(t){r=t,o=null!=t.target.closest(".popup__content")},outsideClick:function(t){var e=t.target;e.closest(".popup__content")||r.target!==e||o||l.a.emit("close")},toggleBodyOffset:function(t){var e=document.body,n=window.innerWidth-e.offsetWidth;e.style.overflow=t?"hidden":"",e.style.paddingRight=t?"".concat(n,"px"):""}}})},TQ3y:function(t,e,n){var r=n("blYT"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},TRbm:function(t,e,n){var r=n("rlzA"),o=n("fkET"),i=n("EJk4"),a=n("xDUa"),s=n("MkIS"),c=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,l=4==t,f=6==t,d=5==t||f;return function(p,h,v,m){for(var g,b,y=i(p),_=o(y),O=r(h,v,3),w=a(_.length),x=0,k=m||s,j=e?k(p,w):n?k(p,0):void 0;w>x;x++)if((d||x in _)&&(b=O(g=_[x],x,y),t))if(e)j[x]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:c.call(j,g)}else if(l)return!1;return f?-1:u||l?l:j}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},TlPD:function(t,e,n){var r=n("tv3T"),o=n("t8rQ");t.exports=function(t){return r(t,o(t))}},TmPq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),o=n.n(r),i=n("oTFi"),a=n("abp6"),s=n.n(a),c=n("7/oE"),u=n("Kip4"),l=n("CkJp"),f=n.n(l);e.default=o.a.extend({components:{VueModal:s.a,BookmarkFoldersList:f.a},mixins:[u.a,Object(c.a)()],methods:{show:function(t,e,n){this.mangaId=t,this.status=n,this.mangaSlug=e,i.a.show(this.$el)}}})},TwS1:function(t,e,n){var r=n("9+GO");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},UFcy:function(t,e,n){"use strict";var r,o,i,a=n("wzd1"),s=n("asqq"),c=n("l/2K"),u=n("jAiL"),l=n("pzR0"),f=u("iterator"),d=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):d=!0),void 0==r&&(r={}),l||c(r,f)||s(r,f,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},UHV6:function(t,e,n){var r=n("5+O3"),o=n("gado"),i=n("xDUa"),a=n("rlzA"),s=n("URKv"),c=n("f1+4"),u=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,l,f){var d,p,h,v,m,g,b,y=a(e,n,l?2:1);if(f)d=t;else{if("function"!=typeof(p=s(t)))throw TypeError("Target is not iterable");if(o(p)){for(h=0,v=i(t.length);v>h;h++)if((m=l?y(r(b=t[h])[0],b[1]):y(t[h]))&&m instanceof u)return m;return new u(!1)}d=p.call(t)}for(g=d.next;!(b=g.call(d)).done;)if("object"==typeof(m=c(d,y,b.value,l))&&m&&m instanceof u)return m;return new u(!1)}).stop=function(t){return new u(!0,t)}},UNUE:function(t,e,n){var r=n("G8ar");t.exports=function(t,e){for(var n=t.length;n--&&r(e,t[n],0)>-1;);return n}},URKv:function(t,e,n){var r=n("jgJS"),o=n("eZ0g"),i=n("jAiL")("iterator");t.exports=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},Ubhr:function(t,e,n){var r=n("6MiT"),o=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},UfSK:function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},UnEC:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},UnLw:function(t,e,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n("fMqj")(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});t.exports=i},Us2S:function(t,e,n){"use strict";var r=n("vrSs"),o={avatar:function(t){return t.avatar&&"0"!=t.avatar&&(t.user_id||t.id)?"/uploads/users/".concat(t.user_id||t.id,"/").concat(t.avatar):this.avatarPlaceholder},mediaBackground:function(t){return t.background?"/uploads/cover/".concat(t.slug,"/background/").concat(t.background):this.cover(t)},coverThumb:function(t){return this.cover(t,!0)},cover:function(t,e){if(!t.cover)return this.coverPlaceholder;var n,o="/uploads/cover/".concat(t.slug,"/cover");if(t.updated_at){var i=new Date(t.updated_at);i.setMinutes(-1*i.getTimezoneOffset()),n=i.getTime()/1e3}if(1!=t.cover&&1!=t.cover||(t.cover="cover"),o+="/".concat(t.cover,e?"_thumb.jpg":"_250x350.jpg"),n&&(o+="?".concat(n)),t.site&&t.site!=r.i.id){var a=r.i.domainsById[t.site];o="https://".concat(a).concat(o)}return o},personCover:function(t){return this.coverBase(t,"author")},publisherCover:function(t){return this.coverBase(t,"publisher")},teamCover:function(t){return this.coverBase(t,"team")},coverBase:function(t,e){return t.cover?"/uploads/".concat(e,"/").concat(t.slug,"/cover/").concat(t.cover,"_250x350.jpg"):this.coverPlaceholder},avatarPlaceholder:"/uploads/users/placeholder.png",coverPlaceholder:"/uploads/no-image.png",base64Placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mN89x8AAuEB74Y0o2cAAAAASUVORK5CYII="};e.a=o},Uz1a:function(t,e,n){var r=n("bJWQ"),o=n("FhcP"),i=n("EHRO"),a=n("SHWz"),s=n("gHOb"),c=n("NGEn"),u=n("ggOT"),l=n("YsVG"),f=1,d="[object Arguments]",p="[object Array]",h="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,g,b){var y=c(t),_=c(e),O=y?p:s(t),w=_?p:s(e),x=(O=O==d?h:O)==h,k=(w=w==d?h:w)==h,j=O==w;if(j&&u(t)){if(!u(e))return!1;y=!0,x=!1}if(j&&!x)return b||(b=new r),y||l(t)?o(t,e,n,m,g,b):i(t,e,O,n,m,g,b);if(!(n&f)){var C=x&&v.call(t,"__wrapped__"),E=k&&v.call(e,"__wrapped__");if(C||E){var P=C?t.value():t,S=E?e.value():e;return b||(b=new r),g(P,S,n,m,b)}}return!!j&&(b||(b=new r),a(t,e,n,m,g,b))}},"V+c1":function(t,e,n){"use strict";var r=n("1rEs").f,o=n("43zn"),i=n("XM+g"),a=n("rlzA"),s=n("tyBP"),c=n("UHV6"),u=n("RxPu"),l=n("Q3+A"),f=n("q0qZ"),d=n("0LGO").fastKey,p=n("I1z2"),h=p.set,v=p.getterFor;t.exports={getConstructor:function(t,e,n,u){var l=t(function(t,r){s(t,l,e),h(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),f||(t.size=0),void 0!=r&&c(r,t[u],t,n)}),p=v(e),m=function(t,e,n){var r,o,i=p(t),a=g(t,e);return a?a.value=n:(i.last=a={index:o=d(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},g=function(t,e){var n,r=p(t),o=d(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(l.prototype,{clear:function(){for(var t=p(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=p(this),n=g(this,t);if(n){var r=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),e.first==n&&(e.first=r),e.last==n&&(e.last=o),f?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=p(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!g(this,t)}}),i(l.prototype,n?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),f&&r(l.prototype,"size",{get:function(){return p(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",o=v(e),i=v(r);u(t,e,function(t,e){h(this,{type:r,target:t,state:o(t),kind:e,last:void 0})},function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),l(e)}}},V9wp:function(t,e,n){var r=n("mAt8"),o=n("wSKX");t.exports=function(t){return r(t,o)}},VMsc:function(t,e,n){var r=n("mi1p"),o=n("o2mx"),i=n("5Zxu"),a=n("ZT2e");t.exports=function(t,e,n){t=a(t),e=o(e);var s=t.length,c=n=void 0===n?s:r(i(n),0,s);return(n-=e.length)>=0&&t.slice(n,c)==e}},VORN:function(t,e,n){var r=n("yCNF"),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},"VU/8":function(t,e){t.exports=function(t,e,n,r,o,i){var a,s=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(a=t,s=t.default);var u,l="function"==typeof s?s.options:s;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId=o),i?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=u):r&&(u=r),u){var f=l.functional,d=f?l.render:l.beforeCreate;f?(l._injectStyles=u,l.render=function(t,e){return u.call(e),d(t,e)}):l.beforeCreate=d?[].concat(d,u):[u]}return{esModule:a,exports:s,options:l}}},"VYv/":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"control"},[n("input",{staticClass:"control__input",attrs:{disabled:t.disabled,name:t.name,type:"radio"},domProps:{value:t.value,checked:t.isChecked},on:{change:function(e){return t.$emit("input",t.value)}}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_radio",class:{control__indicator_lg:t.large}}),t._v(" "),t.$slots.default||t.label?n("span",{staticClass:"control__text"},[t._t("default",[t._v(t._s(t.label))])],2):t._e()])},staticRenderFns:[]}},VhYc:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment",class:{"is-editing":t.showForm},attrs:{id:"comment_"+t.comment.id}},[n("div",{staticClass:"comment__body"},[n("div",{staticClass:"comment__head"},[n("a",{staticClass:"comment__user",attrs:{href:"/user/"+t.comment.user_id}},[n("img",{staticClass:"comment__avatar",attrs:{src:t.$url.avatar(t.comment),alt:t.comment.username}}),t._v(" "),n("span",{staticClass:"comment__username text-truncate"},[t._v(t._s(t.comment.username))])]),t._v(" "),n("time",{staticClass:"comment__date-time"},[n("timeago",{attrs:{datetime:t.comment.created_at}})],1)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],ref:"content",staticClass:"comment__content",class:{comment__content_collapsed:t.collapsed}},[t.hideContent?[n("div",{staticClass:"comment__content-hidden"},[t._v("\n          Комментарий скрыт из-за низкого рейтинга. (может содержать спойлер)\n          "),n("button",{staticClass:"button_link",on:{click:function(e){t.hideContent=!t.hideContent}}},[t._v("\n            Показать\n          ")])])]:[n("div",{domProps:{innerHTML:t._s(t.comment.comment)}})]],2),t._v(" "),t.collapsible?n("button",{staticClass:"comment__expand comment__expand_upper button_link",on:{click:function(e){t.collapsed=!t.collapsed}}},[t.collapsed?[t._v("\n        Показать полностью "),n("i",{staticClass:"fa fa-angle-down"})]:[t._v("\n        Свернуть\n      ")]],2):t._e(),t._v(" "),n("div",{staticClass:"comment__controls"},[t.isDeleted?t._e():n("button",{staticClass:"button_link",attrs:{disabled:t.disabled},on:{click:t.toggleForm}},[t._v("\n        "+t._s(t.showForm?"отмена":"ответить")+"\n      ")]),t._v(" "),n("v-dropdown",{directives:[{name:"show",rawName:"v-show",value:!t.showForm||t.showEditBtn||t.showDeleteBtn||!t.isCurrentUser,expression:"!showForm || showEditBtn || showDeleteBtn || !isCurrentUser"}],staticClass:"comment__dropdown"},[n("div",{staticClass:"comment__control comment__control_dropdown",attrs:{"data-dropdown-trigger":""}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-extra"}})])]),t._v(" "),n("v-dropdown-menu",[n("div",{staticClass:"menu menu_xs"},[t.showEditBtn?n("div",{staticClass:"menu__item",on:{click:function(e){return t.toggleForm(e,!0)}}},[t._v("\n              Редактировать\n            ")]):t._e(),t._v(" "),t.showDeleteBtn?n("div",{staticClass:"menu__item",on:{click:t.deleteComment}},[t._v("\n              Удалить\n            ")]):t._e(),t._v(" "),t.isCurrentUser?t._e():n("div",{staticClass:"menu__item",on:{click:t.reportComment}},[t._v("\n              Пожаловаться\n            ")])])])],1),t._v(" "),n("div",{staticClass:"comment__rating",on:{click:t.changeVote}},[n("div",{staticClass:"comment__rating-action",class:"up"===t.comment.userVote&&"comment__rating-action_active",attrs:{"data-action":"up"}},[n("svg",{staticClass:"comment__rating-icon"},[n("use",{attrs:{"xlink:href":"#icon-arrow-up"}})])]),t._v(" "),n("div",{staticClass:"comment__rating-value",class:{"comment__rating-value_positive":t.votes>0,"comment__rating-value_negative":t.votes<0},attrs:{"data-vote":t.comment.votes_up+"_"+t.comment.votes_down}},[t._v("\n          "+t._s(t.votes)+"\n        ")]),t._v(" "),n("div",{staticClass:"comment__rating-action",class:"down"===t.comment.userVote&&"comment__rating-action_active",attrs:{"data-action":"down"}},[n("svg",{staticClass:"comment__rating-icon"},[n("use",{attrs:{"xlink:href":"#icon-arrow-down"}})])])])],1),t._v(" "),t.showForm?n("comment-reply",{attrs:{"is-reply":!0,page:t.comment.page_id,"root-id":t.rootId,"comment-level":t.commentLevel}}):t._e()],1),t._v(" "),!t.show&&t.hasChilds?n("button",{staticClass:"comment__expand button_link",on:{click:t.toggleCollapse}},[t._v("\n    Развернуть ветку\n  ")]):t._e(),t._v(" "),t.hasChilds&&t.show?n("div",{staticClass:"comment__children",class:{"comment__children_new-line":t.isNewLine}},[n("div",{staticClass:"comment__collapse",on:{click:t.toggleCollapse}}),t._v(" "),t._l(t.children,function(e){return n("comment",{key:e.id,attrs:{comment:e,"root-id":t.rootId,"comment-level":t.commentLevel+1}})})],2):t._e()])},staticRenderFns:[]}},VpuQ:function(t,e,n){var r={};r[n("jAiL")("toStringTag")]="z",t.exports="[object z]"===String(r)},W529:function(t,e,n){var r=n("f931")(Object.keys,Object);t.exports=r},WFiI:function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},WHce:function(t,e,n){var r=n("037f"),o=n("Zk5a")(r);t.exports=o},WNGz:function(t,e,n){var r=n("xA5w");t.exports=function(t){var e=r(t);return e.setHours(0,0,0,0),e}},WQFf:function(t,e,n){var r=n("VORN"),o=n("vi0E"),i=n("HT7L");t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},Wh6c:function(t,e,n){var r=n("M1c9");t.exports=function(t,e,n){var o=t.length;return n=void 0===n?o:n,!e&&n>=o?t:r(t,e,n)}},WvIn:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},WxI4:function(t,e){t.exports=function(){this.__data__=[],this.size=0}},WyC4:function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},"XM+g":function(t,e,n){var r=n("+opI");t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},XgCd:function(t,e,n){"use strict";var r=String.prototype.replace,o=/%20/g,i=n("p8xL"),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports=i.assign({default:a.RFC3986,formatters:{RFC1738:function(t){return r.call(t,o,"+")},RFC3986:function(t){return String(t)}}},a)},Xqzd:function(t,e,n){var r=n("VU/8")(n("loOB"),n("kC8v"),!1,null,null,null);t.exports=r.exports},YDHx:function(t,e,n){var r=n("Uz1a"),o=n("UnEC");t.exports=function t(e,n,i,a,s){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,a,t,s))}},YRFD:function(t,e,n){var r=n("xA5w");t.exports=function(t,e){var n=r(t).getTime(),o=r(e).getTime();return n>o?-1:n<o?1:0}},YW5m:function(t,e,n){"use strict";var r=n("Mqyi");function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.options=n,this.render()}var e,n,r;return e=t,(n=[{key:"render",value:function(){}},{key:"remove",value:function(){this.parent&&this.root&&this.parent.removeChild(this.root),this.bar=null,this.root=null}}])&&o(e.prototype,n),r&&o(e,r),t}();function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,l(e).apply(this,arguments))}var n,o,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,i),n=e,(o=[{key:"render",value:function(){var t=this.options.size/2,e={r:this.radius,cx:t,cy:t,"stroke-dasharray":this.circumference};this.root=Object(r.a)("svg",{class:"progress-circle",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(this.options.size," ").concat(this.options.size)},Object(r.a)("circle",s({class:"progress-circle__circle","stroke-dashoffset":"0"},e)),Object(r.a)("circle",s({class:"progress-circle__circle progress-circle__circle_bar","stroke-dashoffset":this.circumference},e))),this.bar=this.root.querySelector(".progress-circle__circle_bar"),this.parent.appendChild(this.root)}},{key:"setValue",value:function(t){var e=this,n=(100-t)/100*this.circumference;requestAnimationFrame(function(){e.bar&&e.bar.setAttribute("stroke-dashoffset",n)})}},{key:"radius",get:function(){return(this.options.size-2)/2}},{key:"circumference",get:function(){return 2*Math.PI*this.radius}}])&&c(n.prototype,o),a&&c(n,a),e}();e.a=d},YeCl:function(t,e,n){var r=n("CW5P"),o=n("A9mX"),i=n("v8Dt"),a=n("agim"),s=n("Dv2r");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},YkxI:function(t,e,n){var r=n("wSKX"),o=n("Q2wK"),i=n("WHce");t.exports=function(t,e){return i(o(t,e,r),t+"")}},YsVG:function(t,e,n){var r=n("z4hc"),o=n("S7p9"),i=n("Dc0G"),a=i&&i.isTypedArray,s=a?o(a):r;t.exports=s},YveC:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},Z2pD:function(t,e,n){var r=n("dCZQ"),o="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}},ZD0O:function(t,e,n){var r=n("CHen"),o=n("RfZv");t.exports=function(t,e){return r(t,e,function(e,n){return o(t,n)})}},ZGh9:function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var o=typeof t;return!!(e=null==e?n:e)&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<e}},ZLZl:function(t,e,n){"use strict";n.d(e,"c",function(){return h}),e.b=function(t){if(m(t))return;d.push(t),p.push(t),v()},e.a=function(t,e,n){return _.apply(this,arguments)};var r=n("En79"),o=n.n(r),i=n("O4Lo"),a=n.n(i),s=n("mtWM"),c=n.n(s),u=n("Jaym");function l(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){l(i,r,o,a,s,"next",t)}function s(t){l(i,r,o,a,s,"throw",t)}a(void 0)})}}var d=[],p=[],h={chapter:"Главы",comments:"Комментарии",friend:"Заявки",message:"Сообщения",other:"Другое"},v=a()(function(){var t={ids:[].concat(p)};c.a.delete("/notification/destroy",{data:t}),p.length=0},1e3),m=function(t){return-1!==Object(u.e)(d,function(e){return e===t})};var g=[],b=function(){var t=f(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=new FormData).append("_token",Object(u.h)()),g.forEach(function(t){e.append("ids[]",t)}),g=[],!navigator.sendBeacon){t.next=8;break}navigator.sendBeacon("/notification/read",e),t.next=16;break;case 8:return t.prev=8,t.next=11,c.a.post("/notification/read",e);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(8),console.error(t.t0);case 16:case"end":return t.stop()}},t,null,[[8,13]])}));return function(){return t.apply(this,arguments)}}(),y=a()(b,1500);function _(){return(_=f(o.a.mark(function t(e,n,r){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:g.push(e),r?y():(b(),window.location=n);case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}},ZT2e:function(t,e,n){var r=n("o2mx");t.exports=function(t){return null==t?"":r(t)}},Zk5a:function(t,e){var n=800,r=16,o=Date.now;t.exports=function(t){var e=0,i=0;return function(){var a=o(),s=r-(a-i);if(i=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},"a/rO":function(t,e,n){"use strict";var r=n("9mDF"),o=n("HLWT"),i=n("eZ0g"),a=n("I1z2"),s=n("RxPu"),c=a.set,u=a.getterFor("Array Iterator");t.exports=s(Array,"Array",function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},a4aT:function(t,e,n){var r=n("q0qZ"),o=n("r54x"),i=n("l/2K"),a=Object.defineProperty,s={},c=function(t){throw t};t.exports=function(t,e){if(i(s,t))return s[t];e||(e={});var n=[][t],u=!!i(e,"ACCESSORS")&&e.ACCESSORS,l=i(e,0)?e[0]:c,f=i(e,1)?e[1]:void 0;return s[t]=!!n&&!o(function(){if(u&&!r)return!0;var t={length:-1};u?a(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,l,f)})}},aCM0:function(t,e,n){var r=n("NkRn"),o=n("uLhX"),i=n("+66z"),a="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:c&&c in Object(t)?o(t):i(t)}},aOhm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("9UkZ"),a=n.n(i),s=n("kbi+"),c=n.n(s),u=n("I3G/"),l=n.n(u),f=n("mtWM"),d=n.n(f),p=n("7/oE"),h=n("abp6"),v=n.n(h),m=n("oG8a"),g=n("DaqH"),b=n.n(g),y=n("oTFi");function _(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function O(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){_(i,r,o,a,s,"next",t)}function s(t){_(i,r,o,a,s,"throw",t)}a(void 0)})}}e.default=l.a.extend({components:{VueModal:v.a},mixins:[Object(p.a)(!1)],data:function(){return{score:[5,4,3,2,1],folders:{items:[],byId:{}},cachedItems:{},id:0,slug:null,loading:!0,changeStatusLoading:!1}},computed:{mangaInfo:function(){return this.cachedItems[this.id]},mangaStatusText:function(){return this.mangaInfo&&!this.mangaInfo.auth_user?null:this.bookmarkStatus?this.currentFolder.name:"Добавить в список"},currentFolder:function(){return c()(this.folders,{id:this.bookmarkStatus})},bookmarkStatus:function(){return this.mangaInfo.book_status?this.mangaInfo.book_status.status:null},currentRating:function(){return this.mangaInfo?Math.round(parseFloat(this.mangaInfo.rate_avg)):0},chapterLink:function(){var t="/".concat(this.mangaInfo.slug),e=1,n=this.mangaInfo.first_chapter.volume,r=this.mangaInfo.first_chapter.number;return this.mangaInfo.book_status&&a()(this.mangaInfo.book_status.dsc)&&(n=this.mangaInfo.book_status.dsc.volume,r=this.mangaInfo.book_status.dsc.number,e=this.mangaInfo.book_status.dsc.page),"".concat(t,"/v").concat(n,"/c").concat(r,"?page=").concat(e)},chapterLinkText:function(){return this.mangaInfo.book_status&&-1==this.mangaInfo.book_status.page_id?"Продолжить читать":"Начать читать"}},created:function(){var t=O(o.a.mark(function t(){var e,n,r=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._autoMount(),t.prev=1,t.next=4,d.a.get("/bookmark-folder");case 4:e=t.sent,n=e.data,this.folders=n,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:this._changeStatusModal=new b.a({propsData:{folders:this.folders,onSelected:function(){r.changeStatusLoading=!0,y.a.close()},onChanged:function(t){r.changeStatusLoading=!1,r.mangaInfo.book_status={status:t.id}},onCreated:function(t){r.folders.push(t)}}});case 13:case"end":return t.stop()}},t,this,[[1,9]])}));return function(){return t.apply(this,arguments)}}(),methods:{changeStatus:function(){this._changeStatusModal.show(this.id,this.slug,this.bookmarkStatus)},show:function(){var t=O(o.a.mark(function t(e,n){var r,i,a,s=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.$nextTick(function(){return y.a.show(s.$el)}),this.cachedItems[e]){t.next=16;break}return this.loading=!0,t.prev=3,r={slug:n,id:e,advanced_info:1},t.next=7,d.a.get("/manga-short-info",{params:r});case 7:i=t.sent,a=i.data,this.$set(this.cachedItems,e,a),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),console.error(t.t0),m.default.alert("Произошла ошибка при загрузке манги");case 16:this.id=e,this.slug=n,this.loading=!1;case 19:case"end":return t.stop()}},t,this,[[3,12]])}));return function(e,n){return t.apply(this,arguments)}}()}})},aPs8:function(t,e,n){var r=n("VU/8")(n("T5cH"),n("qd7i"),!1,function(t){n("sN/x")},null,null);t.exports=r.exports},aQOO:function(t,e){t.exports=function(t){return this.__data__.has(t)}},aZpi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("uUYp"),n("0vOO"),n("CwNI"),n("m1su"),n("qEBd"),n("MU8w");var r=Element.prototype,o=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1},i=Element.prototype;i.closest||(i.closest=function(t){for(var e=this;e;){if(o.call(e,t))return e;e=e.parentElement}});n("bRTM"),n("OpCx"),n("11ho");SVGElement.prototype.contains||(SVGElement.prototype.contains=HTMLDivElement.prototype.contains);var a=n("yPE/"),s=n.n(a);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l={paste:!0,type:!0,image:!0},f=/https?:\/\/[\S]/g,d=/(?:\s|^)(https?:\/\/[^\s]+)/,p=s.a.import("delta"),h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opts=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){c(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},l,{},n),this.opts.type&&this.registerTypeListener(e),this.opts.paste&&this.registerPasteListener(e)}var e,n,r;return e=t,(n=[{key:"registerTypeListener",value:function(t){var e=this;t.keyboard.addBinding({collapsed:!0,key:" ",prefix:d,handler:function(n,r){var o=e.sliceFromLastWhitespace(r.prefix),i=n.index-o.length,a=i?[{retain:i}]:[];return a.push({delete:o.length}),a.push({insert:o,attributes:{link:o}}),t.updateContents({ops:a}),!0}})}},{key:"registerPasteListener",value:function(t){var e=this;t.clipboard.addMatcher(Node.TEXT_NODE,function(t,n){if(f.test(t.nodeValue)){var r=new p;return t.nodeValue.replace(/(https?:\/\/[^\s]+)/g,"".concat("[link]","$1").concat("[link]")).split("[link]").filter(function(t){return t.length>0}).forEach(function(t){if(/https?:\/\/.*/.test(t)){if(t=t.trim(),e.opts.image&&/https?:\/\/[\S]+\.(jpe?g|png|gif|webp)/.test(t))return r.insert({image:t});r.insert(t,{link:t})}else r.insert(t)}),r}return n})}},{key:"sliceFromLastWhitespace",value:function(t){var e=t.lastIndexOf(" "),n=-1===e?0:e+1;return t.slice(n)}}])&&u(e.prototype,n),r&&u(e,r),t}(),v=n("Mqyi");function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=s.a.import("blots/block/embed"),x=function(t){var e,n,r;function o(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=g(this,b(o).call(this,t));var n=t.querySelector(".ql-image-block__remove");return n.onclick=function(){n.onclick=null,t.parentNode.removeChild(t)},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(o,w),e=o,r=[{key:"create",value:function(t){return Object(v.a)("div",{contentEditable:!1,className:"ql-image-block"},Object(v.a)("div",{className:"ql-image-block__wrapper"},Object(v.a)("img",{src:"string"==typeof t?t:t.src,className:"ql-image-block__img"}),Object(v.a)("button",{className:"ql-image-block__remove"},Object(v.a)("i",{className:"ql-image-block__icon fa fa-fw fa-trash"}))))}},{key:"value",value:function(t){var e=t.querySelector("img");return!!e&&{src:e.src,width:e.naturalWidth,height:e.naturalHeight}}}],(n=null)&&y(e.prototype,n),r&&y(e,r),o}();O(x,"blotName","image"),O(x,"tagName","img");var k=x,j=n("lHK6"),C=n.n(j),E=n("VMsc"),P=n.n(E),S=n("7pyE"),A=n.n(S),T=n("oqL2"),N=n.n(T),L=n("kvU2"),M=n.n(L);s.a.prototype.getEscapedContents=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=M()(this.getContents.apply(this,e)),o=N()(r.ops);return"string"==typeof o.insert&&(o.insert=o.insert.replace(/\n+$/,"")),r.ops.forEach(function(t){"string"==typeof t.insert&&(t.insert=t.insert.replace(/(\n\n)+/g,"\n\n"),t.insert=t.insert.replace(/\n/g,"\\n"),A()(t.insert," ")&&(t.insert="\\s"+t.insert.slice(1)),P()(t.insert," ")&&(t.insert=t.insert.slice(0,-1)+"\\s"))}),r.ops=r.ops.filter(function(t){return!C()(t.insert)}),r},s.a.register("modules/autoLinks",h),s.a.register({"formats/image":k},!0);var I=n("mtWM"),D=n.n(I),q=n("Jaym"),R=n("En79"),B=n.n(R);function F(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var H=!1;var U=function(t){t.interceptors.response.use(function(t){return t},(e=B.a.mark(function e(n){var r;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.response)||419!==r.status||!/csrf token mismatch/i.test(r.data.message)||H){e.next=4;break}return H=!0,e.abrupt("return",t.get("/_refresh-token").then(function(e){var r=e.data;return t.defaults.headers["X-CSRF-TOKEN"]=r.csrf,n.config.headers&&(delete n.config.headers["X-CSRF-TOKEN"],delete n.config.headers["X-XSRF-TOKEN"]),t.request(n.config)}));case 4:return e.abrupt("return",Promise.reject(n));case 5:case"end":return e.stop()}},e)}),n=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(t){F(i,r,o,a,s,"next",t)}function s(t){F(i,r,o,a,s,"throw",t)}a(void 0)})},function(t){return n.apply(this,arguments)}));var e,n};var z=function(t){},W=n("Ngrm");var V=function(t){t.interceptors.response.use(function(t){return t},function(t){var e=t.response;if(e&&e.data&&404!==e.status){var n=e.data,r=n.errors,o=n.message;if(r)if(Object(q.j)(r))o=r[0];else if(Object(q.n)(r)){var i=r[Object.keys(r)[0]];Object(q.j)(i)&&(o=i[0]),Object(q.o)(i)&&(o=i)}o&&(/csrf token/gi.test(o)&&(o="Сессия устарела, перезагрузите страницу и повторите действие"),W.a.alert(o))}return console.error(t),Promise.reject(t)})};D.a.defaults.headers["X-CSRF-TOKEN"]=Object(q.h)(),D.a.defaults.headers["X-Requested-With"]="XMLHttpRequest",U(D.a),V(D.a),z(D.a);var G=n("u5FJ"),$=n("I3G/"),Y=n.n($),K=n("vBvW"),Z=n.n(K),Q=function(t,e,n){var r=n.includeSeconds,o=n.addSuffix;return void 0===o&&(o=!0),Z()(t,{locale:e,includeSeconds:r,addSuffix:o})},J=function(t,e){if(!t.prototype.$timeago){var n={locale:e.locale};t.prototype.$timeago=t.observable?t.observable(n):new t({data:n});var r=function(t){void 0===t&&(t={});var e=t.locales||{};return{name:t.name||"Timeago",props:{datetime:{required:!0},title:{type:[String,Boolean]},locale:{type:String},autoUpdate:{type:[Number,Boolean]},converter:{type:Function},converterOptions:{type:Object}},data:function(){return{timeago:this.getTimeago()}},computed:{localeName:function(){return this.locale||this.$timeago.locale}},mounted:function(){this.startUpdater()},beforeDestroy:function(){this.stopUpdater()},render:function(t){return t("time",{attrs:{datetime:new Date(this.datetime),title:"string"==typeof this.title?this.title:!1===this.title?null:this.timeago}},[this.timeago])},methods:{getTimeago:function(n){return(this.converter||t.converter||Q)(n||this.datetime,e[this.locale||this.$timeago.locale],this.converterOptions||{})},convert:function(t){this.timeago=this.getTimeago(t)},startUpdater:function(){var t=this;if(this.autoUpdate){var e=!0===this.autoUpdate?60:this.autoUpdate;this.updater=setInterval(function(){t.convert()},1e3*e)}},stopUpdater:function(){this.updater&&(clearInterval(this.updater),this.updater=null)}},watch:{autoUpdate:function(t){this.stopUpdater(),t&&this.startUpdater()},datetime:function(){this.convert()},localeName:function(){this.convert()},converter:function(){this.convert()},converterOptions:{handler:function(){this.convert()},deep:!0}}}}(e);t.component(r.name,r)}},X=n("1Vro"),tt=n.n(X),et=n("+nGo"),nt=n.n(et),rt=n("Eoz/"),ot=n.n(rt),it={install:function(t){t.filter("date",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD.MM.YYYY";return(arguments.length>2?arguments[2]:void 0)&&(t=nt()(t)),ot()(t,e)})}},at=/\.0+$|(\.[0-9]*[1-9])0+$/,st=[{value:1e9,symbol:"млрд"},{value:1e6,symbol:"млн."},{value:1e3,symbol:"тыс."}];function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Object(q.d)(st,function(e){return t>=e.value});return n?(t/n.value).toFixed(e).replace(at,"$1")+" "+n.symbol:t}Y.a.use(it),Y.a.use(function(t){t.filter("formatNumber",ct)});var ut=n("iSNJ");function lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ft={install:function(t,e){function n(t,n,r){var o=r.data&&r.data.on||r.componentOptions&&r.componentOptions.listeners,i=n.value||{};i=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){lt(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({showOnLoad:!1},e,{},i),o&&o.show&&(i.onShow=function(){o.show.fns()}),o&&o.shown&&(i.onShown=function(){o.shown.fns()}),o&&o.hidden&&(i.onHidden=function(){o.hidden.fns()}),o&&o.hide&&(i.onHide=function(){o.hide.fns()}),i.html&&(i.reactive?i.html=Object(G.l)(i.html):Object(G.l)(i.html)._tipppyReference=t),new ut.a(t,i),Object(G.f)(t,"data-tippy-html")&&(Object(G.l)(Object(G.f)(t,"data-tippy-html"))._tipppyReference=t),i.showOnLoad&&t._tippy.show()}t.directive("tippy-html",{componentUpdated:function(e){var n=e._tipppyReference._tippy;n&&t.nextTick(function(){Object(G.l)(".tippy-content",n.popper).innerHTML=e.innerHTML})},unbind:function(t){t._tippy&&t._tippy.destroy(),delete t._tipppyReference}}),t.directive("tippy",{inserted:function(t,e,r){n(t,e,r)},unbind:function(t){t._tippy&&t._tippy.destroy()},componentUpdated:function(t,e,r){var o=e.value||{},i=e.oldValue||{};t._tippy&&JSON.stringify(o)!==JSON.stringify(i)&&n(t,e,r),t._tippy&&o.show?t._tippy.show():t._tippy&&!o.show&&"manual"===o.trigger&&t._tippy.hide()}})}},dt=n("BV6Q"),pt={install:function(t){t.directive("magic-line",{inserted:function(t){t.__line__=new dt.a(t,{onClick:!1})},componentUpdated:function(t){t.__line__&&t.__line__._update()},unbind:function(t){t.__line__&&t.__line__.destroy(),delete t.__line__}})}},ht=n("JnrT"),vt=n.n(ht);Y.a.use(ft),Y.a.use(pt),Y.a.use(function(t){t.directive("auto-height",{inserted:function(t){vt()(t)},unbind:function(t){var e=t.offsetHeight;vt.a.destroy(t),t.style.height=e+"px"}})});var mt=n("Us2S"),gt=n("ATG8");Y.a.use(J,{name:"Timeago",locale:"ru",locales:{ru:tt.a},converter:function(t,e){return Z()(nt()(t),{locale:e,addSuffix:!0})}}),Y.a.prototype.$AppEmitter=q.b,Y.a.prototype.$url=mt.a,Y.a.prototype.$toast=W.a,Y.a.prototype.$pageLoader=gt.a,n("J+MW"),n("ykT4"),n("vYLk"),n("oG8a"),n("OJry");var bt=n("vrSs");function yt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object(ut.a)("[data-tippy-content]",bt.d),document.addEventListener("DOMContentLoaded",function(){Object(ut.a)("[data-dropdown]",function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){yt(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},bt.e,{content:function(t){var e=t.closest(".dropdown");return Object(G.l)(".menu",e)},onHide:function(t){q.b.emit("dropdown.hide",t),G.g.remove(this._reference,"dropdown_active")},onShow:function(t){q.b.emit("dropdown.show",t),G.g.add(this._reference,"dropdown_active")}}))});var _t=n("arOy");new(n.n(_t).a)({elements_selector:".lazyload",callback_error:function(t){G.g.has(t,"avatar")&&(t.src="/uploads/users/placeholder.png")}});var Ot=Object(G.l)(".m-menu"),wt=Object(G.l)(".header-toggle"),xt=Object(G.l)("#page-overlay"),kt=document.body,jt=function(){G.g.remove(kt,"m-menu-opened"),G.g.remove(Ot,"m-menu_hidden"),Object(q.f)(Object(G.m)(".".concat("m-submenu_open")),function(t){return G.g.remove(t,"m-submenu_open")}),kt.style.paddingRight=""};Object(G.c)(wt,"click",function(){var t=window.innerWidth-kt.offsetWidth;G.g.add(kt,"m-menu-opened"),kt.style.paddingRight="".concat(t,"px")}),Object(G.c)(xt,"click",jt),Object(G.a)(Ot,"click","[data-close-menu]",jt),Object(G.a)(Ot,"click","[data-open]",function(t,e){t.preventDefault();var n=Object(G.f)(e,"data-open"),r=Object(G.l)('[data-submenu="'.concat(n,'"]'),Ot);G.g.add(Ot,"m-menu_hidden"),G.g.add(r,"m-submenu_open")}),Object(G.a)(Ot,"click",".m-submenu__back",function(t,e){var n=e.closest(".m-submenu");G.g.remove(n,"m-submenu_open"),G.g.remove(Ot,"m-menu_hidden")});var Ct=n("ZLZl"),Et=n("alMs");function Pt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}Object(G.c)('[data-notification-action="remove-all"]',"click",function(){confirm("Удалить все уведомления?")&&D.a.delete("/notification/destroy",{data:{destroyAll:!0}}).then(function(){return location.reload()})}),Object(G.c)('[data-notification-action="read-all"]',"click",function(t){var e=G.f.get(t.currentTarget,"data-type"),n="Отметить всё как прочитанное?";"all"!==e&&(n='Отметить всё прочитанным из категории "'.concat(Ct.c[e],'"?')),Et.a.confirm({text:n,onConfirm:function(){var t,n=(t=B.a.mark(function t(){return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.post("/notification/read-all",{type:e});case 3:location.reload(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),W.a.httpError(t.t0,"Приозошла неизвестная ошибка");case 9:Et.a.close(!0);case 10:case"end":return t.stop()}},t,null,[[0,6]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){Pt(i,r,o,a,s,"next",t)}function s(t){Pt(i,r,o,a,s,"throw",t)}a(void 0)})});return function(){return n.apply(this,arguments)}}()})}),Object(G.a)("#user-notifications","click","a[data-id]",function(t,e){t.preventDefault();var n=Object(G.f)(e,"data-id"),r=Object(G.f)(e,"href");Object(Ct.a)(n,r)}),Object(G.a)("#user-notifications","click",".notification-item__remove",function(t,e){t.preventDefault();var n=e.parentNode,r=n.parentNode,o=1===r.children.length,i=Object(G.l)("[data-id]",n),a=Object(G.f)(i,"data-id");!function(t,e){var n=function(){return t.removeChild(e)};arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?n():(e.style.height="".concat(e.offsetHeight,"px"),Object(q.c)(function(){e.style.height=0,e.style.opacity=0}),Object(q.c)(n,200))}(r,n,!o),o&&r.appendChild(Object(v.a)("div",{className:"notifications__empty"},"Нет новых уведомлений")),Object(Ct.b)(a)});var St=n("LQly"),At=n("oTFi");function Tt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var Nt=Object(G.l)("#sign-in-form");if(Nt){var Lt=Object(G.l)('button[type="submit"]',Nt);Object(G.c)(Nt,"submit",function(t){var e=new FormData(Nt),n=Object(G.f)(Nt,"action");t.preventDefault(),Object(St.a)(Lt,!0),D.a.post(n,e,{transformRequest:function(t,e){return delete e["X-CSRF-TOKEN"],delete e["X-Requested-With"],t}}).then(function(t){return t.data}).then(function(t){var e=t.status,n=t.message,r="success"===e?"confirm":"alert";W.a[r](n),Object(St.a)(Lt,!1),"success"===e&&location.reload()}).catch(function(){return Object(St.a)(Lt,!1)})}),Object(G.c)("#show-login-button","click",function(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){Tt(i,r,o,a,s,"next",t)}function s(t){Tt(i,r,o,a,s,"throw",t)}a(void 0)})}}(B.a.mark(function t(){var e,n,r,o,i;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=B.a.keys(bt.i.domainsById);case 1:if((t.t1=t.t0()).done){t.next=20;break}if(n=t.t1.value,!bt.i.isNot(n)){t.next=18;break}return r=bt.i.domainsById[n],t.prev=5,t.next=8,D.a.get("https://".concat(r,"/auth/user"));case 8:if(o=t.sent,!(i=o.data).token){t.next=13;break}return e=i.token,t.abrupt("break",20);case 13:t.next=18;break;case 15:t.prev=15,t.t2=t.catch(5),console.error(t.t2);case 18:t.next=1;break;case 20:if(!e){t.next=32;break}return t.prev=21,t.next=24,D.a.post("/api/auth/user/get",{token:e});case 24:if(!t.sent.data.success){t.next=27;break}return t.abrupt("return",location.reload());case 27:t.next=32;break;case 29:t.prev=29,t.t3=t.catch(21),console.error(t.t3);case 32:At.a.show("#sign-in-modal");case 33:case"end":return t.stop()}},t,null,[[5,15],[21,29]])})))}Object(G.c)("#logout-button","click",function(t){t.preventDefault();var e=Object(v.a)("form",{className:"hidden",action:"".concat(location.origin,"/auth/logout"),method:"GET"},Object(v.a)("input",{type:"hidden",name:"_token",value:Object(q.h)()}));document.body.appendChild(e),e.submit()});var Mt=Object(G.l)(".flash-messages");if(Mt){var It=Object(G.m)(".alert",Mt);Object(G.a)(It,"click",".alert__close",function(t,e){var n=e.closest(".alert");Mt.removeChild(n)})}var Dt=Object(G.m)(".".concat("form__input_error"));if(Dt.length){var qt=function t(){var e=this.closest(".form__field");if(G.g.remove(this,"form__input_error"),e){var n=Object(G.l)(".form__error",e);G.g.add(n,"hidden")}Object(G.b)(this,"focus",t)};Dt.forEach(function(t){return Object(G.c)(t,"focus",qt)})}var Rt=n("qrdl"),Bt=n.n(Rt),Ft=n("309y"),Ht=n.n(Ft),Ut=n("HN2V"),zt=n.n(Ut),Wt=n("YW5m");function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kt(t,e){return(Kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qt=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,o=$t(e).call(this),Zt(Yt(n=!o||"object"!==Vt(o)&&"function"!=typeof o?Yt(r):o),"_onEnter",function(t){G.g.add(t.currentTarget,"is-dragover"),n.emit("dragenter",t)}),Zt(Yt(n),"_onLeave",function(t){G.g.remove(t.currentTarget,"is-dragover"),n.emit("dragleave",t)}),Zt(Yt(n),"_onDrop",function(t){var e=t.currentTarget,r=t.dataTransfer.files;G.g.remove(e,"is-dragover"),n.emit("drop",r)}),n.options=t,n.dropArea=t.dropArea,n.init(),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kt(t,e)}(e,q["a"]),n=e,(r=[{key:"init",value:function(){if(!this._dropSupported())return G.g.add(this.dropArea,"no-drop");this.bindEvents()}},{key:"_dropSupported",value:function(){var t=document.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t}},{key:"bindEvents",value:function(){this.dropArea&&(Object(G.c)(this.dropArea,"dragenter",this._onEnter),Object(G.c)(this.dropArea,"dragleave",this._onLeave),Object(G.c)(this.dropArea,"drop",this._onDrop),Object(G.c)(this.dropArea,"dragenter dragleave dragover drop",function(t){t.preventDefault(),t.stopPropagation()}))}},{key:"destroy",value:function(){this.dropArea&&(Object(G.b)(this.dropArea,"dragenter",this._onEnter),Object(G.b)(this.dropArea,"dragleave",this._onLeave),Object(G.b)(this.dropArea,"drop",this._onDrop))}}])&&Gt(n.prototype,r),o&&Gt(n,o),e}(),Jt={fileAdded:"fileAdded",start:"start",complete:"complete",error:"error",imageRemoved:"imageRemoved"};function Xt(t){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function ee(t,e){return!e||"object"!==Xt(e)&&"function"!=typeof e?re(t):e}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function re(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ie(t,e,n){return e&&oe(t.prototype,e),n&&oe(t,n),t}function ae(t,e){return(ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function se(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ce={uploadAfterChange:!0,fileProp:"file",axiosConfig:{url:"/upload/image",method:"POST"},inputProps:{type:"file",className:"hidden",hidden:!0,accept:"image/*"},plugins:{}},ue=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),se(re(t=ee(this,ne(e).call(this))),"files",null),se(re(t),"el",null),se(re(t),"plugins",[]),se(re(t),"_loading",!1),se(re(t),"_onFileAdded",function(e){t.disabled||(t.files=e,t.emit(Jt.fileAdded,e),t.options.uploadAfterChange&&t.upload())}),se(re(t),"_showDisabledMessage",function(e){if(t.options.checkDisable){var n=t.options.checkDisable();if(n.status)return W.a.info(n.message),e.stopPropagation(),e.preventDefault(),t.disable()}t.enable()}),t.options=zt()({},ce,n),t.options.el?(t.trigger=Object(G.l)(".uploader-trigger",t.options.el),t.wrap=Object(G.l)(".uploader-wrap",t.options.el),t.disabled=!1,t.dropzone=new Qt({dropArea:t.trigger}),t.init(),t):ee(t)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ae(t,e)}(e,q["a"]),ie(e,null,[{key:"setInputValue",value:function(t){return function(e){var n=document.querySelector('input[name="'.concat(t,'"]')),r="";e&&e.file_name&&(r=e.file_name),n&&(n.value=r)}}}]),ie(e,[{key:"init",value:function(){this._createInput(),this.bindEvents(),this.initPlugins()}},{key:"bindEvents",value:function(){Object(G.c)(this._input,"change",this._onInputChange.bind(this)),Object(G.c)(this.trigger,"click",this._showDisabledMessage),this.dropzone.on("drop",this._onFileAdded)}},{key:"initPlugins",value:function(){var t=this;Ht()(this.options.plugins,function(e){var n=e.config||{};t.plugins.push(new e.class(t,n))}),this.plugins.forEach(function(t){return t.install()})}},{key:"upload",value:function(){var t,e=(t=B.a.mark(function t(){var e,n,r;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loading){t.next=2;break}return t.abrupt("return",Promise.reject("Идёт загрузка"));case 2:if(!this.disabled){t.next=4;break}return t.abrupt("return",Promise.reject("Загрузчик имеет статус disabled: true"));case 4:if(e=this._getAxiosConfig(),n=this._getFormData()){t.next=8;break}return t.abrupt("return",Promise.reject("В FormData пусто"));case 8:return e.data=n,this.loading=!0,this.progress=new Wt.a(this.trigger,{size:46}),this.emit(Jt.start),t.prev=12,t.next=15,D.a.request(e);case 15:r=t.sent,this.emit(Jt.complete,r.data,r),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(12),this.emit(Jt.error,t.t0),console.error(t.t0);case 23:return this.loading=!1,this.progress.remove(),t.abrupt("return",r);case 26:case"end":return t.stop()}},t,this,[[12,19]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){te(i,r,o,a,s,"next",t)}function s(t){te(i,r,o,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}()},{key:"disable",value:function(){return this._input.disabled=!0,this.disabled=!0}},{key:"enable",value:function(){return this._input.disabled=!1,this.disabled=!1}},{key:"_createInput",value:function(){this._input=Object(v.a)("input",this.options.inputProps),this.trigger.appendChild(this._input)}},{key:"_getAxiosConfig",value:function(){var t=this,e=this.options.axiosConfig,n=e.onUploadProgress||Bt.a;return e.onUploadProgress=function(e){var r=Math.round(100*e.loaded/e.total);t.progress.setValue(r),n(e)},zt()({},e)}},{key:"_getFormData",value:function(){var t=this.files,e=t;if(!t)return null;if(t instanceof FileList){if(!t.length)return null;e=t[0]}t instanceof Blob&&(e=t);var n=new FormData;return n.append("file",e,e.name),this.options.formData&&this.options.formData(n),n}},{key:"_onInputChange",value:function(t){var e=t.target.files;this._onFileAdded(e)}},{key:"loading",get:function(){return this._loading},set:function(t){this._loading=t,G.g.toggle(this.options.el,"is-loading",t)}}]),e}();function le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var de=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),fe(this,"img",null),fe(this,"root",null),fe(this,"deleteBtn",null),fe(this,"onRemoveClick",function(){r.parent.disabled||r.config.disableRemove||r.parent.loading||(r.config.confirmRemove?Et.a.confirm({text:r.config.confirmRemove.text,onConfirm:r.remove}):r.remove())}),fe(this,"remove",function(){Et.a.close(!0),r.setPreview(null),r.parent.emit(Jt.imageRemoved)}),this.parent=e,this.config=n}var e,n,r;return e=t,(n=[{key:"install",value:function(){var t=this,e=G.f.get(this.parent.options.el,"data-src",{},this.config.src);this.createPreviewEl(),this.setPreview(e),Object(G.c)(this.deleteBtn,"click",this.onRemoveClick),this.parent.on(Jt.complete,function(e){e.url&&t.setPreview(e.url)})}},{key:"createPreviewEl",value:function(){this.img=Object(v.a)("div",{className:"uploader-preview__img"}),this.deleteBtn=Object(v.a)("button",{className:"uploader-preview__remove tooltip","aria-label":"Удалить","data-place":"right"},Object(v.a)("i",{className:"fa fa-trash-o"})),this.root=Object(v.a)("div",{className:"uploader-preview"}),this.root.appendChild(this.img),this.root.appendChild(this.deleteBtn),this.parent.wrap.appendChild(this.root)}},{key:"setPreview",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.img.style=t?"background-image: url(".concat(t,")"):"",G.g.toggle(this.root,"is-empty",!t)}}])&&le(e.prototype,n),r&&le(e,r),t}();function pe(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){me(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function he(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ge=function(){function t(e){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),me(this,"config",{}),me(this,"onCrop",function(t){r.parent.files=t,r.parent.upload()}),me(this,"showCropper",function(){var t,e=(t=B.a.mark(function t(e){var o,i,a,s,c,u,l,f;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!e.length){t.next=20;break}return o=e[0],t.next=4,r.getImageUrl(o);case 4:return i=t.sent,t.next=7,r.getImageSize(i);case 7:if(a=t.sent,s=pe({size:o.size,type:o.type,url:i},a),!r.config.checkSize){t.next=15;break}if(c=r.config.checkSize,u=c.width,l=c.height,!(u>s.width)){t.next=13;break}return t.abrupt("return",W.a.alert("Изображение не подходит по размеру, минимальная ширина ".concat(u,"px")));case 13:if(!(l>s.height)){t.next=15;break}return t.abrupt("return",W.a.alert("Изображение не подходит по размеру, минимальная высота ".concat(l,"px")));case 15:if(f={component:function(){return new Promise(function(t){n.e(20).then(function(e){t(n("RJWe"))}.bind(null,n)).catch(n.oe)})},props:{url:i,imgData:s,options:r.config.options,croppedCanvasData:r.config.croppedCanvasData,onCrop:r.onCrop}},!r.config.checkShowCropper){t.next=19;break}if(r.config.checkShowCropper(s)){t.next=19;break}return t.abrupt("return",r.parent.upload());case 19:Et.a.open(f);case 20:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){he(i,r,o,a,s,"next",t)}function s(t){he(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}()),this.parent=e,this.config=o}var e,r,o;return e=t,(r=[{key:"install",value:function(){this.parent.on(Jt.fileAdded,this.showCropper)}},{key:"getImageSize",value:function(t){return new Promise(function(e){var n=new Image;n.onload=function(){var t={width:n.naturalWidth,height:n.naturalHeight,ratio:n.naturalWidth/n.naturalHeight};e(t)},n.src=t})}},{key:"getImageUrl",value:function(t){return new Promise(function(e){if(URL)e(URL.createObjectURL(t));else if(FileReader){var n=new FileReader;n.onload=function(){e(n.result)},n.readAsDataURL(t)}})}}])&&ve(e.prototype,r),o&&ve(e,o),t}();function be(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ye=Object(G.m)("[data-uploader-init]");ye.length&&Object(q.f)(ye,function(t){var e=G.f.get(t,"data-uploader-init",{parseJSON:!0},{}),n=new ue({el:t,uploadAfterChange:!1,formData:function(t){t.append("type",e.type),t.append("image_category","cover")},plugins:{preview:{class:de,config:{src:e.src}},cropper:{class:ge,config:{options:function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){be(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},bt.b),croppedCanvasData:{minWidth:375}}}}});!1===e.canEdit&&n.disable(),n.on(Jt.complete,ue.setInputValue(e.input)),n.on(Jt.imageRemoved,ue.setInputValue(e.input))});var _e=n("O4Lo"),Oe=n.n(_e);function we(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xe,ke,je=D.a.CancelToken,Ce=Object(G.m)(".choice-init"),Ee={removeItemButton:!0,duplicateItems:!1,searchResultLimit:30,loadingText:"Поиск...",searchFields:["label"],noResultsText:"...",noChoicesText:"Больше нечего выбрать",itemSelectText:"Нажмите чтобы выбрать",searchPlaceholderValue:"Поиск...",callbackOnInit:function(){var t=this.containerOuter.parentNode,e=Object(G.l)(".form__input",t);t.removeChild(e)}};function Pe(){Ce.forEach(function(t){var e=Object(G.l)(".choice-target",t),n=Object(G.f)(t,"data-options");if(e){if(n)try{n=JSON.parse(n)}catch(t){n={}}var r=new xe(e,function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){we(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},Ee,{},n));if(n&&n.search){var o=Oe()(function(t){var e=t.detail.value.trim();if(!(e.length<2)){if(ke)try{ke()}catch(t){}D.a.get(n.search,{params:{q:e},cancelToken:new je(function(t){return ke=t})}).then(function(t){return t.data}).then(function(t){t.forEach(function(t){return t.id=String(t.id)}),r.setChoices(t,"id","value",!0)}).catch(function(){})}},300);r.passedElement.addEventListener("search",o)}}})}Ce.length&&new Promise(function(t){n.e(25).then(function(e){t(n("Deij"))}.bind(null,n)).catch(n.oe)}).then(function(t){xe=t,Pe()});var Se=n("A7pH"),Ae=function(t,e){t.disabled=e,G.g.toggle(t,"buton_loading",e)};function Te(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object(G.m)(".editor[data-autoinit]").forEach(function(t){var e=Object(G.l)(".editor__toolbar",t),n=Object(G.l)(".editor__content",t),r=n.innerHTML,o=Object(Se.a)(n,{toolbar:e}),i=t.closest("form"),a=Object(G.f)(t,"data-name"),s=G.f.has(t,"data-required"),c=Object(v.a)("textarea",{name:a,className:"hidden",hidden:!0});o.setHTML(r),o.addEventListener("input",function(){c.value=o.getParsedHTML()}),i&&(c.value=o.getParsedHTML(),i.appendChild(c),Object(G.c)(i,"submit",function(t){t.preventDefault();var e=Object(G.l)('button[type="submit"]',i),n=G.f.has(i,"data-ajax-form");if(s&&o.isEmpty())return W.a.alert("Сообщение не должно быть пустым");if(i.appendChild(c),Ae(e,!0),n){var r=new FormData(i),a=Object(G.f)(i,"action");D.a.post(a,r).then(function(t){return t.data}).then(function(t){q.b.emit("editorSend",t),o.clearEditor(),Ae(e,!1)}).catch(function(){W.a.alert("Произошла ошибка при отправке"),Ae(e,!1)})}else i.submit()}))});var Le={openCls:"collapse_open",contentCls:"collapse__content",triggerCls:"collapse__trigger"},Me=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Te(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},Le,{},n),this.options=n,this.el=e,this.trigger=Object(G.l)(".".concat(n.triggerCls),e),this.content=Object(G.l)(".".concat(n.contentCls),e),this.bindEvents()}var e,n,r;return e=t,(n=[{key:"bindEvents",value:function(){Object(G.c)(this.trigger,"click",this.toggle.bind(this))}},{key:"toggle",value:function(){G.g.has(this.el,this.options.openCls)?this.close():this.open()}},{key:"open",value:function(){G.g.add(this.el,this.options.openCls)}},{key:"close",value:function(){G.g.remove(this.el,this.options.openCls)}}])&&Ne(e.prototype,n),r&&Ne(e,r),t}();Object(q.f)(Object(G.m)(".collapse"),function(t){return new Me(t)});var Ie=n("wC5p");Object(G.m)("[data-tabs-init]").forEach(function(t){var e,n=Object(G.f)(t,"data-tabs-init");if(n)try{e=JSON.parse(n)}catch(t){console.error(t)}new Ie.a(t,e)});var De=n("fK0A");Object(G.a)(document,"click","[data-toggle-theme]",function(t){t.preventDefault();var e=q.u.get("dark-theme",De.a),n=Object(G.f)(this,"data-toggle-theme");n||(n=e.enabled?"light":"dark");var r="dark"===n;Object(De.e)(r),e.enabled=r,e.autoEnable=!1,q.u.save("dark-theme",e)});var qe,Re,Be,Fe=n("mlqH"),He=n("Fwt4"),Ue=Object(G.l)(".search"),ze=Object(G.l)(".search__input",Ue),We=Object(G.l)(".search__types",Ue);Object(G.c)(".search .search__type","click",function(t){Ge(Object(G.h)(t.currentTarget))}),Object(G.c)("[data-search-toggle]","click",$e),Object(G.c)(Ue,"mousedown",function(t){t.target===t.currentTarget&&$e(t)}),Object(G.c)(ze,"keydown",function(t){if((t.which||t.keyCode)===bt.f.TAB){var e=Object(G.l)(".search__type_active",We),n=Object(G.h)(e,We);t.shiftKey?n-=1:n+=1,n<0&&(n=We.childElementCount-1),n===We.childElementCount&&(n=0),Ge(n),t.preventDefault()}}),Object(G.c)(window,"keyup",function(t){(t.which||t.keyCode)!==bt.f.ESC||G.g.has(Ue,"hidden")||$e(t)});var Ve={manga:function(t){return Object(v.a)("a",{href:"/".concat(t.slug),className:"manga-list-item manga-list-item_sm list-item"},Object(v.a)("div",{className:"manga-list-item__cover"},Object(v.a)("div",{className:"cover cover_responsive cover_shadow",style:"background-image: url(".concat(mt.a.coverThumb(t),")")})),Object(v.a)("div",{className:"manga-list-item__body"},Object(v.a)("div",{className:"manga-list-item__name"},t.rus_name||t.name,Object(v.a)("span",null,t.name||t.eng_name)),Object(v.a)("div",{className:"manga-list-item__meta"},Object(v.a)("span",{className:"manga-list-item__meta-rating","data-rating":"".concat(t.rate_avg>3.5?"positive":"negative")},t.rate_avg),Object(v.a)("span",{className:"manga-list-item__meta-type"},bt.l[t.type_id]))))},default:function(t){return Object(v.a)("div",{class:"list-item"},t.value)},user:function(t){return Object(v.a)("div",{className:"person-profile list-item"},Object(v.a)("img",{className:"person-profile__avatar avatar avatar_sm avatar_round cover shadow-sm",src:mt.a.avatar(t)}),Object(v.a)("span",{className:"person-profile__name"},t.value))},serie:function(t){var e=null,n=null;return t.items&&t.items.length&&(e=Object(v.a)("div",{className:"search-serie-list"},t.items.map(this.manga)),t.items_count>3&&(n=Object(v.a)("span",null,"показать все ",t.items_count))),Object(v.a)("div",{className:"search-serie-item"},Object(v.a)("div",{className:"search-serie-item__head"},Object(v.a)("div",{className:"search-serie-item__name"},Object(v.a)("a",{href:"/manga-list/?series[]=".concat(t.id),className:"link-default"},t.value,n))),e)}};function Ge(t){var e=Object(G.l)(".".concat("search__type_active"),We);Object(q.p)(t)&&(t=Object(G.h)(e,We));var n=We.children[t],r=Object(G.f)(n,"data-term");G.g.remove(e,"search__type_active"),G.g.add(n,"search__type_active"),Be=Object(G.f)(n,"data-url"),Re=Object(G.f)(n,"data-type"),ze.value="",ze.focus(),Object(G.f)(ze,"placeholder","Поиск ".concat(r)),qe.clearSuggestions().cancelRequest().toggleLoading(!1)}function $e(t){t.preventDefault(),G.g.toggle(Ue,"hidden");var e=!G.g.has(Ue,"hidden");e&&ze.focus(),Object(Fe.a)(e)}ze&&(qe=new He.a({el:Object(G.l)(".autocomplete",Ue),requestUrl:function(){return"".concat(Be)},renderItem:function(t){return Re in Ve?Ve[Re](t):Ve.default(t)},onSelect:function(t){var e=t.item,n={team:"/team/".concat(e.slug),author:"/people/".concat(e.slug),artist:"/people/".concat(e.slug),user:"/user/".concat(e.id)};if(Re in n)return location.assign(n[Re])}}),Ge(0));var Ye=Object(G.l)(".header_transparent"),Ke=function(){pageYOffset>=30?G.g.add(Ye,"header_highlight"):G.g.remove(Ye,"header_highlight")};Ye&&(Object(G.c)(window,"scroll",Ke),Ke());var Ze=n("08WP"),Qe=n.n(Ze),Je=n("Q/p3"),Xe=n.n(Je);if(Object(G.m)("[data-poll]").length){var tn={};Qe()("[data-poll]").on("enter",function(t){var e=Object(G.f)(t,"data-poll");e in tn||(tn[e]=!0,new Xe.a({propsData:{id:e}}))})}function en(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nn(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var rn,on=Object(G.l)("[data-toggle-subscription]");if(Object(G.c)("[data-toggle-subscription]","click",function(){var t,e=(t=B.a.mark(function t(e){var n,r,o,i,a,s,c,u,l,f;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.currentTarget,r=n.closest(".subscribe-el"),o=G.f.get(n,"data-type-id"),i=G.f.get(n,"data-source-id"),!G.g.has(n,"is-loading")){t.next=6;break}return t.abrupt("return");case 6:return G.g.add(n,"is-loading"),t.prev=7,t.next=10,D.a.post("/subscription",{typeId:o,sourceId:i});case 10:a=t.sent,s=a.data,c=Object(G.l)("span",n),u=Object(G.l)('[data-subscribe-counter="'.concat(i,'"]'),r),l=G.f.get(u,"data-count",{parseNumbers:!0}),G.g.toggle(n,"is-active",s.active),G.g.toggle(n,"button_blue",!s.active),u&&(f=s.active?l+1:l-1,u.textContent=f,Object(G.f)(u,"data-count",f)),s.active?(c.textContent="Вы подписаны",q.u.update("hiddenTooltips",en({},"subscriptions.".concat(o),!0))):c.textContent="Подписаться",rn&&rn.destroy(),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(7),W.a.httpError(t.t0,"Упс, произошла ошибка, попробуйте позже");case 25:G.g.remove(n,"is-loading");case 26:case"end":return t.stop()}},t,null,[[7,22]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){nn(i,r,o,a,s,"next",t)}function s(t){nn(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}()),G.f.has(on,"data-subscribe-tooltip")){var an=q.u.get("hiddenTooltips",{}),sn=G.f.get(on,"data-type-id"),cn={1:"Присылать уведомления когда команда будет добавлена в новый тайтл",2:"Присылать уведомления о новом тайтле связанным с этой персоной",3:"Присылать уведомления о новом тайтле из этой серии"};if(!("subscriptions.".concat(sn)in an)){var un=on.offsetWidth;null!=on.closest(".subscribe-el")&&(un=on.parentNode.offsetWidth),(rn=Object(ut.a)(on,function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){en(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},bt.d,{interactive:!0,content:function(t){var e=G.f.get(t,"data-subscribe-tooltip");return cn[e]},placement:"bottom-start",arrow:!0,hideOnClick:!1,offset:[0,16],appendTo:document.body,maxWidth:un}))).show()}}var ln=n("QX9i"),fn=n("KO5a"),dn=n("LiUp"),pn=n("ln3S"),hn=n.n(pn),vn=n("f6yZ");ln.a.listContainer&&(dn.b(),Object(ln.d)(),Object(ln.e)(),Object(fn.b)(ln.a.listContainer),Object(ln.f)(),Object(G.c)(".manga-search__input","keyup",function(t){(t.which||t.keyCode)===vn.a.ENTER&&(dn.d.filter.name=t.target.value,dn.d.filter.page=1,Object(ln.b)())}),Object(G.c)(ln.a.sortInputs,"change",function(){dn.d.filter[this.name]=this.value,dn.d.filter.page=1,Object(ln.b)({preventPushState:null===ln.a.filterContainer})}),Object(G.c)(window,"scroll",function(){if(!dn.d.loading&&dn.d.hasNextPage){var t=window.innerHeight;window.pageYOffset+t>=ln.c-t/2&&(dn.d.filter.page=parseInt(dn.d.filter.page)+1,Object(ln.b)({preventPushState:!0}))}},{passive:!0}),ln.a.filterContainer&&(new hn.a).$mount("#manga-list-filter"),Object(G.c)("#search-filter-button","click",function(){Et.a.open({component:hn.a})}));var mn=n("BHJ2"),gn=n.n(mn),bn=n("DaqH"),yn=n.n(bn);function _n(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){On(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function On(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wn=Object(G.l)("#button-change-status");if(wn){var xn,kn={dataPresets:{status:Object(G.f)(wn,"data-status"),mangaId:Object(G.f)(wn,"data-id"),mangaSlug:Object(G.f)(wn,"data-slug")},onSelected:function(){Object(St.a)(wn,!0),xn?xn.hide():At.a.close()},onChanged:function(t){if(Object(St.a)(wn,!1),t.id?Object(G.f)(wn,"data-status",t.id):G.f.remove(wn,"data-status"),Object(G.l)("[data-text]",wn).textContent=t.name||"Добавить в список",bt.k){var e=Object(G.l)(".media-bottom-menu__icon",wn);t.color?e.style.color=t.color:e.style.color=""}else t.color?Object(G.f)(wn,"style","background-color: ".concat(t.color,"; color: ").concat(t.textColor,";")):G.f.remove(wn,"style")}};if(bt.k)new yn.a({propsData:kn}),Object(G.f)(wn,"data-open-modal","#bookmark-change-status-modal"),Object(G.f)(wn,"tabindex","-1");else{var jn=new gn.a({propsData:_n({},kn,{className:"manga-bookmark-menu"})}).$mount();xn=Object(ut.a)(wn,_n({},bt.e,{interactive:!0,content:function(){return jn.$el}}))}}var Cn="".concat("info-desc","_short"),En=Object(G.l)(".".concat(Cn));if(En){var Pn=Object(G.l)(".info-desc__content",En);if(Pn.scrollHeight>Pn.offsetHeight){var Sn=document.createElement("div");Sn.className="".concat("info-desc","__expand"),Sn.textContent="развернуть",Object(G.c)(Sn,"click",function(t){var e=t.currentTarget,n="".concat("info-desc","_open");e.textContent=G.g.has(e,n)?"развернуть":"свернуть",G.g.toggle(En,Cn),G.g.toggle(e,n)}),En.appendChild(Sn)}else G.g.remove(En,Cn)}function An(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var Tn=Object(G.l)(".manga-rating__stars, .media-rating-stars"),Nn=G.f.has(Tn,"data-id"),Ln=!1;Object(G.a)(Tn,"click","[data-score]",function(){var t,e=(t=B.a.mark(function t(e,n){var r,o,i,a;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Ln&&Nn){t.next=2;break}return t.abrupt("return");case 2:return r=Object(G.f)(n,"data-score"),o=Object(G.f)(Tn,"data-id"),i=Object(G.m)("[data-user-score]"),a=Object(G.m)("[ data-user-rating]"),Ln=!0,t.prev=7,t.next=10,D.a.post("/save/item_rating",{item_id:o,score:r});case 10:i.forEach(function(t){return t.textContent=r}),a.forEach(function(t){return G.g.toggle(t,"hidden",0==r)}),W.a.confirm("Ваша оценка учтена"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(7),console.error(t.t0),W.a.httpError(t.t0,"Произошла ошибка ваш голос не учелся");case 19:Ln=!1;case 20:case"end":return t.stop()}},t,null,[[7,15]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){An(i,r,o,a,s,"next",t)}function s(t){An(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t,n){return e.apply(this,arguments)}}());var Mn=Object(G.l)("#volume-anchors"),In=Object(G.l)(".chapters-list");function Dn(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}Object(G.a)(Mn,"click",".volume-anchor__item",function(t,e){t.preventDefault();var n=Object(G.f)(e,"data-id");q.b.emit("chapters.anchor-click"),requestAnimationFrame(function(){var t=Object(G.m)('.media-chapter[data-volume="'.concat(n,'"], .chapter-item[data-volume="').concat(n,'"]')),e=N()(t);if(G.g.has(e,"media-chapter")){var r=Object(G.i)(e).top;requestAnimationFrame(function(){window.scroll(0,r-innerHeight/2)})}else{var o=e.offsetTop;In.scrollTop=o-In.offsetHeight+e.offsetHeight}At.a.close()})});var qn=Object(G.l)(".chapters-list"),Rn=!1,Bn=function(){var t,e=(t=B.a.mark(function t(){var e,n,r,o,i,a,s,c,u,l,f,d,p,h,v;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Rn){t.next=2;break}return t.abrupt("return");case 2:if(e=this,n="button_loading-inv",r=Object(G.f)(qn,"data-manga-id"),o=Object(G.f)(qn,"data-media-slug"),i=G.f.get(e.parentNode,"data-is-read",{parseNumbers:!0}),a=i?e.parentNode.nextElementSibling:e.parentNode,s=Object(G.f)(a,"data-id"),c=G.f.get(a,"data-index",{parseNumbers:!0}),u=Object(G.l)("span",e),l={manga_id:r,media_slug:o,chapter_id:s,page_slug:1,metadata:{manual:!1,volume:G.f.get(a,"data-volume"),number:G.f.get(a,"data-number"),index:c,page:1}},t.prev=12,Object(St.a)(u,Rn=!0,n),a||!i){t.next=19;break}return t.next=17,D.a.delete("/bookmark/destroy-bookmark/".concat(r));case 17:t.next=21;break;case 19:return t.next=21,D.a.post("/bookmark",l);case 21:for(f=qn.childElementCount,d=qn.children,p=0;p<f;p++)h=f-p,v=d[p],Object(G.f)(v,"data-is-read",c>=h?"1":"0");t.next=29;break;case 26:t.prev=26,t.t0=t.catch(12),console.error(t.t0);case 29:Object(St.a)(u,Rn=!1,n);case 30:case"end":return t.stop()}},t,this,[[12,26]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){Dn(i,r,o,a,s,"next",t)}function s(t){Dn(i,r,o,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}();Object(G.a)(qn,"click",".chapter-item__viewed",Bn);var Fn,Hn=Object(G.l)("#users-bookmarks-next"),Un=Object(G.l)(".users-bookmarks-container"),zn=Object(G.f)(Un,"data-id"),Wn=!1,Vn=!1,Gn=0,$n=function(t){if(!Vn&&!Wn){Vn=!0;var e={params:{page:++Gn,mangaId:zn}};D.a.get("/manga/users-bookmarks",e).then(function(e){var n=e.data;t&&(Un.removeChild(Object(G.l)(".loader-wrapper",Un)),G.g.remove(Hn,"hidden")),n.last_page===Gn&&(Wn=!0,G.g.add(Hn,"hidden")),Vn=!1,Object(St.a)(Hn,Vn,"button_loading-inv"),function(t){for(var e,n=document.createDocumentFragment(),r=0,o=t.length;r<o;r++)n.appendChild((e=t[r],Object(v.a)("a",{className:"users-bookmarks",href:"/user/".concat(e.id),title:e.username},Object(v.a)("img",{src:e.avatar,className:"users-bookmarks__avatar"}),Object(v.a)("div",{className:"users-bookmarks__name"},e.username))));Un.appendChild(n)}(n.data)}).catch(function(){Vn=!1,Object(St.a)(Hn,Vn,"button_loading-inv")})}};function Yn(t,e){Fn||(Fn=Object(v.a)("div",{className:"modal","data-type":"bottom-sheet"},Object(v.a)("div",{className:"modal__inner"},Object(v.a)("div",{className:"modal__content"},Object(v.a)("div",{className:"modal__header"},Object(v.a)("h3",{className:"modal__title"}),Object(v.a)("div",{className:"modal__close","data-close-modal":!0,dangerouslySetInnerHTML:'<svg class="modal__close-icon"><use xlink:href="#icon-close"></use></svg>'})),Object(v.a)("div",{"data-modal-body":!0})))),document.body.appendChild(Fn)),function(t,e){var n=Object(G.l)(".modal__title",Fn),r=Object(G.l)("[data-modal-body]",Fn);n.textContent=t,r.firstChild?r.replaceChild(e,r.firstChild):r.appendChild(e)}(t,e),requestAnimationFrame(function(){At.a.show(Fn)})}function Kn(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Zn(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function Zn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qn(){return(Qn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}Object(G.c)("#users-bookmarks-show","click",function(){Gn||$n(!0)}),Object(G.c)(Hn,"click",function(){Object(St.a)(Hn,!0,"button_loading-inv"),$n()});var Jn=window.__MANGA__;function Xn(t){var e=t.closest(".chapter-item, .media-chapter");return{teams:JSON.parse(Object(G.f)(e,"data-teams")),action:Object(G.f)(t,"data-chapter-dropdown"),chapter:{volume:Object(G.f)(e,"data-volume"),number:Object(G.f)(e,"data-number")}}}function tr(t){switch(t){case"edit":return"Редактировать главу от";case"download":return"Скачать главу от";default:return"Читать перевод от"}}function er(t,e){var n=t.teams.map(function(e){return Object(v.a)("a",Qn({},function(t,e,n){var r={href:"#"};return"edit"===n&&(r.href="/manga/".concat(Jn.slug,"/chapter/").concat(t.chapter_id)),"download"===n&&(r["data-download-chapter"]=t.chapter_id,r["data-download-target"]="".concat(e.volume,"-").concat(e.number)),"read"===n&&(r.href="/".concat(Jn.slug,"/v").concat(e.volume,"/c").concat(e.number),t.slug&&(r.href+="/".concat(t.slug))),r}(e,t.chapter,t.action),{className:"menu__item"}),e.name)}),r={className:"menu menu_default"};return t.size&&(r.className+=" ".concat(t.size)),"download"===t.action&&(r["data-close-modal"]=!0),Object(v.a)("div",r,e&&Object(v.a)("div",{className:"menu__subheader"},tr(t.action)),n)}var nr=n("AZEo"),rr=n.n(nr),or=function(){bt.k?Object(G.a)(".chapters-list, .media-chapters-list","click","[data-chapter-dropdown]",function(t,e){var n=Xn(e);Yn(tr(n.action),er(n))}):Object(ut.b)(".chapters-list, .media-chapters-list",Kn({},bt.e,{trigger:"mouseenter",target:"[data-chapter-dropdown]",placement:"bottom-end",interactive:!0,delay:[0,300],offset:0,content:function(){return document.createElement("div")},onTrigger:function(t){if(!t.__contentInited){var e=Xn(t.reference);t.setContent(er(Kn({},e,{size:"menu_xs"}),!0)),t.__contentInited=!0}t.show()}})),new Promise(function(t){n.e(6).then(function(e){t(n("2DAw"))}.bind(null,n)).catch(n.oe)})};if(Object(G.l)("#media-chapters-container")){var ir=new rr.a;ir.$on("chapters.mounted",or),ir.$mount("#media-chapters-container")}else Object(G.l)(".chapters-list")&&or();var ar=n("icPT"),sr=n.n(ar);function cr(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ur(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lr=Object(G.l)("#relation-list-edit");if(lr){var fr,dr=new q.a,pr=window.Laravel.mangaId,hr=Object(G.l)("#related-manga-search"),vr=Object(G.l)(".form__input",hr),mr=Oe()(function(t,e){if(fr)try{fr()}catch(t){}D.a.get("/search?query=".concat(t),{cancelToken:new D.a.CancelToken(function(t){return fr=t})}).then(function(t){return t.data}).then(function(t){G.g.remove(hr,"is-loading"),e(t)}).catch(console.error)},600);new sr.a({selector:vr,minChars:2,menuClass:"related-manga-autocomplete",source:function(t,e){G.g.add(hr,"is-loading"),mr(t,e)},renderItem:function(t,e){var n=t.name,r=t.id,o=t.rus_name;e=e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");var i=new RegExp("(".concat(e.split(" ").join("|"),")"),"gi");return'<div class="autocomplete-suggestion" data-id="'.concat(r,'" data-rus="').concat(o,'" data-val="').concat(n,'">').concat(n.replace(i,"<b>$1</b>"),"</div>")},onSelect:function(t,e,n){t.preventDefault();var r={id:parseInt(Object(G.f)(n,"data-id")),name:Object(G.f)(n,"data-val"),rus_name:Object(G.f)(n,"data-rus")};dr.emit("autocompleteSelected",r)}}),new Y.a({el:lr,data:{loading:!1,selected:null,items:window.Laravel.items,mangaId:pr},created:function(){var t=this;dr.on("autocompleteSelected",function(e){return t.selected=e})},mounted:function(){var t=Object(G.l)("#add-related-item");Object(G.c)(t,"click",this.addItem.bind(this))},methods:{removeItem:function(t){var e=this;if(!this.loading){var n=this.getIds().filter(function(e){return e!==t});this.loading=!0,D.a.post("/admin/manga/remove-relation",{ids:n,remove_id:t}).then(function(){var n=Object(q.e)(e.items,function(e){return e.id===t});e.items.splice(n,1),e.loading=!1}).catch(function(){e.loading=!1,W.a.alert("Ошибка при удалении связи")})}},addItem:function(t){var e=this;if(!this.loading){if(!this.selected)return W.a.alert("Пожалуйста выберите мангу из списка");var n=this.selected.id,r=Object(q.d)(this.items,function(t){return t.id===n}),o=t.currentTarget,i=this.getIds([n]);if(pr===n||r)return W.a.alert("Нельзя добавить текущую мангу");this.loading=!0,Object(St.a)(o,!0),D.a.post("/admin/manga/create-relation",{ids:i}).then(function(){e.items.push(function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){ur(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},e.selected)),e.reset(null,o),W.a.confirm("Связь добавлена")}).catch(function(t){e.reset(t,o),W.a.alert("Произошла ошибка при создании связи")})}},reset:function(t,e){t||(this.selected=null,vr.value=""),this.loading=!1,Object(St.a)(e,!1)},getIds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[pr].concat(cr(t)).concat(this.items.map(function(t){return t.id}))}}})}Object(G.l)("#bookmark-migration")&&new Promise(function(t){n.e(22).then(function(e){t(n("pHqb"))}.bind(null,n)).catch(n.oe)}).then(function(t){new t});var gr=n("kXZP"),br=n.n(gr);function yr(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){_r(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function _r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Or=Object(G.l)(".media-edit-uploader .uploader_cover"),wr=q.r.get(),xr=function(t){return function(){var e=Object(G.l)('[data-lock="'.concat(t,'"]')),n=!1;return 1!==G.f.get(e,"data-is-locked",{parseNumbers:!0})||wr.canEdit||(n=!0),{status:n,message:"Редактирование ".concat("cover"===t?"обложки":"фона"," отключено")}}},kr=new ue({el:Or,uploadAfterChange:!1,checkDisable:xr("cover"),axiosConfig:{url:"/upload/image"},formData:function(t){t.append("type","manga"),t.append("image_category","cover")},plugins:{preview:{class:de,config:{src:Object(G.f)(Or,"data-src")}},cropper:{class:ge,config:{checkSize:{width:300,height:250},checkShowCropper:function(t){var e=t.ratio,n=t.size,r=375/e;return r>625||r<250||n/1e6>7},options:yr({},bt.b),croppedCanvasData:{minWidth:375}}}}}),jr=Object(G.l)(".media-edit-uploader__background"),Cr=new ue({el:jr,uploadAfterChange:!1,checkDisable:xr("background"),axiosConfig:{url:"/upload/image"},formData:function(t){t.append("type","manga"),t.append("image_category","mediaBackground")},plugins:{preview:{class:de,config:{src:Object(G.f)(jr,"data-src")}},cropper:{class:ge,config:{checkSize:{width:1450,height:540},options:yr({},bt.a),croppedCanvasData:{minWidth:1450}}}}});Cr.on(Jt.complete,ue.setInputValue("background")),Cr.on(Jt.imageRemoved,ue.setInputValue("background")),kr.on(Jt.complete,ue.setInputValue("cover")),kr.on(Jt.imageRemoved,ue.setInputValue("cover"));var Er=n("hygk"),Pr=n.n(Er),Sr=Object(G.l)(".manga-edit form");function Ar(){var t={};return Object(q.f)(Sr.elements,function(e){"text"===e.type&&(t[e.name]=e.value),"radio"===e.type&&e.checked&&(t[e.name]=e.value),e instanceof HTMLSelectElement&&(e.multiple?(t[e.name]=[],Object(q.f)(e.selectedOptions,function(n){t[e.name].push(n.value)})):t[e.name]=e.value)}),t}function Tr(t){return t.map(function(t){return parseInt(t,10)}).sort()}if(Sr){var Nr=q.r.get(),Lr={name:"Название",eng_name:"Английское название",releaseDate:"Год релиза",type_id:"Тип",manga_status_id:"Статус тайтла","authors[]":"Автор","artists[]":"Художник","categories[]":"Жанры","scanlatories[]":"Переводчик"},Mr=Ar();Object(G.c)("#edit-content-save","click",function(t){t.preventDefault();var e=Ar(),n=Object(G.l)('[name="user_comment"]'),r=[];if(Object(q.f)(Lr,function(t,n){var o=Mr[n],i=e[n];Array.isArray(i)&&(i=Tr(i),o=Tr(o)),Pr()(o,i)||r.push(n)}),r.length&&n&&!n.value.trim().length&&null!=Nr.manga.moderated){var o=r.some(function(t){return"scanlatories[]"===t});if(o&&!Nr.hasPermissions)return W.a.info('При изменении поля "Переводчики" необходимо написать причину в "Комментарии модератору", иначе правка будет отклонена',{timeout:8e3});if(!Nr.hasPermissions&&!Nr.canEdit&&(o&&r.length>1||!o)){var i=r.filter(function(t){return"scanlatories[]"!==t}).map(function(t){return'"'.concat(Lr[t],'"')}).join(", ");return W.a.info("При изменении полей ".concat(i,", необходимо указать ссылку на источник или описать причину."),{timeout:8e3})}}Sr.submit()})}var Ir=n("NHiU"),Dr=n.n(Ir);Object(G.c)('[data-form-input="type_id"]',"change",function(t){var e=t.currentTarget.value,n=q.u.get("disableRumangaWarning",!1);"8"!==e||n||Et.a.open({component:Dr.a})}),Object(G.c)('[data-form-input="manga_status_id"]',"change",function(t){var e=t.currentTarget.value,n=Object(G.l)('[name="announcement_link"]');if(n){var r=n.closest(".form__field");G.g.toggle(r,"hidden","3"!==e)}});var qr=function(t){return new t},Rr=br()(function(){return new Promise(function(t){n.e(11).then(function(e){t(n("DLP/"))}.bind(null,n)).catch(n.oe)}).then(qr)}),Br=br()(function(){return new Promise(function(t){n.e(8).then(function(e){t(n("Bn2Y"))}.bind(null,n)).catch(n.oe)}).then(qr)}),Fr=new Ie.a(Object(G.l)(".media-editing"),{history:!0,line:!1,preventInit:!0,tabListSelector:".menu",tabItemSelector:".menu__item",active:"is-active"});Fr.on("changed",function(t){var e=t.name;"related-items"===e&&Rr(),"changes"===e&&Br()}),Fr.init(),Object(G.c)("#lock-fields-modal","click",function(){Et.a.open({component:function(){return new Promise(function(t){n.e(21).then(function(e){t(n("HSNC"))}.bind(null,n)).catch(n.oe)})}})}),Object(G.c)(".form__field[data-lock], .form__field[data-status]","click",function(t){var e=t.currentTarget,n=q.r.get().canEdit,r=G.f.get(e,"data-is-locked",{parseNumbers:!0}),o=G.f.get(e,"data-status",{parseNumbers:!0});return 1!==r||n?3!==o||n?void 0:W.a.info('Редактирование этого поля отключено, т.к. тайтл является "Аноносом", подробности в правилах'):W.a.info("Для этого поля отключено редактирование. Подробнее в FAQ.")});var Hr=Object(G.l)("#message-modal");if(Hr){var Ur=Object(G.l)('input[name="subject"]',Hr);At.a.on("show",function(){return Ur.focus()}),q.b.on("editorSend",function(t){t.message.success.forEach(function(t){W.a.confirm(t)}),Ur.value=""})}var zr=Object(G.l)(".friends");function Wr(t){var e=t.avatar,n=t.userId,r=t.username,o=t.showRemoveBtn;return Object(v.a)("div",{className:"friends-item",title:r},Object(v.a)("a",{className:"friends-item__avatar-wrap avatar_md",href:"/user/".concat(n)},Object(v.a)("img",{className:"friends-item__avatar avatar avatar_md avatar_circle shadow-sm",alt:r,src:e})),Object(v.a)("div",{className:"friends-item__right"},Object(v.a)("a",{href:"/user/".concat(n),className:"friends-item__name"},r),o&&Object(v.a)("div",{class:"friends-item__remove","data-url":"/user/".concat(n,"/following/unfriend")},"Удалить из друзей")))}function Vr(t){return Object(v.a)("div",{className:"friends__empty empty"},t)}var Gr=Object(G.l)(".friends-confirmation");Object(G.a)(Gr,"click","[data-confirmation]",function(t,e){t.preventDefault();var n=G.f.getObject(e,"data-confirmation","data-recipient","data-url"),r=e.closest(".friends-confirmation__item");if("accept"===n["data-confirmation"]){var o=Object(G.l)("img",r),i=G.f.getObject(o,"src","alt","data-id"),a=Object(G.l)(".friends__empty",zr);a&&zr.removeChild(a),zr.appendChild(Wr({avatar:i.src,userId:i["data-id"],username:i.alt,showRemoveBtn:!0}))}r.parentNode.removeChild(r),Gr.childElementCount||Gr.appendChild(Vr("Нет запросов")),D.a.post(n["data-url"],{recipient_id:n["data-recipient"]})}),Object(G.a)(zr,"click",".friends-item__remove",function(t,e){var n=e.closest(".friends-item"),r=Object(G.l)(".friends-item__name",n),o=Object(G.f)(e,"data-url");confirm('Удалить пользователя "'.concat(r.textContent,'" из друзей?'))&&(G.g.has(n,"is-loading")||(G.g.add(n,"is-loading"),D.a.post(o).then(function(){zr.removeChild(n),zr.childElementCount||zr.appendChild(Vr("Никого нет"))}).catch(function(){W.a.alert("Произошла ошибка при удалении"),G.g.remove(n,"is-loading")})))});var $r,Yr=n("+X65"),Kr=n.n(Yr);function Zr(){return Object(G.i)(zr).bottom-innerHeight/2}function Qr(t,e){var n=Object(v.a)("div",{className:"loader-wrapper"},Object(v.a)("div",{className:"loader-circle"}));return $r.appendChild(n),D.a.get(t).then(function(t){var r=t.data,o=r.data,i=document.createDocumentFragment();Object(q.f)(o,function(t){i.appendChild(Wr({avatar:t.avatar,userId:t.id,username:t.username,showRemoveBtn:t.btn}))}),$r.removeChild(n),zr.appendChild(i),e(r)})}if(G.f.has(zr,"data-next-page")){var Jr=Object(G.f)(zr,"data-next-page"),Xr=Zr(),to=!1;$r=zr.parentNode;var eo=Kr()(function(){to||pageYOffset+innerHeight>Xr&&Jr&&(to=!0,Qr(Jr,function(t){var e=t.next_page_url;to=!1,Jr=e,Xr=Zr(),e||Object(G.b)(window,"scroll",eo)}))},200);Object(G.c)(window,"scroll",eo)}var no=Object(G.l)("#follow-toggle"),ro=function(t){G.g.remove(no,t?"button_green":"button_red"),G.g.add(no,t?"button_red":"button_green")};Object(G.c)(no,"click",function(){var t=Object(G.f)(no,"data-follower-id"),e=function(t){"string"!=typeof t&&(t="Упс произошла ошибка"),W.a.alert(t)};D.a.post("/follow",{follower_id:t}).then(function(t){return t.data}).then(function(t){if("success"===t.status){var n='<i class="fa fa-fw fa-{{icon}}"></i>';"удален"===t.message?(n=n.replace("{{icon}}","user-plus"),no.innerHTML="".concat(n," Добавить в друзья"),W.a.confirm("Пользователь удален из друзей"),ro()):(n=n.replace("{{icon}}","user-times"),no.innerHTML="".concat(n," Удалить из друзей"),W.a.confirm("Пользователь добавлен в друзья"),ro(!0))}else e(t.message)}).catch(e)});var oo=Object(G.l)("#block-toggle");Object(G.c)(oo,"click",function(){var t=Object(G.f)(oo,"data-block-id"),e=function(t){"string"!=typeof t&&(t="Упс произошла ошибка"),W.a.alert(t)};D.a.post("/block",{block_id:t}).then(function(t){return t.data}).then(function(t){"success"===t.status?(oo.innerHTML=t.message.icon+" "+t.message.button,W.a.confirm(t.message.message)):e(t.message)}).catch(e)});var io=Object(G.l)("#send-again-container"),ao=!1;Object(G.c)(io,"click",function(t){var e=this;t.preventDefault(),this.style.display="none",ao||(ao=!0,D.a.post("/resend-verification").then(function(){return W.a.confirm("Сообщение отправлено на email")}).catch(function(t){var n=t.response,r="Произошла ошибка";n.message&&(r=n.message),ao=!1,e.style.display="",W.a.alert(r)}))});var so=Object(G.l)(".settings-tabs");function co(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){uo(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function uo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}so&&new Ie.a(so,{tabListSelector:".settings-tabs .menu",tabItemSelector:".menu__item",active:"is-active",history:!0});var lo,fo=Object(G.l)(".settings-upload .uploader_avatar"),po=Object(G.l)(".settings-upload .uploader_background");if(fo||po){var ho=new ue({el:fo,uploadAfterChange:!1,formData:function(t){t.append("type","user"),t.append("image_category","avatar")},plugins:{preview:{class:de,config:{confirmRemove:{text:"Вы уверены, что хотите удалить Аватар?"}}},cropper:{class:ge,config:{checkSize:{width:110,height:110},checkShowCropper:function(t){var e=t.type;return!/gif/gi.test(e)},options:co({},bt.c,{aspectRatio:1}),croppedCanvasData:{minWidth:120,maxWidth:600}}}}}),vo=new ue({el:po,uploadAfterChange:!1,formData:function(t){t.append("type","user"),t.append("image_category","profileBackground")},plugins:{preview:{class:de,config:{confirmRemove:{text:"Вы уверены, что хотите удалить Фон?"}}},cropper:{class:ge,config:{checkSize:{width:1200,height:220},options:co({},bt.c,{aspectRatio:1200/220}),croppedCanvasData:{width:1200}}}}}),mo=function(){return W.a.success("Изменения сохранены")},go=function(t){return function(){D.a.post("/deleteUserFiles/".concat(window.__USER_ID__),{action:t}),mo()}};ho.on(Jt.complete,mo),ho.on(Jt.imageRemoved,go("avatar")),vo.on(Jt.complete,mo),vo.on(Jt.imageRemoved,go("cover"))}function bo(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){yo(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function yo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _o=q.u.get("dark-theme",{}),Oo=bo({},De.a,{},_o),wo=Object(G.l)(".settings-theme"),xo=Object(G.l)(".settings-theme__mode"),ko=Object(G.l)(".settings-theme__schedule"),jo=Object(G.l)(".settings-theme__schedule-times"),Co=Object(G.l)('[name="time-from"]',wo),Eo=Object(G.l)('[name="time-to"]',wo);function Po(){G.g.toggle(jo,"is-disabled",!Oo.enabled),ko.disabled=!Oo.enabled}function So(t){Oo=bo({},Oo,{},t),q.u.save("dark-theme",Oo);var e=Oo.time,n=e.from,r=e.to;if(Po(),Oo.enabled&&Oo.autoEnable)return Object(De.e)(Object(De.b)(n,r));Object(De.e)(Oo.enabled)}function Ao(t){return function(e){var n=e.target.value;Object(De.c)(n)&&So({time:bo({},Oo.time,yo({},t,n))})}}wo&&new Promise(function(t){n.e(24).then(function(e){t(n("cQ68"))}.bind(null,n)).catch(n.oe)}).then(function(t){var e,n,r;lo=t.default,n=new lo(Co,e={time:!0,timePattern:["h","m"]}),r=new lo(Eo,e),Po(),xo.checked=Oo.enabled,ko.checked=Oo.autoEnable,n.setRawValue(Oo.time.from),r.setRawValue(Oo.time.to),Object(G.c)(xo,"change",function(){So({enabled:xo.checked})}),Object(G.c)(ko,"change",function(){So({autoEnable:ko.checked})}),Object(G.c)(Co,"input blur",Ao("from")),Object(G.c)(Eo,"input blur",Ao("to"))}),Object(G.l)("#ban-expired-at")&&new Promise(function(t){n.e(23).then(function(e){t(n("axh2"))}.bind(null,n)).catch(n.oe)}),Object(G.l)("#comments-filter")&&new Promise(function(t){n.e(28).then(function(e){t(n("NuLb"))}.bind(null,n)).catch(n.oe)}),Object(G.l)("#user-bookmark-list")&&new Promise(function(t){n.e(5).then(function(e){t(n("p6Ak"))}.bind(null,n)).catch(n.oe)}),Object(G.l)(".messenger-items")&&new Promise(function(t){n.e(26).then(function(e){t(n("NDa3"))}.bind(null,n)).catch(n.oe)}),Object(G.l)(".ignore-list")&&new Promise(function(t){n.e(27).then(function(e){t(n("TVeU"))}.bind(null,n)).catch(n.oe)});var To=n("Q7hp"),No=n.n(To),Lo=n("rxKx"),Mo=n.n(Lo),Io=n("mw3O"),Do=n.n(Io);function qo(t){return(qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ro(t,e,n){var r=n.value;if("function"!=typeof r)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(qo(r)));var o=!1;return{configurable:!0,get:function(){if(o||this===t.prototype||this.hasOwnProperty(e)||"function"!=typeof r)return r;var n=r.bind(this);return o=!0,Object.defineProperty(this,e,{configurable:!0,get:function(){return n},set:function(t){r=t,delete this[e]}}),o=!1,n},set:function(t){r=t}}}function Bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ho=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Fo(this,"onInputChange",function(t){var e=t.target,r=e.name,o="checkbox"===e.type?e.checked:e.value;n.updateItem(r,o),n.handlers[r]&&n.handlers[r](o,n.options)}),this.options=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Fo(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},e,{},q.u.get("reader",{})),this.handlers={},this.inputs=Object(G.m)("[data-reader-settings]"),this.bindEvents(),this.setInputValues()}var e,n,r;return e=t,(n=[{key:"bindEvents",value:function(){var t=this;Object(q.f)(this.inputs,function(e){var n=Object(G.f)(e,"data-event")||"change";Object(G.c)(e,n,t.onInputChange)})}},{key:"addHandler",value:function(t,e,n){this.handlers[t]=e,n||e(this.options[t],this.options)}},{key:"updateItem",value:function(t,e){this.options[t]=e,q.u.update("reader",this.options)}},{key:"setInputValues",value:function(){var t=this;Object(q.f)(this.inputs,function(e){var n=e.name,r=e.value,o=e.type;if(null!=t.options[n]&&t.options[n]===r&&(e.checked=!0),"checkbox"===o){if(bt.k&&"showComments"===n)return;e.checked=t.options[n]}"range"===o&&(e.value=t.options[n])})}}])&&Bo(e.prototype,n),r&&Bo(e,r),t}(),Uo=n("hAM4"),zo=n.n(Uo),Wo=n("jywo");function Vo(t){return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Go(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){Xo(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function $o(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ko(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zo(t,e,n){return(Zo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qo(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Qo(t){return(Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jo(t,e){return(Jo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ti,ei=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r,o,i=Object(G.l)(".header_reader");return r=this,Xo(Ko(n=!(o=Qo(e).call(this,i,{tolerance:{up:10,down:10}}))||"object"!==Vo(o)&&"function"!=typeof o?Ko(r):o),"addBookmarkLoading",!1),Xo(Ko(n),"autoBookmarkCalled",!1),n.chaptersList=Object(G.l)(".reader-chapters-list"),n.data=t,n.addToBookmarkButton=Object(G.l)("#add-chapter-bookmark"),n.bookmarkSettings=q.u.get("bookmarkSettings",{disableAutoBookmarks:!1}),n.init(),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jo(t,e)}(e,zo.a),n=e,(r=[{key:"init",value:function(){Zo(Qo(e.prototype),"init",this).call(this),this.initDropdowns(),this.bindEventListeners()}},{key:"bindEventListeners",value:function(){var t=this;Object(G.c)(this.addToBookmarkButton,"click",function(){return t.addToBookmark()})}},{key:"addToBookmark",value:function(){var t,e=(t=B.a.mark(function t(e){var n;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.addBookmarkLoading){t.next=2;break}return t.abrupt("return");case 2:if(!e||!this.bookmarkSettings.disableAutoBookmarks){t.next=5;break}return this.autoBookmarkCalled=!0,t.abrupt("return");case 5:return n={chapter_id:this.data.current.id,media_id:this.data.media.id,media_slug:this.data.media.slug,page_slug:Math.max(this.data.page,1)},this.toggleLoading(!0),G.g.add(this.addToBookmarkButton,"is-marked","is-animated"),n.metadata={manual:!e,total:this.data.pages.length,page:this.data.page,index:this.data.current.index,number:this.data.current.number,volume:this.data.current.volume},t.prev=9,t.next=12,D.a.post("/bookmark",n);case 12:Wo.a.emit(Wo.b.resetCacheTime),e?this.autoBookmarkCalled=!0:W.a.confirm("Закладка добавлена"),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(9),console.error(t.t0),G.g.remove(this.addToBookmarkButton,"is-marked","is-animated");case 20:this.toggleLoading(!1);case 21:case"end":return t.stop()}},t,this,[[9,16]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){$o(i,r,o,a,s,"next",t)}function s(t){$o(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t){return e.apply(this,arguments)}}()},{key:"toggleLoading",value:function(t){var e=this;this.addBookmarkLoading=t,!t&&this.addToBookmarkButton._tippy&&setTimeout(function(){e.addToBookmarkButton._tippy.hide()},300)}},{key:"initDropdowns",value:function(){var t=this;bt.k?At.a.on("show",this.scrollToActiveChapter.bind(this)):(G.g.add(this.chaptersList,"reader-dropdown"),Object(ut.a)("#chapter-dropdown-button",Go({},bt.e,{content:function(){return t.chaptersList},onShow:function(){t.freeze(),t.scrollToActiveChapter()},onHide:this.unfreeze.bind(this)})),Object(ut.a)("#scanlator-dropdown-button",Go({},bt.e,{placement:"bottom-end",content:Object(G.l)("#scanlator-menu"),onShow:this.freeze.bind(this),onHide:this.unfreeze.bind(this)})))}},{key:"scrollToActiveChapter",value:function(){var t=this,e=Object(G.l)(".menu__item_active",this.chaptersList);e&&requestAnimationFrame(function(){t.chaptersList.scrollTop=e.offsetTop-2*e.offsetHeight})}}])&&Yo(n.prototype,r),o&&Yo(n,o),e}();function ni(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ri(){if(ti)return ti;(ti=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){ni(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},window.__info)||{}).pages=(window.__pg||[]).map(function(t){return{page_slug:t.p,page_image:t.u}});var t=Object(G.l)("#pg");return t&&t.parentNode.removeChild(t),ti}function oi(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){ii(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function ii(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ai(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function si(t){var e=q.u.get("dark-theme",De.a),n="dark"===t;"global"===t&&(n=e.enabled),Object(De.e)(n)}var ci=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=oi({},ri()),this.settings=new Ho(oi({disableHeader:!1,caution:!0},e)),this.header=new ei(this.data),this.init(),this.initSettingHandlers(),this.initCautionHandler()}var e,n,r;return e=t,(n=[{key:"init",value:function(){}},{key:"initSettingHandlers",value:function(){this.settings.addHandler("theme",si,!0),this.settings.addHandler("disableHeader",this._headerHandler.bind(this))}},{key:"initCautionHandler",value:function(){var t=this;this.settings.options.caution&&this.data.media.caution>0&&At.a.show("#reader-caution").disable(),Object(G.c)(".reader-caution-continue","click",function(){var e=Object(G.l)('input[name="disable-caution"]');e&&e.checked&&t.settings.updateItem("caution",!1),At.a.enable().close()}),Object(G.c)(".reader-caution-back","click",function(){location.href=t.data.media.slug||"/"})}},{key:"_headerHandler",value:function(t){t?(this.header.freeze(),G.g.add(this.header.elem,"is-static")):(this.header.unfreeze(),G.g.remove(this.header.elem,"is-static"))}}])&&ai(e.prototype,n),r&&ai(e,r),t}(),ui={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},li=document.documentElement,fi=document.body;var di,pi=n("1UPi"),hi=n("nctS"),vi=n("OLx3");function mi(t){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bi(t,e){return!e||"object"!==mi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yi(t,e,n){return(yi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_i(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function _i(t){return(_i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oi(t,e){return(Oi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wi(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var xi="hidden",ki={root:Object(G.l)(".reader"),header:Object(G.l)(".header_reader"),headerWrapper:Object(G.l)(".reader-header__wrapper"),view:Object(G.l)(".reader-view"),select:Object(G.l)("#reader-pages"),selectLabel:Object(G.l)(".reader-pages__label span"),comments:Object(G.l)(".reader-comments"),commentsDrag:Object(G.l)(".reader-comments-drag"),imgContainer:Object(G.l)(".reader-view__container"),brokenImg:Object(G.l)("#broken-image"),preload:Object(G.l)(".reader-view__loader")};function ji(t){t.stopPropagation(),At.a.show("#reader-settings")}function Ci(t){location.reload(),t instanceof Event&&(t.stopPropagation(),t.preventDefault())}function Ei(t){var e=Object(G.l)(".reader-view");Object(q.f)(["default","full","medium","fit-height"],function(t){return G.g.remove(e,"reader-view_".concat(t))}),G.g.add(e,"reader-view_".concat(t))}function Pi(t){return Object(G.l)('[data-p="'.concat(t,'"]'),ki.imgContainer)}function Si(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return pageYOffset+t.getBoundingClientRect().top-e}var Ai=(wi((di=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n={theme:"dark",mode:"horizontal",imageSize:"default",imageServer:ri().img.server,showComments:!1,commentsSize:500};return(t=bi(this,_i(e).call(this,n))).data.initialPage=t.data.page,t.commentsDrag={size:300,start:!1},t}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Oi(t,e)}(e,ci),n=e,(r=[{key:"checkPageProgress",value:function(){if(!C()(this.data.bookmark)){var t=No()(this.data.bookmark,"dsc.index",this.data.current.index),e=this.data.current.index-t;if(!(e<0||e>5)){var n=parseFloat((this.current/this.total).toFixed(2)),r=Math.min(this.total-this.data.initialPage,5);this.current-this.data.initialPage>=r&&n>=.7&&(this.header.autoBookmarkCalled||this.header.addToBookmark(!0))}}}},{key:"findImageSrc",value:function(t){var e=Object(q.d)(this.data.pages,function(e){return t===e.page_slug});return e.serverTries=[this.server],e.currentServer=this.server,this.imageSrc(e.page_image)}},{key:"imageSrc",value:function(t){var e="".concat(this.server,"/").concat(this.data.img.url).concat(t);return e=e.replace(/test\d\./,"")}},{key:"init",value:function(){var t=this;if(this.data.pages.length){this.initElements(),this.changePageSelect(),this.renderOptionsForPageSelect(),this.checkPageProgress(),this.bindEvents();var e=Pi(this.current),n=Pi(this.current+1);G.g.remove(e,xi),this._updateComments(),vi.a.totalPages=this.total,this.replaceSrc(e,function(){t.pushState(),t.initScrollObserver(),t.replaceSrc(n)})}}},{key:"pushState",value:function(){var t=Object(q.g)(),e=null;this.isHorizontalMode&&(t.page=this.current,e={page:this.current}),history.pushState(e,null,"".concat(location.pathname,"?").concat(Do.a.stringify(t)))}},{key:"bindEvents",value:function(){var t=this;Object(G.a)(".reader-paginate","click","[data-direction]",function(e,n){if(t.isHorizontalMode){var r="next"===Object(G.f)(n,"data-direction")?t.current+1:t.current-1;t.changePage(r)}}),Object(G.c)(".reader-view","click",function(){t.isHorizontalMode&&t.changePage(t.current+1)}),Object(G.c)(ki.select,"change",function(){var e=ki.select.value;if(ki.select.blur(),t.isHorizontalMode)return t.changePage(e);t.current=e,window.scroll(0,Si(Pi(e),56))}),Object(G.c)(window,"popstate",function(){if(t.isHorizontalMode){var e=t.current,n=history.state;n&&n.page&&(e=n.page),t.changePage(e,!0)}}),Object(G.c)(window,"keyup",function(e){if(t.isHorizontalMode){var n=e.keyCode||e.which;if(37===n||39===n){var r=document.activeElement;if(r&&(G.g.has(r,"comment-reply__editor")||G.g.has(r,"chat-send__area")))return;var o=39===n?t.current+1:t.current-1;t.changePage(o)}}}),ki.commentsDrag&&(this.mc=new Mo.a(ki.commentsDrag),this.mc.add(new Mo.a.Pan({direction:Mo.a.DIRECTION_HORIZONTAL})),this.mc.on("panstart",this.changeCommentsSizeStart),this.mc.on("panmove",this.changeCommentsSizeMove),this.mc.on("panend",this.changeCommentsSizeEnd))}},{key:"pageWrapper",value:function(t){var e=t.page_slug;return Object(v.a)("div",{className:"reader-view__wrap".concat(this.isHorizontalMode?" hidden":""),"data-p":e,"data-loaded":"false"},Object(v.a)("img",null))}},{key:"initElements",value:function(){var t=this,e=document.createDocumentFragment();Object(q.f)(this.data.pages,function(n){e.appendChild(t.pageWrapper(n))}),ki.preload&&ki.imgContainer.replaceChild(e,ki.preload)}},{key:"renderOptionsForPageSelect",value:function(){var t=this;Object(q.f)(this.data.pages,function(e){var n={value:e.page_slug};e.page_slug===t.current&&(n.selected=!0),ki.select.add(Object(v.a)("option",n,"Страница ",e.page_slug," / ",t.total))}),G.g.remove(ki.select.parentNode,xi)}},{key:"initScrollObserver",value:function(){var t=this,e=!1;document.elementFromPoint&&(e=!0,this.isHorizontalMode||this.checkPageByPoint(),Object(G.c)(window,"scroll",Oe()(this.checkPageByPoint,100),{passive:!0})),Qe()(".reader-view__wrap").on("enter",function(n){if(!t.isHorizontalMode){var r=n.nextElementSibling;if(!e){var o=Object(G.f)(n,"data-p");t.current=o,t._updateComments(!0),t.checkPageProgress()}t.replaceSrc(n,function(){return t.replaceSrc(r)})}})}},{key:"initSettingHandlers",value:function(){this.data.img.supportWebp||"main"!==this.settings.options.imageServer||this.settings.updateItem("imageServer","compress"),yi(_i(e.prototype),"initSettingHandlers",this).call(this),this.settings.addHandler("mode",this.modeChanged.bind(this)),this.settings.addHandler("imageServer",function(){return location.reload()},!0),this.settings.addHandler("imageSize",Ei),this.settings.addHandler("showComments",this.toggleShowComments,this.isMobile)}},{key:"checkPageByPoint",value:function(){if(!this.isHorizontalMode){var t=ki.view.offsetWidth,e=window.innerHeight,n=document.elementFromPoint(t/2,e/2);G.f.has(n,"data-p")||(n=n.closest("[data-p]"));var r=Object(G.f)(n,"data-p");r&&(this.current=r,this._updateComments(!0),this.checkPageProgress())}}},{key:"changePage",value:function(t,e){var n=this;if((t=parseInt(t,10))>this.total||t<=0)return this.redirectPage(t);var r=Pi(t),o=Pi(this.current),i=t<this.current?"prev":"next";this.current=t,this.header.unpin(),this.header.freeze(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=t.destination,r=void 0===n?0:n,o=t.duration,i=void 0===o?200:o,a=t.skip,s=void 0!==a&&a,c=window,u=c.pageYOffset,l="now"in c.performance?performance.now():Date.now(),f=Math.max(fi.scrollHeight,fi.offsetHeight,li.clientHeight,li.scrollHeight,li.offsetHeight),d=c.innerHeight||li.clientHeight||document.getElementsByTagName("body")[0].clientHeight,p=Object(q.m)(r)?r:r.offsetTop,h=Math.round(f-p<d?f-d:p);if(s&&(Object(q.k)(s)||Object(q.m)(s)&&c.pageYOffset>=s))return c.scroll(0,h),e&&e();if("requestAnimationFrame"in c==0)return c.scroll(0,h),e&&e();!function t(){var n="now"in c.performance?performance.now():Date.now(),r=Math.min(1,(n-l)/i),o=ui.easeInOutCubic(r);return c.scroll(0,Math.ceil(o*(h-u)+u)),c.pageYOffset===h?e&&e():n-l>=i?e&&e():void requestAnimationFrame(t)}()}({destination:Object(G.i)(ki.imgContainer).top,duration:250,skip:2e3},function(){return requestAnimationFrame(function(){n.header.unfreeze(),0===pageYOffset&&n.header.pin()})}),this._updateComments(),this.checkPageProgress(),ki.brokenImg.value="".concat(Object(G.f)(ki.brokenImg,"data-text")," ").concat(t),document.title=document.title.replace(/\[(.*)\]/,function(){return"[Страница ".concat(t,"]")}),G.g.add(o,xi),G.g.remove(r,xi),e||this.pushState(),this.replaceSrc(r,function(){var e="prev"===i?t-1:t+1;n.replaceSrc(Pi(e))})}},{key:"modeChanged",value:function(){var t,e=this,n=Pi(this.current),r=Object(G.m)(".reader-view__wrap");t=this.isHorizontalMode,G.g.toggle(Object(G.l)(".reader-paginate"),xi,!t),G.g.toggle(Object(G.l)("#reader-next"),xi,t),G.g.toggle(document.body,"is-vertical",!t),G.g.toggle(Object(G.l)(".reader-comments-toggler"),xi,t),Object(q.f)(r,function(t){e.isHorizontalMode?(G.g.add(t,xi),t===n&&G.g.remove(t,xi)):G.g.remove(t,xi)}),this.isHorizontalMode?this.commentsSetSize(""):(window.scroll(0,Si(n,56)),this.isMobile||this.toggleShowComments(this.settings.options.showComments))}},{key:"toggleShowComments",value:function(t){var e=this.settings.options.commentsSize,n="";this.isMobile&&Object(Fe.a)(t),t&&(this._updateComments(),this.isMobile||this.isHorizontalMode||(n="".concat(e,"px"))),this.setCommentsItemSize(e),this.commentsSetSize(n),G.g.toggle(document.body,"is-comments-enabled",t)}},{key:"changePageSelect",value:function(){var t="".concat(this.current," / ").concat(this.total);ki.selectLabel.textContent=this.isMobile?t:"Страница ".concat(t),ki.select.value=this.current}},{key:"redirectPage",value:function(t){return t>this.total&&this.data.next?location.href=this.data.next.url:t<=0&&this.data.prev?location.href=this.data.prev.url:location.href="/".concat(this.data.media.slug)||"/"}},{key:"replaceSrc",value:function(t,e){var n=this;if(Object(G.j)(t)){var r=parseInt(Object(G.f)(t,"data-p")),o=this.findImageSrc(r),i=Object(G.l)("img",t);if(i){if(!G.f.has(t,"data-loaded"))return e&&e();i.onload=function(){e&&e(),t.removeAttribute("data-loaded")},i.onerror=function(){n.tryLoadAnotherServer(i,r),e&&e()},i.src=o}}}},{key:"tryLoadAnotherServer",value:function(t,e){var n=this,r=Object(q.d)(this.data.pages,function(t){return e===t.page_slug}),o=null,i=function(t){var e=n.data.servers[t];if(!r.serverTries.some(function(t){return t===e}))return o=e,"break"};for(var a in this.data.servers){if("break"===i(a))break}if(o)t.src=t.src.replace(r.currentServer,o),r.currentServer=o,r.serverTries.push(o);else{var s=Pi(e);t.onload=null,t.onerror=null,G.g.add(s,"reader-view__wrap_error"),G.f.remove(s,"data-loaded"),s.replaceChild(this.errorMessage(r.serverTries.length),t)}}},{key:"changeCommentsSizeStart",value:function(){var t=ki.comments.offsetWidth;this.commentsDrag.start=!0,this.commentsDrag.size=t}},{key:"changeCommentsSizeMove",value:function(t){var e=this;this.commentsDrag.start&&requestAnimationFrame(function(){var n=e.commentsDrag.size-t.deltaX,r=Object(pi.a)(n,400,800),o="".concat(r,"px");e.commentsDrag.current=r,e.commentsSetSize(o)})}},{key:"changeCommentsSizeEnd",value:function(){this.commentsDrag.start&&(this.settings.updateItem("commentsSize",this.commentsDrag.current),this.commentsDrag.start=!1,this.setCommentsItemSize(this.commentsDrag.current))}},{key:"commentsSetSize",value:function(t){ki.comments&&(ki.comments.style.width=t,ki.root.style.paddingRight=t,ki.headerWrapper.style.paddingRight=t)}},{key:"setCommentsItemSize",value:function(t){this.isMobile||G.g.toggle(ki.comments,"is-small",t<=550)}},{key:"errorMessage",value:function(t){return Object(v.a)("div",{className:"reader-image-error"},"Произошла ошибка при загрузке изображения ",Object(v.a)("br",null),"Попробуйте сменить сервер в",Object(v.a)("span",{onClick:ji}," Настройках ",Object(v.a)("i",{className:"fa fa-cog"})),Object(v.a)("br",null),"или ",Object(v.a)("span",{onClick:Ci},Object(v.a)("i",{className:"fa fa-refresh"})," перезагрузить")," страницу ",Object(v.a)("br",null),t&&Object(v.a)("small",{className:"text-muted"},"Количество попыток ",t))}},{key:"_updateComments",value:function(t){t&&!this.settings.options.showComments||q.b.emit(hi.a.changePage,this.current)}},{key:"isHorizontalMode",get:function(){return"horizontal"===this.settings.options.mode}},{key:"total",get:function(){return this.data.pages.length}},{key:"server",get:function(){return this.data.servers[this.settings.options.imageServer]}},{key:"current",get:function(){return this.data.page},set:function(t){return t=parseInt(t,10),this.data.page=t,this.changePageSelect(),t}},{key:"isMobile",get:function(){return window.matchMedia("(max-width: 768px)").matches}}])&&gi(n.prototype,r),o&&gi(n,o),e}()).prototype,"checkPageByPoint",[Ro],Object.getOwnPropertyDescriptor(di.prototype,"checkPageByPoint"),di.prototype),wi(di.prototype,"toggleShowComments",[Ro],Object.getOwnPropertyDescriptor(di.prototype,"toggleShowComments"),di.prototype),wi(di.prototype,"changeCommentsSizeStart",[Ro],Object.getOwnPropertyDescriptor(di.prototype,"changeCommentsSizeStart"),di.prototype),wi(di.prototype,"changeCommentsSizeMove",[Ro],Object.getOwnPropertyDescriptor(di.prototype,"changeCommentsSizeMove"),di.prototype),wi(di.prototype,"changeCommentsSizeEnd",[Ro],Object.getOwnPropertyDescriptor(di.prototype,"changeCommentsSizeEnd"),di.prototype),di);function Ti(t){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ni(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Li(t,e){return!e||"object"!==Ti(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mi(t,e,n){return(Mi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ii(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ii(t){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Di(t,e){return(Di=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}ki.root&&!G.g.has(ki.root,"reader_text")&&new Ai;var qi={root:Object(G.l)(".reader"),container:Object(G.l)(".reader-container"),buttons:Object(G.l)("#reader-next"),comments:Object(G.l)(".reader-comments")},Ri=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return Li(this,Ii(e).call(this,{theme:"light",font:"Helvetica",fontSize:16,lineHeight:1.6}))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Di(t,e)}(e,ci),n=e,(r=[{key:"init",value:function(){G.g.remove(qi.container,"hidden"),G.g.remove(qi.buttons,"hidden"),G.g.remove(qi.comments,"hidden"),this.bindEvents()}},{key:"initSettingHandlers",value:function(){Mi(Ii(e.prototype),"initSettingHandlers",this).call(this),this.settings.addHandler("font",this.changeFont),this.settings.addHandler("fontSize",this.setStyle("fontSize","px")),this.settings.addHandler("lineHeight",this.setStyle("lineHeight",""))}},{key:"bindEvents",value:function(){if(!C()(this.data.bookmark)){if(this.data.bookmark.dsc){var t=this.data.current.volume-this.data.bookmark.dsc.volume,e=this.data.current.number-this.data.bookmark.dsc.number;if(this.data.bookmark.dsc.volume<this.data.current.volume||0===t&&e>4||0===t&&e<0)return}if(!C()(this.data.bookmark)){var n=No()(this.data.bookmark,"dsc.index",this.data.current.index),r=this.data.current.index-n;if(r<0||r>5)return;this._checkProgress=this.checkProgress.bind(this),window.addEventListener("scroll",this._checkProgress,{passive:!0}),this._checkProgress()}}}},{key:"changeFont",value:function(t){var e="Helvetica"===t?"sans-serif":"serif";qi.container.style.fontFamily="".concat(t,", ").concat(e)}},{key:"setStyle",value:function(t,e){var n=this;return function(r){var o="".concat(r).concat(e);qi.container.style[t]=o,n.updateElValue(o,t)}}},{key:"updateElValue",value:function(t,e){Object(G.l)(".reader-settings__".concat(e)).textContent="[".concat(t,"]")}},{key:"checkProgress",value:function(){var t=Object(G.i)(qi.container);window.pageYOffset>t.bottom/2&&(this.header.autoBookmarkCalled||this.header.addToBookmark(!0),window.removeEventListener("scroll",this._checkProgress,{passive:!0}))}}])&&Ni(n.prototype,r),o&&Ni(n,o),e}();function Bi(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}qi.root&&G.g.has(qi.root,"reader_text")&&new Ri;var Fi=!1;function Hi(){return Ui.apply(this,arguments)}function Ui(){var t;return t=B.a.mark(function t(){var e,n,r,o;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((e=Object(G.m)(".reader-review-btn")).length){t.next=3;break}return t.abrupt("return");case 3:if(n=e[0],!G.g.has(n,"is-liked")&&!Fi){t.next=6;break}return t.abrupt("return");case 6:if(G.f.has(n,"data-id")||G.f.has(n,"data-chapter-id")){t.next=8;break}return t.abrupt("return",W.a.alert("Вы не авторизованы"));case 8:return r=G.f.get(n,"data-chapter-id",{parseNumbers:!0}),o=G.f.get(n,"data-id",{parseNumbers:!0}),Object(q.f)(e,function(t){G.g.add(t,"is-liked","is-animated");var e=Object(G.l)("[data-like-count]",t),n=parseInt(e.textContent);e.textContent=isNaN(n)?1:n+1}),Fi=!0,t.prev=12,t.next=15,D.a.post("/chapter/like",{chapterId:r,mediaId:o});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(12),console.error(t.t0);case 20:Fi=!1;case 21:case"end":return t.stop()}},t,null,[[12,17]])}),(Ui=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){Bi(i,r,o,a,s,"next",t)}function s(t){Bi(i,r,o,a,s,"throw",t)}a(void 0)})}).apply(this,arguments)}if(Object(G.c)(".reader-review-btn","click",Hi),q.b.on("chapter.like",Hi),Object(G.l)(".forum")){var zi=Object(G.l)(".forum-action-menu"),Wi=Object(G.l)("#selected-items"),Vi=[].slice.call(Object(G.m)("input[data-select]"));Object(G.c)("form[data-actions-form]","submit",function(t){var e=t.target,n=Object(G.l)('input[name="_method"]',e),r=Object(G.l)('select[name="action"]',e),o=Object(G.l)('button[type="submit"]',e),i=r.options[r.selectedIndex];if(G.f.has(i,"data-confirm")&&!confirm("Вы уверены?"))return t.preventDefault();G.f.has(i,"data-method")?n.value=Object(G.f)(i,"data-method"):n.value="patch",Object(St.a)(o,!0)}),Object(G.c)(Vi,"change",function(t){var e=t.currentTarget;if(G.g[Vi.some(function(t){return t.checked})?"remove":"add"](zi,"hidden"),e.checked)Wi.add(Object(v.a)("option",{value:e.value,selected:!0}));else{var n=Object(G.l)('option[value="'.concat(e.value,'"]'),Wi),r=Object(G.h)(n,Wi);Wi.remove(r)}}),Object(G.c)("select.form-action","change",function(t){var e=t.currentTarget,n=e.value,r=e.closest("form");Object(G.m)("[data-depends]",r).forEach(function(t){var e=Object(G.f)(t,"data-depends")===n?"remove":"add";G.g[e](t,"hidden")})}),Object(G.a)(zi,"click","[data-target]",function(t,e){var n=Object(G.f)(e,"data-target"),r=Object(G.l)("#thread-action"),o=Object(G.l)("#actions-submit");if(r.value=n,t.preventDefault(),"move"===n)return At.a.show("#thread-action-modal");o.click()})}var Gi=Object(G.l)(".forum .header"),$i=function(){0!==pageYOffset?G.g.add(Gi,"header_highlight"):G.g.remove(Gi,"header_highlight")};Gi&&(Object(G.c)(window,"scroll",$i),$i()),Object(G.l)("#moderation-container")&&new Promise(function(t){n.e(3).then(function(e){t(n("mkVr"))}.bind(null,n)).catch(n.oe)});var Yi,Ki=n("oG8a"),Zi=window.__LATEST_POST;function Qi(){var t=q.u.get("viewedPosts",[]);"string"==typeof t&&(t=[t]),t.unshift(Zi.slug),q.u.save("viewedPosts",t.slice(0,4))}null!=Zi&&("string"==typeof(Yi=q.u.get("viewedPosts",[]))&&(Yi=[Yi]),-1===Yi.indexOf(Zi.slug))&&q.u.supported&&Ki.default.info(Zi.title,{closeable:!0,onClose:Qi,onClick:function(){Qi(),location.assign(Zi.link)}}),Object(G.a)(document,"click","[data-ban-hammer]",function(t,e){var r=G.f.get(e,"data-user-id",{parseNumbers:!0}),o=Object(G.f)(e,"data-ban-hammer"),i=Object(G.f)(e,"data-ban-reason"),a=Object(G.f)(e,"data-expired-at");Y.a.prototype.$dialog.open({component:function(){return new Promise(function(t){n.e(0).then(function(e){t(n("i4fl"))}.bind(null,n)).catch(n.oe)})},props:{userId:r,banId:o,reason:i,expiredAt:a}})});var Ji=Object(G.l)("#ban-list");Ji&&new Promise(function(t){n.e(18).then(function(e){t(n("1rjF"))}.bind(null,n)).catch(n.oe)}).then(function(t){new t({propsData:{userId:Object(G.f)(Ji,"data-user-id")}}).$mount(Ji)});var Xi,ta=function(){return Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))};function ea(t,e){navigator.onLine||t("offline"),t("error",e)}function na(t,e,n){navigator.serviceWorker.register(t,n).then(function(t){e("registered",t),t.waiting?e("updated",t):t.onupdatefound=function(){e("updatefound",t);var n=t.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?e("updated",t):e("cached",t))}}}).catch(function(t){return ea(e,t)})}function ra(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}"undefined"!=typeof window&&(Xi="undefined"!=typeof Promise?new Promise(function(t){return window.addEventListener("load",t)}):{then:function(t){return window.addEventListener("load",t)}});var oa=Object(G.l)("#push-sub-toggle");function ia(t){oa&&(oa.disabled=t)}function aa(t){if(oa){var e=oa.closest(".form__field"),n=document.createElement("div");n.className="form__error",n.textContent=t,ia(!0),e.appendChild(n)}}function sa(t){var e=t.getKey("p256dh"),n=t.getKey("auth"),r={endpoint:t.endpoint,key:e?btoa(String.fromCharCode.apply(null,new Uint8Array(e))):null,token:n?btoa(String.fromCharCode.apply(null,new Uint8Array(n))):null};ia(!0),D.a.post("/subscriptions",r).then(function(){return ia(!1)}).catch(function(){return ia(!1)})}function ca(){navigator.serviceWorker.ready.then(function(t){var e={userVisibleOnly:!0},n=window._PushData.vapidPublicKey;n&&(e.applicationServerKey=function(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(e),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}(n)),t.pushManager.subscribe(e).then(sa).catch(function(t){"denied"===Notification.permission?console.error("Permission for Notifications was denied"):console.error("Unable to subscribe to push.",t),oa.checked=!1})}).catch(console.error)}function ua(){navigator.serviceWorker.ready.then(function(t){t.pushManager.getSubscription().then(function(t){t&&t.unsubscribe().then(function(){!function(t){ia(!0),D.a.post("/subscriptions/delete",{endpoint:t.endpoint}).then(function(){return ia(!1)}).catch(function(){return ia(!1)})}(t)}).catch(console.error)}).catch(console.error)})}!function(t,e){void 0===e&&(e={});var n=e.registrationOptions;void 0===n&&(n={}),delete e.registrationOptions;var r=function(t){for(var n=[],r=arguments.length-1;r-->0;)n[r]=arguments[r+1];e&&e[t]&&e[t].apply(e,n)};"serviceWorker"in navigator&&Xi.then(function(){ta()?(function(t,e,n){fetch(t).then(function(r){404===r.status?(e("error",new Error("Service worker not found at "+t)),ra()):-1===r.headers.get("content-type").indexOf("javascript")?(e("error",new Error("Expected "+t+" to have javascript content-type, but received "+r.headers.get("content-type"))),ra()):na(t,e,n)}).catch(function(t){return ea(e,t)})}(t,r,n),navigator.serviceWorker.ready.then(function(t){r("ready",t)})):(na(t,r,n),navigator.serviceWorker.ready.then(function(t){r("ready",t)}))})}("/sw.js?id=S3ovYQUariOo",{registered:function(t){console.log("ServiceWorker register success: VERSION aNRqLg0mjFFV",t.scope),function(t){if(oa){if("showNotification"in ServiceWorkerRegistration.prototype)return"denied"===Notification.permission?(aa('Вы заблокировали "push" уведомления'),void console.error("The user has blocked notifications.")):"PushManager"in window?void t.pushManager.getSubscription().then(function(t){oa&&(oa.checked=null!==t),t&&sa(t)}).catch(console.error):(console.error("Push messaging isn't supported."),void aa('Ваш браузер не поддерживает "push" уведомления'));console.error("Notifications aren't supported.")}}(t)},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},error:function(t){console.log("ServiceWorker registration failed: ",t)}}),"serviceWorker"in navigator?Object(G.c)(oa,"change",function(t){t.target.checked?ca():ua()}):aa('Ваш браузер не поддерживает "push" уведомления'),function(){switch(Object(G.f)(document.body,"data-page")){case"news-editor":new Promise(function(t){n.e(16).then(function(e){t(n("pG0S"))}.bind(null,n)).catch(n.oe)});break;case"bulk-create":new Promise(function(t){n.e(15).then(function(e){t(n("dg9y"))}.bind(null,n)).catch(n.oe)});break;case"chapter-editor":new Promise(function(t){n.e(7).then(function(e){t(n("/1KW"))}.bind(null,n)).catch(n.oe)});break;case"home":new Promise(function(t){n.e(17).then(function(e){t(n("cGnW"))}.bind(null,n)).catch(n.oe)});break;case"faq":new Promise(function(t){n.e(1).then(function(e){t(n("TAFP"))}.bind(null,n)).catch(n.oe)});break;case"tags":new Promise(function(t){n.e(12).then(function(e){t(n("ATs1"))}.bind(null,n)).catch(n.oe)});break;case"forum":new Promise(function(t){n.e(4).then(function(e){t(n("m40e"))}.bind(null,n)).catch(n.oe)});break;case"polls-editor":new Promise(function(t){n.e(14).then(function(e){t(n("J9TZ"))}.bind(null,n)).catch(n.oe)});break;case"team-show":new Promise(function(t){n.e(29).then(function(e){t(n("Z8Vr"))}.bind(null,n)).catch(n.oe)});break;case"team-edit":new Promise(function(t){n.e(10).then(function(e){t(n("7Kgl"))}.bind(null,n)).catch(n.oe)})}}(),Object(G.l)("#faq-page")&&new Promise(function(t){n.e(1).then(function(e){t(n("TAFP"))}.bind(null,n)).catch(n.oe)})},abp6:function(t,e,n){var r=n("VU/8")(n("3y7u"),n("50oC"),!1,null,null,null);t.exports=r.exports},agim:function(t,e,n){var r=n("pTUa");t.exports=function(t){return r(this,t).has(t)}},alMs:function(t,e,n){"use strict";var r=n("iSNJ"),o=n("Jaym");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(){var t,n,r,o,a,u,l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];return r=this,n=!(o=(t=s(e)).call.apply(t,[this].concat(d)))||"object"!==i(o)&&"function"!=typeof o?c(r):o,a=c(n),l=!1,(u="isDisabled")in a?Object.defineProperty(a,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[u]=l,n}var l,d,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,o["a"]),l=e,(d=[{key:"open",value:function(t){Object(r.c)(),this.emit(f.open,t)}},{key:"close",value:function(t){this.emit(f.close,t)}},{key:"confirm",value:function(t){this.open({component:function(){return new Promise(function(t){n.e(19).then(function(e){t(n("f5jS"))}.bind(null,n)).catch(n.oe)})},props:t})}},{key:"disable",value:function(){this.isDisabled=!0,this.emit(f.disable)}},{key:"enable",value:function(){this.isDisabled=!1,this.emit(f.enable)}}])&&a(l.prototype,d),p&&a(l,p),e}(),f={open:"open",close:"close",disable:"disable",enable:"enable",confirm:"confirm"};e.a=new l},aqbq:function(t,e,n){var r=n("odTk"),o=n("hcE8"),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},arOy:function(t,e,n){var r,o,i;function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=function(){"use strict";var t="undefined"!=typeof window,e=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),n=t&&"IntersectionObserver"in window,r=t&&"classList"in document.createElement("p"),o={elements_selector:"img",container:e||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:!0,callback_enter:null,callback_exit:null,callback_reveal:null,callback_loaded:null,callback_error:null,callback_finish:null},i=function(t,e){return t.getAttribute("data-"+e)},s=function(t,e,n){var r="data-"+e;null!==n?t.setAttribute(r,n):t.removeAttribute(r)},c=function(t){return"true"===i(t,"was-processed")},u=function(t,e){return s(t,"ll-timeout",e)},l=function(t){return i(t,"ll-timeout")},f=function(t,e){var n,r=new t(e);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:r}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:r})}window.dispatchEvent(n)},d=function(t,e){t&&t(e)},p=function(t,e){t._loadingCount+=e,0===t._elements.length&&0===t._loadingCount&&d(t._settings.callback_finish)},h=function(t){for(var e,n=[],r=0;e=t.children[r];r+=1)"SOURCE"===e.tagName&&n.push(e);return n},v=function(t,e,n){n&&t.setAttribute(e,n)},m=function(t,e){v(t,"sizes",i(t,e.data_sizes)),v(t,"srcset",i(t,e.data_srcset)),v(t,"src",i(t,e.data_src))},g={IMG:function(t,e){var n=t.parentNode;n&&"PICTURE"===n.tagName&&h(n).forEach(function(t){m(t,e)}),m(t,e)},IFRAME:function(t,e){v(t,"src",i(t,e.data_src))},VIDEO:function(t,e){h(t).forEach(function(t){v(t,"src",i(t,e.data_src))}),v(t,"src",i(t,e.data_src)),t.load()}},b=function(t,e){r?t.classList.add(e):t.className+=(t.className?" ":"")+e},y=function(t,e,n){t.addEventListener(e,n)},_=function(t,e,n){t.removeEventListener(e,n)},O=function(t,e,n){_(t,"load",e),_(t,"loadeddata",e),_(t,"error",n)},w=function(t,e,n){var o=n._settings,i=e?o.class_loaded:o.class_error,a=e?o.callback_loaded:o.callback_error,s=t.target;!function(t,e){r?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")}(s,o.class_loading),b(s,i),d(a,s),p(n,-1)},x=["IMG","IFRAME","VIDEO"],k=function(t,e){var n=e._observer;C(t,e),n&&e._settings.auto_unobserve&&n.unobserve(t)},j=function(t){var e=l(t);e&&(clearTimeout(e),u(t,null))},C=function(t,e,n){var r=e._settings;!n&&c(t)||(x.indexOf(t.tagName)>-1&&(function(t,e){var n=function n(o){w(o,!0,e),O(t,n,r)},r=function r(o){w(o,!1,e),O(t,n,r)};!function(t,e,n){y(t,"load",e),y(t,"loadeddata",e),y(t,"error",n)}(t,n,r)}(t,e),b(t,r.class_loading)),function(t,e){var n,r,o=e._settings,a=t.tagName,s=g[a];if(s)return s(t,o),p(e,1),void(e._elements=(n=e._elements,r=t,n.filter(function(t){return t!==r})));!function(t,e){var n=i(t,e.data_src),r=i(t,e.data_bg);n&&(t.style.backgroundImage='url("'.concat(n,'")')),r&&(t.style.backgroundImage=r)}(t,o)}(t,e),function(t){s(t,"was-processed","true")}(t),d(r.callback_reveal,t),d(r.callback_set,t))},E=function(t){return!!n&&(t._observer=new IntersectionObserver(function(e){e.forEach(function(e){return function(t){return t.isIntersecting||t.intersectionRatio>0}(e)?function(t,e){var n=e._settings;d(n.callback_enter,t),n.load_delay?function(t,e){var n=e._settings.load_delay,r=l(t);r||(r=setTimeout(function(){k(t,e),j(t)},n),u(t,r))}(t,e):k(t,e)}(e.target,t):function(t,e){var n=e._settings;d(n.callback_exit,t),n.load_delay&&j(t)}(e.target,t)})},{root:(e=t._settings).container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}),!0);var e},P=function(t,e){this._settings=function(t){return a({},o,t)}(t),this._loadingCount=0,E(this),this.update(e)};return P.prototype={update:function(t){var n=this,r=this._settings,o=t||r.container.querySelectorAll(r.elements_selector);this._elements=Array.prototype.slice.call(o).filter(function(t){return!c(t)}),!e&&this._observer?this._elements.forEach(function(t){n._observer.observe(t)}):this.loadAll()},destroy:function(){var t=this;this._observer&&(this._elements.forEach(function(e){t._observer.unobserve(e)}),this._observer=null),this._elements=null,this._settings=null},load:function(t,e){C(t,this,e)},loadAll:function(){var t=this;this._elements.forEach(function(e){k(e,t)})}},t&&function(t,e){if(e)if(e.length)for(var n,r=0;n=e[r];r+=1)f(t,n);else f(t,e)}(P,window.lazyLoadOptions),P},"object"===s(e)&&void 0!==t?t.exports=i():void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)},aske:function(t,e,n){var r=n("aqbq"),o=n("gLsf"),i=n("fTzd"),a=n("5+O3");t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},asqq:function(t,e,n){var r=n("q0qZ"),o=n("1rEs"),i=n("C1ru");t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},bGc4:function(t,e,n){var r=n("gGqR"),o=n("Rh28");t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},bIbi:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"WeakMap");t.exports=r},bIjD:function(t,e,n){var r=n("NGEn"),o=n("hIPy"),i=n("UnLw"),a=n("ZT2e");t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},bJWQ:function(t,e,n){var r=n("duB3"),o=n("KmWZ"),i=n("NqZt"),a=n("E4Hj"),s=n("G2xm"),c=n("zpVT");function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,t.exports=u},bO0Y:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"Promise");t.exports=r},bRTM:function(t,e){var n=NodeList.prototype;NodeList&&!n.forEach&&(n.forEach=function(t,e){e=e||this;for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)})},bcYS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Jaym");e.default={props:{state:Object,value:[String,Number]},computed:{isChecked:function(){return this.isIncluded||this.isExcluded},isExcluded:function(){var t=this;return this.state.exclude.some(function(e){return e==t.value})},isIncluded:function(){var t=this;return this.state.include.some(function(e){return e==t.value})},checkedValue:function(){return this.isIncluded?1:this.isExcluded?2:0}},methods:{toggleValue:function(){this.isExcluded?this.state.exclude.splice(this.index(this.state.exclude),1):this.isIncluded?(this.state.include.splice(this.index(this.state.include),1),this.state.exclude.push(this.value)):this.state.include.push(this.value)},index:function(t){var e=this;return Object(r.e)(t,function(t){return t==e.value})}}}},blYT:function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n("DuR2"))},"by+k":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("I3G/"),o=n.n(r),i=n("CkJp"),a=n.n(i),s=n("Kip4");e.default=o.a.extend({components:{BookmarkFoldersList:a.a},mixins:[s.a],props:{className:String}})},cdq7:function(t,e){t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},"d+aQ":function(t,e,n){var r=n("hbAh"),o=n("16tV"),i=n("sJvV");t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},d4US:function(t,e,n){var r=n("ICSD")(n("TQ3y"),"DataView");t.exports=r},dCZQ:function(t,e,n){var r=n("ICSD")(Object,"create");t.exports=r},dFpP:function(t,e,n){var r=n("imBK"),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))}},dH3X:function(t,e,n){var r=n("607n");t.exports=function(t){if(r(t))return!isNaN(t);throw new TypeError(toString.call(t)+" is not an instance of Date")}},dWBF:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var r=n("Jaym"),o=[{id:6,name:"Без причины",type:"default"},{id:3,name:"Оскорбление пользователей",type:"default"},{id:4,name:"Флуд / Оффтоп / Комментарий без смысла",type:"default"},{id:5,name:"Реклама / Спам",type:"default"},{id:1,name:"Спойлер",type:"default"},{id:7,name:"Провокации / Конфликты",type:"default"},{id:2,name:"Ненормативная лексика",type:"default"},{id:8,name:"Запрещенный / непотребный контент",type:"default"},{id:9,name:"Бессмысленная / Пустая тема"},{id:10,name:"Дубликат темы"},{id:11,name:"Некорректный заголовок"},{id:12,name:"Твинк аккаунт"}],i=Object(r.s)(o,"id","name")},deUO:function(t,e,n){var r=n("imBK");t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},dliL:function(t,e,n){"use strict";var r=n("i9tX"),o=n("hcE8"),i=n("hGaF"),a=n("+opI"),s=n("0LGO"),c=n("UHV6"),u=n("tyBP"),l=n("HAas"),f=n("r54x"),d=n("Kbrx"),p=n("GB3+"),h=n("3Nrx");t.exports=function(t,e,n){var v=-1!==t.indexOf("Map"),m=-1!==t.indexOf("Weak"),g=v?"set":"add",b=o[t],y=b&&b.prototype,_=b,O={},w=function(t){var e=y[t];a(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(i(t,"function"!=typeof b||!(m||y.forEach&&!f(function(){(new b).entries().next()}))))_=n.getConstructor(e,t,v,g),s.REQUIRED=!0;else if(i(t,!0)){var x=new _,k=x[g](m?{}:-0,1)!=x,j=f(function(){x.has(1)}),C=d(function(t){new b(t)}),E=!m&&f(function(){for(var t=new b,e=5;e--;)t[g](e,e);return!t.has(-0)});C||((_=e(function(e,n){u(e,_,t);var r=h(new b,e,_);return void 0!=n&&c(n,r[g],r,v),r})).prototype=y,y.constructor=_),(j||E)&&(w("delete"),w("has"),v&&w("get")),(E||k)&&w(g),m&&y.clear&&delete y.clear}return O[t]=_,r({global:!0,forced:_!=b},O),p(_,t),m||n.setStrong(_,t,v),_}},dmQx:function(t,e){t.exports=function(t,e){return t.has(e)}},dmfu:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media-chapters-timer__dialog"},[e("div",{staticClass:"modal__header"},[e("div",{staticClass:"modal__title text-center"},[this._v("\n      Таймер выхода глав\n    ")]),this._v(" "),e("app-dialog-close")],1),this._v(" "),this._m(0)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal__body"},[n("p",[t._v("\n      Данный таймер показывает "),n("b",[t._v("примерный")]),t._v(" выход главы. В расчёт берутся последние 8 глав.\n    ")]),t._v(" "),n("div",{staticClass:"text-center"},[n("b",[t._v("Что это значит?")])]),t._v(" "),n("ul",[n("li",[t._v("Таймер служит всего лишь для вашего удобства и не более")]),t._v(" "),n("li",[t._v("Глава не обязана появиться в срок")]),t._v(" "),n("li",[t._v("Что не надо писать: "),n("b",[t._v('"Где глава?"')])]),t._v(" "),n("li",[t._v("Что не надо писать автору / переводчику с вопросом: "),n("b",[t._v('"Когда уже глава?"')])]),t._v(" "),n("li",[t._v("Ещё раз - это "),n("b",[t._v("примерный")]),t._v(" выход глав")])])])}]}},duB3:function(t,e,n){var r=n("WxI4"),o=n("dFpP"),i=n("JBvZ"),a=n("2Hvv"),s=n("deUO");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},dwsC:function(t,e,n){var r=n("86tT"),o=n("S7p9"),i=n("Dc0G"),a=i&&i.isMap,s=a?o(a):r;t.exports=s},eAIx:function(t,e,n){var r=n("Kl7s")({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});t.exports=r},eFps:function(t,e,n){var r,o=n("+gg+"),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},"eG8/":function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},eHwr:function(t,e,n){var r=n("JyYQ"),o=n("bGc4"),i=n("ktak");t.exports=function(t){return function(e,n,a){var s=Object(e);if(!o(e)){var c=r(n,3);e=i(e),n=function(t){return c(s[t],t,s)}}var u=t(e,n,a);return u>-1?s[c?e[u]:u]:void 0}}},eKBv:function(t,e,n){var r=n("YDHx"),o=n("Q7hp"),i=n("RfZv"),a=n("hIPy"),s=n("tO4o"),c=n("sJvV"),u=n("Ubhr"),l=1,f=2;t.exports=function(t,e){return a(t)&&s(e)?c(u(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,l|f)}}},eP4g:function(t,e,n){var r=n("gHOb"),o=n("UnEC"),i="[object Set]";t.exports=function(t){return o(t)&&r(t)==i}},eTT4:function(t,e,n){"use strict";var r=n("VpuQ"),o=n("jgJS");t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},eVIm:function(t,e,n){var r=n("dCZQ"),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}},eZ0g:function(t,e){t.exports={}},"f1+4":function(t,e,n){var r=n("5+O3");t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},f6yZ:function(t,e,n){"use strict";e.a={ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,ENTER:13,ESC:27,TAB:9}},f931:function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},f9UU:function(t,e,n){var r=n("i9tX"),o=n("65ot");r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},fJbB:function(t,e){},fK0A:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"d",function(){return o}),n.d(e,"a",function(){return i}),e.c=a,e.b=function(t,e){if(a(t)&&a(e)){var n=new Date,r=s(t),o=s(e);return r>n&&r.setDate(r.getDate()-1),r>o&&o.setDate(o.getDate()+1),n>=r&&n<=o}return!1},e.e=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=document.documentElement,n=document.head.querySelector('[name="theme-color"]');t?(e.setAttribute("data-mode","dark"),n.setAttribute("content","#242424")):(e.removeAttribute("data-mode"),n.setAttribute("content",window._SITE_COLOR_||"#e48f13"))};var o={theme:"dark"},i={enabled:!1,autoEnable:!1,time:{from:"00:00",to:"00:00"}};function a(t){return/\d{2}:\d{2}/.test(t)}function s(t){var e=r(t.split(":"),2),n=e[0],o=e[1],i=new Date;return i.setHours(n),i.setMinutes(o),i}},fMqj:function(t,e,n){var r=n("zGZ6"),o=500;t.exports=function(t){var e=r(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}},fTzd:function(t,e){e.f=Object.getOwnPropertySymbols},femp:function(t,e){},fkET:function(t,e,n){var r=n("r54x"),o=n("raVe"),i="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},flBj:function(t,e,n){var r=n("hcE8"),o=n("rlzA"),i=Function.call;t.exports=function(t,e,n){return o(i,r[t].prototype[e],n)}},gAt4:function(t,e,n){var r=n("xA5w"),o=n("nizW"),i=n("NKE6");t.exports=function(t,e){var n=r(t),a=r(e),s=i(n,a),c=Math.abs(o(n,a));return n.setDate(n.getDate()-s*c),s*(c-(i(n,a)===-s))}},"gF/f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Jaym");function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.default={model:{prop:"model",event:"change"},props:{model:[String,Boolean,Number,Object,Array],value:[String,Boolean,Number,Object],large:Boolean,label:String,disabled:{type:Boolean,default:!1},trueValue:{type:[Boolean,Number,String],default:!0},falseValue:{type:Boolean,default:!1}},computed:{isModelArray:function(){return Array.isArray(this.model)},isChecked:function(){var t=this;return this.isModelArray?null!==Object(r.d)(this.model,function(e){return e==t.value}):this.model==this.trueValue}},methods:{handleArrayCheckbox:function(){var t=this,e=o(this.model);if(this.isChecked){var n=Object(r.e)(e,function(e){return e==t.value});-1!==n&&e.splice(n,1)}else e.push(this.value);this.$emit("change",e)},onChange:function(){this.disabled||(this.isModelArray?this.handleArrayCheckbox():this.$emit("change",this.isChecked?this.falseValue:this.trueValue))}}}},gGqR:function(t,e,n){var r=n("aCM0"),o=n("yCNF"),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=r(t);return e==a||e==s||e==i||e==c}},gHOb:function(t,e,n){var r=n("d4US"),o=n("POb3"),i=n("bO0Y"),a=n("5N57"),s=n("bIbi"),c=n("aCM0"),u=n("Ai/T"),l=u(r),f=u(o),d=u(i),p=u(a),h=u(s),v=c;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return e}),t.exports=v},gLsf:function(t,e,n){var r=n("AMIE"),o=n("YveC").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},gado:function(t,e,n){var r=n("jAiL"),o=n("eZ0g"),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},ggOT:function(t,e,n){(function(t){var r=n("TQ3y"),o=n("gwcX"),i="object"==typeof e&&e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;t.exports=c}).call(e,n("3IRH")(t))},gmAb:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"a",function(){return l});var r=n("u5FJ"),o=n("Jaym"),i=n("dWBF"),a=function(t,e){return e.split(".").reduce(function(t,e){return t[e]},t)},s=function(t){var e=Object(r.l)(".comments .shifted");e&&e!==t&&(e.style.marginLeft="",r.g.remove(e,"shifted"))},c=function(t){if(t){var e=Object(r.i)(t).left,n=Object(r.i)(Object(r.l)(".comments")).left;if(r.g.has(t,"shifted"))return s();t.style.marginLeft="-".concat(e-n,"px"),r.g.add(t,"shifted")}},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(o.o)(t)&&(t=Object(r.l)(t)),t){if(t.closest(".comment__children.hidden"))for(var n=t.closest(".comment__children.hidden");n;)r.g.remove(n,"hidden"),n=n.closest(".comment__children.hidden");var i,a,s=(i=t,a=Object(r.l)(".header"),Object(r.i)(i).top-(a?a.offsetHeight+10:10)),c=e.highlight,u=void 0===c||c,l=e.preventScrollIfVisible;u&&(r.g.add(t,"comment_highlight"),Object(r.d)("#".concat(t.id," > .comment__body"),"mouseenter",function(){r.g.remove(t,"comment_highlight")}));var f=s-pageYOffset;l&&f>0||window.scroll(0,s)}},l=function(t){var e=i.b[t];return e&&6!=t?'<span style="color: #818181;">Комментарий был удален: Причина - '.concat(e,"</span>"):'<span style="color: #818181;">Комментарий был удален</span>'}},gpZ8:function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},gwcX:function(t,e){t.exports=function(){return!1}},h5cE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("mtWM"),a=n.n(i),s=n("iSNJ"),c=n("5oa4"),u=n.n(c),l=n("KZyg"),f=n.n(l),d=n("s8GX"),p=n.n(d),h=n("tuWI"),v=n.n(h),m=n("6Vnj"),g=n.n(m),b=n("u5FJ"),y=n("Jaym"),_=n("vrSs"),O=n("gmAb"),w=n("OLx3");function x(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default={components:{Comment:u.a,CommentsForm:f.a,Loader:v.a,AppCheckbox:g.a},props:{currentOrder:String,loading:Boolean,showPartials:Boolean},data:function(){return{orderOptions:{latest:"Новые",oldest:"Старые",best:"Популярные"},showRulesWarning:!1,tippyOptions:function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){j(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},_.e,{interactive:!0})}},computed:{comments:function(){return w.a.comments},sticky:function(){return w.a.sticky},auth:function(){return w.a.auth},settings:function(){return w.a.settings},showDestroyCommentsBtn:function(){if(w.a.auth&&w.a.auth.access){if(w.a.auth.isAdmin)return!0;if("chapter"===w.a.info.type&&(1===w.a.page||Math.abs(w.a.page-w.a.totalPages)<2))return!0}return!1}},watch:{"settings.order":{deep:!0,handler:function(){y.u.update("commentsSettings",w.a.settings)}}},created:function(){this.showRulesWarning=!this.settings.hideRules},mounted:function(){Object(b.a)(this.$el,"click",".comment__user-reply",function(t,e){t.preventDefault();var n=e.closest(".comment__children");Object(O.c)(n.parentNode)}),Object(s.b)(".comments",{content:function(){return document.createElement("div")},target:"[data-vote]",theme:"light",placement:"top",arrow:!1,onShow:function(t){var e=t.reference,n=k(Object(b.f)(e,"data-vote").split("_"),2),r=n[0],o=n[1],i=Object(y.t)(r,"плюс","плюса","плюсов"),a=Object(y.t)(o,"минус","минуса","минусов");t.setContent("".concat(r," ").concat(i,", ").concat(o," ").concat(a))},onHidden:function(t){t.destroy()}})},methods:{changeSort:function(t){var e=this;this.loading||(w.a.settings.order[w.a.info.type]=t,this.$nextTick(function(){setTimeout(function(){requestAnimationFrame(function(){return e.$emit("sort-changed",t)})},160)}))},showSettings:function(){this.$dialog.open({component:p.a})},hideRulesWarning:function(){y.u.save("commentsSettings",this.settings),this.showRulesWarning=!1},removeByPage:function(){var t,e=(t=o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(confirm("Удалить все комментарии на этой странице?")){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,e={chapterId:w.a.info.postId,page:w.a.page},this.$pageLoader.show("Удаляем..."),t.next=7,a.a.delete("/api/comments/destroy-page",{data:e});case 7:this.$AppEmitter.emit("comments.removeCommentsByPage",e.page),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0),this.$toast.httpError(t.t0,"Ошибка при удалении");case 14:this.$pageLoader.hide();case 15:case"end":return t.stop()}},t,this,[[2,10]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){x(i,r,o,a,s,"next",t)}function s(t){x(i,r,o,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}()}}},h9fk:function(t,e,n){var r=n("VU/8")(n("bcYS"),n("l5gR"),!1,null,null,null);t.exports=r.exports},hAM4:function(t,e,n){var r;r=function(){"use strict";function t(){return"undefined"!=typeof window}function e(t){return(i=t)&&i.document&&function(t){return 9===t.nodeType}(i.document)?(n=(e=t).document,r=n.body,o=n.documentElement,{scrollHeight:function(){return Math.max(r.scrollHeight,o.scrollHeight,r.offsetHeight,o.offsetHeight,r.clientHeight,o.clientHeight)},height:function(){return e.innerHeight||o.clientHeight||r.clientHeight},scrollY:function(){return void 0!==e.pageYOffset?e.pageYOffset:(o||r.parentNode||r).scrollTop}}):function(t){return{scrollHeight:function(){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},height:function(){return Math.max(t.offsetHeight,t.clientHeight)},scrollY:function(){return t.scrollTop}}}(t);var e,n,r,o,i}function n(t,n,r){var o,i=function(){var t=!1;try{var e={get passive(){t=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}return t}(),a=!1,s=e(t),c=s.scrollY(),u={};function l(){var t=Math.round(s.scrollY()),e=s.height(),o=s.scrollHeight();u.scrollY=t,u.lastScrollY=c,u.direction=t>c?"down":"up",u.distance=Math.abs(t-c),u.isOutOfBounds=t<0||t+e>o,u.top=t<=n.offset,u.bottom=t+e>=o,u.toleranceExceeded=u.distance>n.tolerance[u.direction],r(u),c=t,a=!1}function f(){a||(a=!0,o=requestAnimationFrame(l))}var d=!!i&&{passive:!0,capture:!1};return t.addEventListener("scroll",f,d),l(),{destroy:function(){cancelAnimationFrame(o),t.removeEventListener("scroll",f,d)}}}function r(t,e){var n;e=e||{},Object.assign(this,r.options,e),this.classes=Object.assign({},r.options.classes,e.classes),this.elem=t,this.tolerance=(n=this.tolerance)===Object(n)?n:{down:n,up:n},this.initialised=!1,this.frozen=!1}return r.prototype={constructor:r,init:function(){return r.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(t){t.scrollTracker=n(t.scroller,{offset:t.offset,tolerance:t.tolerance},t.update.bind(t))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(t){return"down"===t.direction&&!t.top&&t.toleranceExceeded},shouldPin:function(t){return"up"===t.direction&&t.toleranceExceeded||t.top},addClass:function(t){this.elem.classList.add(this.classes[t])},removeClass:function(t){this.elem.classList.remove(this.classes[t])},hasClass:function(t){return this.elem.classList.contains(this.classes[t])},update:function(t){t.isOutOfBounds||!0!==this.frozen&&(t.top?this.top():this.notTop(),t.bottom?this.bottom():this.notBottom(),this.shouldUnpin(t)?this.unpin():this.shouldPin(t)&&this.pin())}},r.options={tolerance:{up:0,down:0},offset:0,scroller:t()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},r.cutsTheMustard=!!(t()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),r},t.exports=r()},hGaF:function(t,e,n){var r=n("r54x"),o=/#|\.prototype\./,i=function(t,e){var n=s[a(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";t.exports=i},hIPy:function(t,e,n){var r=n("NGEn"),o=n("6MiT"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},hKoQ:function(t,e,n){(function(e,n){var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,a=void 0,s=function(t,e){h[o]=t,h[o+1]=e,2===(o+=2)&&(a?a(v):_())};var c="undefined"!=typeof window?window:void 0,u=c||{},l=u.MutationObserver||u.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(v,1)}}var h=new Array(1e3);function v(){for(var t=0;t<o;t+=2){(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0}o=0}var m,g,b,y,_=void 0;function O(t,e){var n=this,r=new this.constructor(k);void 0===r[x]&&q(r);var o=n._state;if(o){var i=arguments[o-1];s(function(){return I(o,r,i,n._result)})}else L(n,r,t,e);return r}function w(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(k);return S(e,t),e}f?_=function(){return e.nextTick(v)}:l?(g=0,b=new l(v),y=document.createTextNode(""),b.observe(y,{characterData:!0}),_=function(){y.data=g=++g%2}):d?((m=new MessageChannel).port1.onmessage=v,_=function(){return m.port2.postMessage(0)}):_=void 0===c?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:p()}catch(t){return p()}}():p();var x=Math.random().toString(36).substring(2);function k(){}var j=void 0,C=1,E=2;function P(e,n,r){n.constructor===e.constructor&&r===O&&n.constructor.resolve===w?function(t,e){e._state===C?T(t,e._result):e._state===E?N(t,e._result):L(e,void 0,function(e){return S(t,e)},function(e){return N(t,e)})}(e,n):void 0===r?T(e,n):t(r)?function(t,e,n){s(function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?S(t,n):T(t,n))},function(e){r||(r=!0,N(t,e))},t._label);!r&&o&&(r=!0,N(t,o))},t)}(e,n,r):T(e,n)}function S(t,e){if(t===e)N(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)T(t,e);else{var n=void 0;try{n=e.then}catch(e){return void N(t,e)}P(t,e,n)}var r,o}function A(t){t._onerror&&t._onerror(t._result),M(t)}function T(t,e){t._state===j&&(t._result=e,t._state=C,0!==t._subscribers.length&&s(M,t))}function N(t,e){t._state===j&&(t._state=E,t._result=e,s(A,t))}function L(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+C]=n,o[i+E]=r,0===i&&t._state&&s(M,t)}function M(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?I(n,r,o,i):o(i);t._subscribers.length=0}}function I(e,n,r,o){var i=t(r),a=void 0,s=void 0,c=!0;if(i){try{a=r(o)}catch(t){c=!1,s=t}if(n===a)return void N(n,new TypeError("A promises callback cannot return that same promise."))}else a=o;n._state!==j||(i&&c?S(n,a):!1===c?N(n,s):e===C?T(n,a):e===E&&N(n,a))}var D=0;function q(t){t[x]=D++,t._state=void 0,t._result=void 0,t._subscribers=[]}var R=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(k),this.promise[x]||q(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&T(this.promise,this._result))):N(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===j&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===w){var o=void 0,i=void 0,a=!1;try{o=t.then}catch(t){a=!0,i=t}if(o===O&&t._state!==j)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===B){var s=new n(k);a?N(s,i):P(s,t,o),this._willSettleAt(s,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===j&&(this._remaining--,t===E?N(r,n):this._result[e]=n),0===this._remaining&&T(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;L(t,void 0,function(t){return n._settledAt(C,e,t)},function(t){return n._settledAt(E,e,t)})},t}();var B=function(){function e(t){this[x]=D++,this._result=this._state=void 0,this._subscribers=[],k!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e(function(e){S(t,e)},function(e){N(t,e)})}catch(e){N(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return B.prototype.then=O,B.all=function(t){return new R(this,t).promise},B.race=function(t){var e=this;return r(t)?new e(function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},B.resolve=w,B.reject=function(t){var e=new this(k);return N(e,t),e},B._setScheduler=function(t){a=t},B._setAsap=function(t){s=t},B._asap=s,B.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=B},B.Promise=B,B},t.exports=r()}).call(e,n("W2nU"),n("DuR2"))},hP5B:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mtWM"),o=n.n(r),i=n("gAt4"),a=n.n(i),s=n("OvQW"),c=n.n(s),u=n("k+y2"),l=n.n(u),f=n("ryCm"),d=n.n(f),p=n("lelv"),h=n.n(p),v=n("Ngrm"),m=n("gmAb"),g=n("nctS"),b=n("OLx3");function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default={name:"Comment",components:{CommentReply:l.a,VDropdown:d.a,VDropdownMenu:h.a},props:{comment:{type:Object,required:!0},reply:{type:Object,default:null},commentLevel:{type:Number,default:0},isSticky:Boolean,rootId:Number},data:function(){return{show:!0,disabled:!1,collapsed:!1,collapsible:!1,hideContent:!1}},computed:{votes:function(){return this.comment.votes_up-this.comment.votes_down},children:function(){return this.isSticky?null:b.a.replies[this.comment.id]},hasChilds:function(){return this.children&&this.children.length},isDeleted:function(){return 0!==this.comment.deleted},hideActionBtn:function(){return!1===b.a.auth||this.showForm||!1},isCurrentUser:function(){return b.a.auth.id===this.comment.user_id},showDeleteBtn:function(){return!this.hideActionBtn&&(!!b.a.auth.access||!this.hasChilds&&!this.isDeleted&&!!this.isCurrentUser)},showEditBtn:function(){return!this.hideActionBtn&&!this.isDeleted&&(!!b.a.auth.access||!!this.isCurrentUser)},showForm:function(){return b.a.activeItem&&b.a.activeItem.id===this.comment.id},editing:function(){return this.showForm&&b.a.editing},isNewLine:function(){return this.commentLevel>0&&this.commentLevel%10==0}},created:function(){this.commentLevel===b.a.settings.level-1&&(this.show=!1),(this.isNewLine||this.isDeleted)&&(this.show=!1),this.show||this.$on("toggleCollapse",this.toggleCollapse),this.votes<-6&&!this.isDeleted&&!this.isSticky&&(this.hideContent=!0)},mounted:function(){var t=this.isSticky?302:132;this.$refs.content.scrollHeight>t&&(this.collapsed=this.collapsible=!0)},beforeDestroy:function(){this.isNewLine&&this.$off("toggleCollapse",this.toggleCollapse)},methods:{changeVote:function(t){var e,n=this,r=t.target,i=this.comment.id,a=this.comment.userVote;if(r.closest("[data-action]")){if(!b.a.auth)return v.a.alert("Вы не авторизованы");if(b.a.auth.id===this.comment.user_id)return v.a.alert("Нельзя изменить рейтинг собственного комментария");if(this.isDeleted)return v.a.alert("Нельзя изменить рейтинг удалённого комментария");var s="up"===(e=r.getAttribute("data-action"))?"votes_down":"votes_up";this.comment.userVote===e?(this.comment["votes_".concat(e)]-=1,this.comment.userVote=null):(null!=this.comment.userVote&&(this.comment[s]-=1),this.comment["votes_".concat(e)]+=1,this.comment.userVote=e),this.$AppEmitter.emit(g.a.updated,this.comment),o.a.post("".concat(b.a.info.api,"/vote"),{voteType:e,commentId:i}).catch(function(){null!==n.comment.userVote&&(n.comment["votes_".concat(e)]-=1),a&&(n.comment["votes_".concat(a)]+=1),n.comment.userVote=a})}},toggleForm:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.commentLevel>=30)return this.$toast.alert("Достигнут максимальный уровень вложенности");if(!1===b.a.auth)return v.a.alert("Вы не авторизованы");if(!b.a.auth.access&&e&&!b.a.teamPermission){if(a()(Date.now(),this.comment.created_at)>1)return v.a.alert("Время редактирования истекло (1 день после публикации)");if(this.comment.votes_up>3||this.comment.votes_down>3)return v.a.alert("Нельзя редактировать оцененный комментарий")}b.a.editing=e,b.a.activeItem=this.showForm?null:this.comment,window.innerWidth<1e3&&this.commentLevel>1&&this.$nextTick(function(){var e=t.target.closest(".comment__body");Object(m.e)(e),Object(m.d)(e)})},reportComment:function(){if(!b.a.auth)return this.$toast.alert("Вы не автризованы");this.$dialog.open({component:function(){return{component:new Promise(function(t){n.e(2).then(function(e){t(n("w23O"))}.bind(null,n)).catch(n.oe)})}},props:{sourceId:this.comment.id,type:"comment"}})},deleteComment:function(){var t=this;if(this.showDeleteBtn&&!this.disabled){if(this.hasChilds&&!b.a.auth.access)return v.a.alert("Нельзя удалить комментарий, так как на него уже ответили");var e={commentId:this.comment.id};if(b.a.auth.access){var r=c.a.sanitize(this.comment.comment,{ALLOWED_TAGS:[""],ALLOWED_ATTR:[""],FORBID_TAGS:[],ALLOW_DATA_ATTR:!1});this.$dialog.open({component:function(){return{component:new Promise(function(t){n.e(9).then(function(e){t(n("yvg3"))}.bind(null,n)).catch(n.oe)})}},props:function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){y(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},e,{userId:this.comment.user_id,metadata:{comment:"[Текст комментария] ".concat(r)}})})}else confirm("Удалить комментарий?")&&(this.disabled=!0,this.$AppEmitter.emit(g.a.destroy,e,function(){return t.disabled=!1}))}},toggleCollapse:function(t){var e=t.currentTarget;if(this.show){var n=e.closest(".comment");this.$nextTick(function(){return Object(m.c)(n,{preventScrollIfVisible:!0,skip:!0,highlight:!1})})}this.show=!this.show}}}},hbAh:function(t,e,n){var r=n("bJWQ"),o=n("YDHx"),i=1,a=2;t.exports=function(t,e,n,s){var c=n.length,u=c,l=!s;if(null==t)return!u;for(t=Object(t);c--;){var f=n[c];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++c<u;){var d=(f=n[c])[0],p=t[d],h=f[1];if(l&&f[2]){if(void 0===p&&!(d in t))return!1}else{var v=new r;if(s)var m=s(p,h,d,t,e,v);if(!(void 0===m?o(h,p,i|a,s,v):m))return!1}}return!0}},hcE8:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(e,n("DuR2"))},hffE:function(t,e,n){"use strict";var r=n("whWw"),o=n("1rEs"),i=n("C1ru");t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},hiy0:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},hrPF:function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},hygk:function(t,e,n){var r=n("YDHx");t.exports=function(t,e){return r(t,e)}},i4ON:function(t,e,n){var r=n("nw3t"),o=n("22B7"),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},i6nN:function(t,e){t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},i9tX:function(t,e,n){var r=n("hcE8"),o=n("He3V").f,i=n("asqq"),a=n("+opI"),s=n("C/Wh"),c=n("PYrI"),u=n("hGaF");t.exports=function(t,e){var n,l,f,d,p,h=t.target,v=t.global,m=t.stat;if(n=v?r:m?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in e){if(d=e[l],f=t.noTargetGet?(p=o(n,l))&&p.value:n[l],!u(v?l:h+(m?".":"#")+l,t.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(t.sham||f&&f.sham)&&i(d,"sham",!0),a(n,l,d,t)}}},iL3P:function(t,e,n){var r=n("eG8/"),o=n("3Did"),i=n("hIPy"),a=n("Ubhr");t.exports=function(t){return i(t)?r(a(t)):o(t)}},iLhm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("BUAs"),a=n.n(i),s=n("I3G/"),c=n.n(s),u=n("+nGo"),l=n.n(u),f=n("M0Fu"),d=n("Jaym"),p=n("nctS"),h=n("OLx3"),v=n("vrSs");function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var b={rootComments:[],replies:{}},y=Object(d.g)().page;e.default=c.a.extend({mixins:[f.a],data:function(){return{chapterPage:y||1,slicePage:1,sliceLimit:18,totalSlicesCount:0,partialsShown:!1}},computed:{hasNextSlice:function(){return this.slicePage<this.totalSlicesCount},page:function(){return h.a.page}},watch:{page:function(t,e){t!==e&&this.pageChanged()}},created:function(){var t,e=(t=o.a.mark(function t(){var e,n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$AppEmitter.on(p.a.deleted,this._commentDeleted),this.$AppEmitter.on(p.a.updated,this._commentUpdated),this.$AppEmitter.on(p.a.added,this._commentAdded),this.$AppEmitter.on("comments.removeCommentsByPage",this.removeCommentsByPage),t.next=6,this.fetchComments();case 6:e=t.sent,n=e.comments,r=e.replies,b.rootComments=this.sortComments(n),b.replies=Object(d.i)(r,"page_id"),this.setState();case 12:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){g(i,r,o,a,s,"next",t)}function s(t){g(i,r,o,a,s,"throw",t)}a(void 0)})});return function(){return e.apply(this,arguments)}}(),methods:{pageChanged:function(){this.slicePage=1,this.sliceLimit=18,this.partialsShown&&(this.showPartialComments=!1),this.loading||this.showPartialComments||(h.a.replies={},h.a.comments=[]),this.setState();var t=this.$refs.comments.$el.querySelector(".comments");t&&t.scrollHeight>t.offsetHeight&&this.$nextTick(function(){return t.scrollTop=0})},showNextSlice:function(){this.slicePage+=1,this.setState()},showAllComments:function(){this.showPartialComments=!1,this.slicePage=1,this.sliceLimit=18,h.a.comments=[],this.setState()},setState:function(){this.loading||(this.showPartialComments&&(this.partialsShown=!0,this.getPartialComments()),h.a.comments=h.a.comments.concat(this.getComments()),h.a.replies=this.getReplies(),this.$nextTick(this.jumpToComment))},getComments:function(){var t=b.rootComments.filter(this._filterByPage);if(!t)return[];this.totalSlicesCount=this.getTotalSlicesCount(t.length);var e=(this.slicePage-1)*this.sliceLimit,n=this.slicePage*this.sliceLimit;return t.slice(e,n).map(this.mapCommentItem)},getReplies:function(){var t=b.replies[h.a.page];return t?Object(d.i)(t.map(this.mapCommentItem),"parent_comment"):{}},getTotalSlicesCount:function(t){return t?Math.ceil(t/this.sliceLimit):0},mapCommentItem:function(t){var e={created_at:l()(t.created_at)};return this._userVotes[t.id]&&(e.userVote=this._userVotes[t.id]),a()({},t,e)},sortChanged:function(){this.slicePage=1,this.sliceLimit=18,this.showPartialComments=!1,h.a.comments=[],b.rootComments=this.sortComments(b.rootComments),this.setState()},sortComments:function(t){var e=Date.now(),n=function(t){return new Date(t.created_at).getTime()},r="desc";return"best"===this.currentOrder&&(n=function(t){return t.votes_up-t.votes_down}),"oldest"===this.currentOrder&&(r="asc"),Object(d.q)(t,r,function(t){return t.deleted>0?"asc"===r?e:-e:n(t)})},getPartialComments:function(){var t=b.replies[h.a.page],e=b.rootComments.filter(this._filterByPage),n=e.concat(t||[]),r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return function(n){return n[e]===t}},o=Object(d.d)(n,r(this.targetCommentId)),i=o;if(!o)return this.showPartialComments=!1;if(o.parent_comment){for(var a,s=Object(d.s)(t,"id","parent_comment"),c=o.parent_comment;void 0===a;)c in s?c=s[c]:a=c;i=Object(d.d)(e,r(a))}var u=Object(d.e)(e,r(i.id));this.sliceLimit=7,this.slicePage=Math.ceil(u/this.sliceLimit),u%this.sliceLimit==0&&(this.slicePage+=1)},removeCommentsByPage:function(t){b.rootComments=b.rootComments.filter(function(e){return e.page_id!==t}),h.a.comments=[]},_commentUpdated:function(t){if(!h.a.sticky||h.a.sticky.id!==t.id){var e=this._getTargetToChangeCache(null!=t.parent_comment),n=Object(d.d)(e,this._findCommentById(t.id));for(var r in t)n[r]=t[r]}},_commentDeleted:function(t){var e=t.parentComment,n=t.commentId,r=t.forceDelete,o=t.reasonText,i=this._getTargetToChangeCache(null!=e);if(i){var a=Object(d.e)(i,this._findCommentById(n));a>=0&&(r?i.splice(a,1):o&&(i[a].comment=o))}},_commentAdded:function(t){this._getTargetToChangeCache(null!=t.parent_comment).unshift(function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){m(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},t))},_findCommentById:function(t){return function(e){return e.id===t}},_getTargetToChangeCache:function(t){return t?(b.replies[h.a.page]||(b.replies[h.a.page]=[]),b.replies[h.a.page]):b.rootComments},_filterByPage:function(t){return v.i.isRanobe?t.page_id===h.a.page||null==t.page_id:t.page_id===h.a.page}}})},iMIp:function(t,e,n){var r=n("o2mx"),o=n("Wh6c"),i=n("UNUE"),a=n("IttV"),s=n("0ghZ"),c=n("ZT2e"),u=/^\s+|\s+$/g;t.exports=function(t,e,n){if((t=c(t))&&(n||void 0===e))return t.replace(u,"");if(!t||!(e=r(e)))return t;var l=s(t),f=s(e),d=a(l,f),p=i(l,f)+1;return o(l,d,p).join("")}},iRXW:function(t,e,n){var r=n("zZbG"),o=n("3znZ");t.exports=function(t){var e=r(t),n=new Date(0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),o(n)}},iSNJ:function(t,e,n){"use strict";function r(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function o(t){if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e?e.defaultView:window}return t}function i(t){var e=o(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function a(t){return t instanceof o(t).Element||t instanceof Element}function s(t){return t instanceof o(t).HTMLElement||t instanceof HTMLElement}function c(t){return t?(t.nodeName||"").toLowerCase():null}function u(t){return(a(t)?t.ownerDocument:t.document).documentElement}function l(t){return r(u(t)).left+i(t).scrollLeft}function f(t){return o(t).getComputedStyle(t)}function d(t){var e=f(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function p(t,e,n){void 0===n&&(n=!1);var a,f,p=u(e),h=r(t),v={scrollLeft:0,scrollTop:0},m={x:0,y:0};return n||(("body"!==c(e)||d(p))&&(v=(a=e)!==o(a)&&s(a)?{scrollLeft:(f=a).scrollLeft,scrollTop:f.scrollTop}:i(a)),s(e)?((m=r(e)).x+=e.clientLeft,m.y+=e.clientTop):p&&(m.x=l(p))),{x:h.left+v.scrollLeft-m.x,y:h.top+v.scrollTop-m.y,width:h.width,height:h.height}}function h(t){return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}function v(t){return"html"===c(t)?t:t.assignedSlot||t.parentNode||t.host||u(t)}function m(t,e){void 0===e&&(e=[]);var n=function t(e){return["html","body","#document"].indexOf(c(e))>=0?e.ownerDocument.body:s(e)&&d(e)?e:t(v(e))}(t),r="body"===c(n),i=o(n),a=r?[i].concat(i.visualViewport||[],d(n)?n:[]):n,u=e.concat(a);return r?u:u.concat(m(v(a)))}function g(t){return["table","td","th"].indexOf(c(t))>=0}function b(t){return s(t)&&"fixed"!==f(t).position?t.offsetParent:null}function y(t){for(var e=o(t),n=b(t);n&&g(n);)n=b(n);return n&&"body"===c(n)&&"static"===f(n).position?e:n||e}var _="top",O="bottom",w="right",x="left",k="auto",j=[_,O,w,x],C="start",E="end",P="clippingParents",S="viewport",A="popper",T="reference",N=j.reduce(function(t,e){return t.concat([e+"-"+C,e+"-"+E])},[]),L=[].concat(j,[k]).reduce(function(t,e){return t.concat([e,e+"-"+C,e+"-"+E])},[]),M=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function I(t){var e=new Map,n=new Set,r=[];return t.forEach(function(t){e.set(t.name,t)}),t.forEach(function(t){n.has(t.name)||function t(o){n.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(r){if(!n.has(r)){var o=e.get(r);o&&t(o)}}),r.push(o)}(t)}),r}function D(t){return t.split("-")[0]}var q={placement:"bottom",modifiers:[],strategy:"absolute"};function R(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function B(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,o=e.defaultOptions,i=void 0===o?q:o;return function(t,e,n){void 0===n&&(n=i);var o,s,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},q,{},i),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},u=[],l=!1,f={state:c,setOptions:function(n){d(),c.options=Object.assign({},i,{},c.options,{},n),c.scrollParents={reference:a(t)?m(t):t.contextElement?m(t.contextElement):[],popper:m(e)};var o=function(t){var e=I(t);return M.reduce(function(t,n){return t.concat(e.filter(function(t){return t.phase===n}))},[])}(function(t){var e=t.reduce(function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,{},e,{options:Object.assign({},n.options,{},e.options),data:Object.assign({},n.data,{},e.data)}):e,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,c.options.modifiers)));return c.orderedModifiers=o.filter(function(t){return t.enabled}),c.orderedModifiers.forEach(function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"==typeof o){var i=o({state:c,name:e,instance:f,options:r});u.push(i||function(){})}}),f.update()},forceUpdate:function(){if(!l){var t=c.elements,e=t.reference,n=t.popper;if(R(e,n)){c.rects={reference:p(e,y(n),"fixed"===c.options.strategy),popper:h(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(t){return c.modifiersData[t.name]=Object.assign({},t.data)});for(var r=0;r<c.orderedModifiers.length;r++)if(!0!==c.reset){var o=c.orderedModifiers[r],i=o.fn,a=o.options,s=void 0===a?{}:a,u=o.name;"function"==typeof i&&(c=i({state:c,options:s,name:u,instance:f})||c)}else c.reset=!1,r=-1}}},update:(o=function(){return new Promise(function(t){f.forceUpdate(),t(c)})},function(){return s||(s=new Promise(function(t){Promise.resolve().then(function(){s=void 0,t(o())})})),s}),destroy:function(){d(),l=!0}};if(!R(t,e))return f;function d(){u.forEach(function(t){return t()}),u=[]}return f.setOptions(n).then(function(t){!l&&n.onFirstUpdate&&n.onFirstUpdate(t)}),f}}var F={passive:!0};function H(t){return t.split("-")[1]}function U(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function z(t){var e,n=t.reference,r=t.element,o=t.placement,i=o?D(o):null,a=o?H(o):null,s=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(i){case _:e={x:s,y:n.y-r.height};break;case O:e={x:s,y:n.y+n.height};break;case w:e={x:n.x+n.width,y:c};break;case x:e={x:n.x-r.width,y:c};break;default:e={x:n.x,y:n.y}}var u=i?U(i):null;if(null!=u){var l="y"===u?"height":"width";switch(a){case C:e[u]=Math.floor(e[u])-Math.floor(n[l]/2-r[l]/2);break;case E:e[u]=Math.floor(e[u])+Math.ceil(n[l]/2-r[l]/2)}}return e}var W={top:"auto",right:"auto",bottom:"auto",left:"auto"};function V(t){var e,n=t.popper,r=t.popperRect,i=t.placement,a=t.offsets,s=t.position,c=t.gpuAcceleration,l=t.adaptive,f=function(t){var e=t.x,n=t.y,r=window.devicePixelRatio||1;return{x:Math.round(e*r)/r||0,y:Math.round(n*r)/r||0}}(a),d=f.x,p=f.y,h=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),m=x,g=_,b=window;if(l){var k=y(n);k===o(n)&&(k=u(n)),i===_&&(g=O,p-=k.clientHeight-r.height,p*=c?1:-1),i===x&&(m=w,d-=k.clientWidth-r.width,d*=c?1:-1)}var j,C=Object.assign({position:s},l&&W);return c?Object.assign({},C,((j={})[g]=v?"0":"",j[m]=h?"0":"",j.transform=(b.devicePixelRatio||1)<2?"translate("+d+"px, "+p+"px)":"translate3d("+d+"px, "+p+"px, 0)",j)):Object.assign({},C,((e={})[g]=v?p+"px":"",e[m]=h?d+"px":"",e.transform="",e))}var G={left:"right",right:"left",bottom:"top",top:"bottom"};function $(t){return t.replace(/left|right|bottom|top/g,function(t){return G[t]})}var Y={start:"end",end:"start"};function K(t){return t.replace(/start|end/g,function(t){return Y[t]})}function Z(t){return parseFloat(t)||0}function Q(t){var e=o(t),n=function(t){var e=s(t)?f(t):{};return{top:Z(e.borderTopWidth),right:Z(e.borderRightWidth),bottom:Z(e.borderBottomWidth),left:Z(e.borderLeftWidth)}}(t),r="html"===c(t),i=l(t),a=t.clientWidth+n.right,u=t.clientHeight+n.bottom;return r&&e.innerHeight-t.clientHeight>50&&(u=e.innerHeight-n.bottom),{top:r?0:t.clientTop,right:t.clientLeft>n.left?n.right:r?e.innerWidth-a-i:t.offsetWidth-a,bottom:r?e.innerHeight-u:t.offsetHeight-u,left:r?i:t.clientLeft}}function J(t,e){var n=Boolean(e.getRootNode&&e.getRootNode().host);if(t.contains(e))return!0;if(n){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function X(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function tt(t,e){return e===S?X(function(t){var e=o(t),n=e.visualViewport,r=e.innerWidth,i=e.innerHeight;return n&&/iPhone|iPod|iPad/.test(navigator.platform)&&(r=n.width,i=n.height),{width:r,height:i,x:0,y:0}}(t)):s(e)?r(e):X(function(t){var e=o(t),n=i(t),r=p(u(t),e);return r.height=Math.max(r.height,e.innerHeight),r.width=Math.max(r.width,e.innerWidth),r.x=-n.scrollLeft,r.y=-n.scrollTop,r}(u(t)))}function et(t,e,n){var r="clippingParents"===e?function(t){var e=m(t),n=["absolute","fixed"].indexOf(f(t).position)>=0&&s(t)?y(t):t;return a(n)?e.filter(function(t){return a(t)&&J(t,n)}):[]}(t):[].concat(e),o=[].concat(r,[n]),i=o[0],c=o.reduce(function(e,n){var r=tt(t,n),o=Q(s(n)?n:u(t));return e.top=Math.max(r.top+o.top,e.top),e.right=Math.min(r.right-o.right,e.right),e.bottom=Math.min(r.bottom-o.bottom,e.bottom),e.left=Math.max(r.left+o.left,e.left),e},tt(t,i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function nt(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},{},t)}function rt(t,e){return e.reduce(function(e,n){return e[n]=t,e},{})}function ot(t,e){void 0===e&&(e={});var n=e,o=n.placement,i=void 0===o?t.placement:o,s=n.boundary,c=void 0===s?P:s,l=n.rootBoundary,f=void 0===l?S:l,d=n.elementContext,p=void 0===d?A:d,h=n.altBoundary,v=void 0!==h&&h,m=n.padding,g=void 0===m?0:m,b=nt("number"!=typeof g?g:rt(g,j)),y=p===A?T:A,x=t.elements.reference,k=t.rects.popper,C=t.elements[v?y:p],E=et(a(C)?C:C.contextElement||u(t.elements.popper),c,f),N=r(x),L=z({reference:N,element:k,strategy:"absolute",placement:i}),M=X(Object.assign({},k,{},L)),I=p===A?M:N,D={top:E.top-I.top+b.top,bottom:I.bottom-E.bottom+b.bottom,left:E.left-I.left+b.left,right:I.right-E.right+b.right},q=t.modifiersData.offset;if(p===A&&q){var R=q[i];Object.keys(D).forEach(function(t){var e=[w,O].indexOf(t)>=0?1:-1,n=[_,O].indexOf(t)>=0?"y":"x";D[t]+=R[n]*e})}return D}function it(t,e,n){return Math.max(t,Math.min(e,n))}function at(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function st(t){return[_,w,O,x].some(function(e){return t[e]>=0})}var ct=B({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,a=void 0===i||i,s=r.resize,c=void 0===s||s,u=o(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&l.forEach(function(t){t.addEventListener("scroll",n.update,F)}),c&&u.addEventListener("resize",n.update,F),function(){a&&l.forEach(function(t){t.removeEventListener("scroll",n.update,F)}),c&&u.removeEventListener("resize",n.update,F)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=z({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s={placement:D(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,{},V(Object.assign({},s,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,{},V(Object.assign({},s,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];s(o)&&c(o)&&(Object.assign(o.style,n),Object.keys(r).forEach(function(t){var e=r[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(t){var r=e.elements[t],o=e.attributes[t]||{},i=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce(function(t,e){return t[e]="",t},{});s(r)&&c(r)&&(Object.assign(r.style,i),Object.keys(o).forEach(function(t){r.removeAttribute(t)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.offset,i=void 0===o?[0,0]:o,a=L.reduce(function(t,n){return t[n]=function(t,e,n){var r=D(t),o=[x,_].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},e,{placement:t})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[x,w].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,e.rects,i),t},{}),s=a[e.placement],c=s.x,u=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,u=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,h=void 0===p||p,v=n.allowedAutoPlacements,m=e.options.placement,g=D(m),b=c||(g!==m&&h?function(t){if(D(t)===k)return[];var e=$(t);return[K(t),e,K(e)]}(m):[$(m)]),y=[m].concat(b).reduce(function(t,n){return t.concat(D(n)===k?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?L:c,l=H(r),f=(l?s?N:N.filter(function(t){return H(t)===l}):j).filter(function(t){return u.indexOf(t)>=0}).reduce(function(e,n){return e[n]=ot(t,{placement:n,boundary:o,rootBoundary:i,padding:a})[D(n)],e},{});return Object.keys(f).sort(function(t,e){return f[t]-f[e]})}(e,{placement:n,boundary:l,rootBoundary:f,padding:u,flipVariations:h,allowedAutoPlacements:v}):n)},[]),E=e.rects.reference,P=e.rects.popper,S=new Map,A=!0,T=y[0],M=0;M<y.length;M++){var I=y[M],q=D(I),R=H(I)===C,B=[_,O].indexOf(q)>=0,F=B?"width":"height",U=ot(e,{placement:I,boundary:l,rootBoundary:f,altBoundary:d,padding:u}),z=B?R?w:x:R?O:_;E[F]>P[F]&&(z=$(z));var W=$(z),V=[];if(i&&V.push(U[q]<=0),s&&V.push(U[z]<=0,U[W]<=0),V.every(function(t){return t})){T=I,A=!1;break}S.set(I,V)}if(A)for(var G=function(t){var e=y.find(function(e){var n=S.get(e);if(n)return n.slice(0,t).every(function(t){return t})});if(e)return T=e,"break"},Y=h?3:1;Y>0&&"break"!==G(Y);Y--);e.placement!==T&&(e.modifiersData[r]._skip=!0,e.placement=T,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,u=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,p=void 0===d||d,v=n.tetherOffset,m=void 0===v?0:v,g=ot(e,{boundary:c,rootBoundary:u,padding:f,altBoundary:l}),b=D(e.placement),k=H(e.placement),j=!k,E=U(b),P="x"===E?"y":"x",S=e.modifiersData.popperOffsets,A=e.rects.reference,T=e.rects.popper,N="function"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,L={x:0,y:0};if(S){if(i){var M="y"===E?_:x,I="y"===E?O:w,q="y"===E?"height":"width",R=S[E],B=S[E]+g[M],F=S[E]-g[I],z=p?-T[q]/2:0,W=k===C?A[q]:T[q],V=k===C?-T[q]:-A[q],G=e.elements.arrow,$=p&&G?h(G):{width:0,height:0},Y=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},K=Y[M],Z=Y[I],Q=it(0,A[q],$[q]),J=j?A[q]/2-z-Q-K-N:W-Q-K-N,X=j?-A[q]/2+z+Q+Z+N:V+Q+Z+N,tt=e.elements.arrow&&y(e.elements.arrow),et=tt?"y"===E?tt.clientTop||0:tt.clientLeft||0:0,nt=e.modifiersData.offset?e.modifiersData.offset[e.placement][E]:0,rt=S[E]+J-nt-et,at=S[E]+X-nt,st=it(p?Math.min(B,rt):B,R,p?Math.max(F,at):F);S[E]=st,L[E]=st-R}if(s){var ct="x"===E?_:x,ut="x"===E?O:w,lt=S[P],ft=it(lt+g[ct],lt,lt-g[ut]);S[P]=ft,L[P]=ft-lt}e.modifiersData[r]=L}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,o=n.elements.arrow,i=n.modifiersData.popperOffsets,a=D(n.placement),s=U(a),c=[x,w].indexOf(a)>=0?"height":"width";if(o&&i){var u=n.modifiersData[r+"#persistent"].padding,l=h(o),f="y"===s?_:x,d="y"===s?O:w,p=n.rects.reference[c]+n.rects.reference[s]-i[s]-n.rects.popper[c],v=i[s]-n.rects.reference[s],m=y(o),g=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,b=p/2-v/2,k=u[f],j=g-l[c]-u[d],C=g/2-l[c]/2+b,E=it(k,C,j),P=s;n.modifiersData[r]=((e={})[P]=E,e.centerOffset=E-C,e)}},effect:function(t){var e=t.state,n=t.options,r=t.name,o=n.element,i=void 0===o?"[data-popper-arrow]":o,a=n.padding,s=void 0===a?0:a;null!=i&&("string"!=typeof i||(i=e.elements.popper.querySelector(i)))&&J(e.elements.popper,i)&&(e.elements.arrow=i,e.modifiersData[r+"#persistent"]={padding:nt("number"!=typeof s?s:rt(s,j))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,a=ot(e,{elementContext:"reference"}),s=ot(e,{altBoundary:!0}),c=at(a,r),u=at(s,o,i),l=st(c),f=st(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}]});n.d(e,"b",function(){return oe}),n.d(e,"c",function(){return ne});var ut="tippy-box",lt="tippy-content",ft="tippy-backdrop",dt="tippy-arrow",pt="tippy-svg-arrow",ht={passive:!0,capture:!0};function vt(t,e,n){if(Array.isArray(t)){var r=t[e];return null==r?Array.isArray(n)?n[e]:n:r}return t}function mt(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function gt(t,e){return"function"==typeof t?t.apply(void 0,e):t}function bt(t,e){return 0===e?t:function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)};var n}function yt(t,e){var n=Object.assign({},t);return e.forEach(function(t){delete n[t]}),n}function _t(t){return[].concat(t)}function Ot(t,e){-1===t.indexOf(e)&&t.push(e)}function wt(t){return t.split("-")[0]}function xt(t){return[].slice.call(t)}function kt(){return document.createElement("div")}function jt(t){return["Element","Fragment"].some(function(e){return mt(t,e)})}function Ct(t){return mt(t,"MouseEvent")}function Et(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function Pt(t){return jt(t)?[t]:function(t){return mt(t,"NodeList")}(t)?xt(t):Array.isArray(t)?t:xt(document.querySelectorAll(t))}function St(t,e){t.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function At(t,e){t.forEach(function(t){t&&t.setAttribute("data-state",e)})}function Tt(t){var e=_t(t)[0];return e&&e.ownerDocument||document}function Nt(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(e){t[r](e,n)})}var Lt={isTouch:!1},Mt=0;function It(){Lt.isTouch||(Lt.isTouch=!0,window.performance&&document.addEventListener("mousemove",Dt))}function Dt(){var t=performance.now();t-Mt<20&&(Lt.isTouch=!1,document.removeEventListener("mousemove",Dt)),Mt=t}function qt(){var t=document.activeElement;if(Et(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var Rt="undefined"!=typeof window&&"undefined"!=typeof document?navigator.userAgent:"",Bt=/MSIE |Trident\//.test(Rt);var Ft={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ht=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ft,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Ut=Object.keys(Ht);function zt(t){var e=(t.plugins||[]).reduce(function(e,n){var r=n.name,o=n.defaultValue;return r&&(e[r]=void 0!==t[r]?t[r]:o),e},{});return Object.assign({},t,{},e)}function Wt(t,e){var n=Object.assign({},e,{content:gt(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(zt(Object.assign({},Ht,{plugins:e}))):Ut).reduce(function(e,n){var r=(t.getAttribute("data-tippy-"+n)||"").trim();if(!r)return e;if("content"===n)e[n]=r;else try{e[n]=JSON.parse(r)}catch(t){e[n]=r}return e},{})}(t,e.plugins));return n.aria=Object.assign({},Ht.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}var Vt=function(){return"innerHTML"};function Gt(t,e){t[Vt()]=e}function $t(t){var e=kt();return!0===t?e.className=dt:(e.className=pt,jt(t)?e.appendChild(t):Gt(e,t)),e}function Yt(t,e){jt(e.content)?(Gt(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?Gt(t,e.content):t.textContent=e.content)}function Kt(t){var e=t.firstElementChild,n=xt(e.children);return{box:e,content:n.find(function(t){return t.classList.contains(lt)}),arrow:n.find(function(t){return t.classList.contains(dt)||t.classList.contains(pt)}),backdrop:n.find(function(t){return t.classList.contains(ft)})}}function Zt(t){var e=kt(),n=kt();n.className=ut,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=kt();function o(n,r){var o=Kt(e),i=o.box,a=o.content,s=o.arrow;r.theme?i.setAttribute("data-theme",r.theme):i.removeAttribute("data-theme"),"string"==typeof r.animation?i.setAttribute("data-animation",r.animation):i.removeAttribute("data-animation"),r.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?i.setAttribute("role",r.role):i.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||Yt(a,t.props),r.arrow?s?n.arrow!==r.arrow&&(i.removeChild(s),i.appendChild($t(r.arrow))):i.appendChild($t(r.arrow)):s&&i.removeChild(s)}return r.className=lt,r.setAttribute("data-state","hidden"),Yt(r,t.props),e.appendChild(n),n.appendChild(r),o(t.props,t.props),{popper:e,onUpdate:o}}Zt.$$tippy=!0;var Qt=1,Jt=[],Xt=[];function te(t,e){var n,r,o,i,a,s,c,u,l=Wt(t,Object.assign({},Ht,{},zt(e))),f=!1,d=!1,p=!1,h=!1,v=[],m=bt($,l.interactiveDebounce),g=Tt(l.triggerTarget||t),b=Qt++,y=(u=l.plugins).filter(function(t,e){return u.indexOf(t)===e}),_={id:b,reference:t,popper:kt(),popperInstance:null,props:l,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(o)},setProps:function(e){0;if(_.state.isDestroyed)return;L("onBeforeUpdate",[_,e]),V();var n=_.props,r=Wt(t,Object.assign({},_.props,{},e,{ignoreAttributes:!0}));_.props=r,W(),n.interactiveDebounce!==r.interactiveDebounce&&(D(),m=bt($,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?_t(n.triggerTarget).forEach(function(t){t.removeAttribute("aria-expanded")}):r.triggerTarget&&t.removeAttribute("aria-expanded");I(),N(),x&&x(n,r);_.popperInstance&&(Q(),X().forEach(function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)}));L("onAfterUpdate",[_,e])},setContent:function(t){_.setProps({content:t})},show:function(){0;var t=_.state.isVisible,e=_.state.isDestroyed,n=!_.state.isEnabled,r=Lt.isTouch&&!_.props.touch,o=vt(_.props.duration,0,Ht.duration);if(t||e||n||r)return;if(S().hasAttribute("disabled"))return;if(L("onShow",[_],!1),!1===_.props.onShow(_))return;_.state.isVisible=!0,P()&&(w.style.visibility="visible");N(),F(),_.state.isMounted||(w.style.transition="none");if(P()){var i=A(),a=i.box,c=i.content;St([a,c],0)}s=function(){if(_.state.isVisible&&!h){if(h=!0,w.offsetHeight,w.style.transition=_.props.moveTransition,P()&&_.props.animation){var t=A(),e=t.box,n=t.content;St([e,n],o),At([e,n],"visible")}M(),I(),Ot(Xt,_),_.state.isMounted=!0,L("onMount",[_]),_.props.animation&&P()&&function(t,e){U(t,e)}(o,function(){_.state.isShown=!0,L("onShown",[_])})}},function(){var t,e=_.props.appendTo,n=S();t=_.props.interactive&&e===Ht.appendTo||"parent"===e?n.parentNode:gt(e,[n]);t.contains(w)||t.appendChild(w);Q(),0}()},hide:function(){0;var t=!_.state.isVisible,e=_.state.isDestroyed,n=!_.state.isEnabled,r=vt(_.props.duration,1,Ht.duration);if(t||e||n)return;if(L("onHide",[_],!1),!1===_.props.onHide(_))return;_.state.isVisible=!1,_.state.isShown=!1,h=!1,P()&&(w.style.visibility="hidden");if(D(),H(),N(),P()){var o=A(),i=o.box,a=o.content;_.props.animation&&(St([i,a],r),At([i,a],"hidden"))}M(),I(),_.props.animation?P()&&function(t,e){U(t,function(){!_.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&e()})}(r,_.unmount):_.unmount()},hideWithInteractivity:function(t){0;g.body.addEventListener("mouseleave",et),g.addEventListener("mousemove",m),Ot(Jt,m),m(t)},enable:function(){_.state.isEnabled=!0},disable:function(){_.hide(),_.state.isEnabled=!1},unmount:function(){0;_.state.isVisible&&_.hide();if(!_.state.isMounted)return;J(),X().forEach(function(t){t._tippy.unmount()}),w.parentNode&&w.parentNode.removeChild(w);Xt=Xt.filter(function(t){return t!==_}),_.state.isMounted=!1,L("onHidden",[_])},destroy:function(){0;if(_.state.isDestroyed)return;_.clearDelayTimeouts(),_.unmount(),V(),delete t._tippy,_.state.isDestroyed=!0,L("onDestroy",[_])}};if(!l.render)return _;var O=l.render(_),w=O.popper,x=O.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+_.id,_.popper=w,t._tippy=_,w._tippy=_;var k=y.map(function(t){return t.fn(_)}),j=t.hasAttribute("aria-expanded");return W(),I(),N(),L("onCreate",[_]),l.showOnCreate&&tt(),w.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),w.addEventListener("mouseleave",function(t){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&(g.addEventListener("mousemove",m),m(t))}),_;function C(){var t=_.props.touch;return Array.isArray(t)?t:[t,0]}function E(){return"hold"===C()[0]}function P(){var t;return!!(null==(t=_.props.render)?void 0:t.$$tippy)}function S(){return c||t}function A(){return Kt(w)}function T(t){return _.state.isMounted&&!_.state.isVisible||Lt.isTouch||i&&"focus"===i.type?0:vt(_.props.delay,t?0:1,Ht.delay)}function N(){w.style.pointerEvents=_.props.interactive&&_.state.isVisible?"":"none",w.style.zIndex=""+_.props.zIndex}function L(t,e,n){var r;(void 0===n&&(n=!0),k.forEach(function(n){n[t]&&n[t].apply(void 0,e)}),n)&&(r=_.props)[t].apply(r,e)}function M(){var e=_.props.aria;if(e.content){var n="aria-"+e.content,r=w.id;_t(_.props.triggerTarget||t).forEach(function(t){var e=t.getAttribute(n);if(_.state.isVisible)t.setAttribute(n,e?e+" "+r:r);else{var o=e&&e.replace(r,"").trim();o?t.setAttribute(n,o):t.removeAttribute(n)}})}}function I(){!j&&_.props.aria.expanded&&_t(_.props.triggerTarget||t).forEach(function(t){_.props.interactive?t.setAttribute("aria-expanded",_.state.isVisible&&t===S()?"true":"false"):t.removeAttribute("aria-expanded")})}function D(){g.body.removeEventListener("mouseleave",et),g.removeEventListener("mousemove",m),Jt=Jt.filter(function(t){return t!==m})}function q(t){if(!(Lt.isTouch&&(p||"mousedown"===t.type)||_.props.interactive&&w.contains(t.target))){if(S().contains(t.target)){if(Lt.isTouch)return;if(_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[_,t]);!0===_.props.hideOnClick&&(f=!1,_.clearDelayTimeouts(),_.hide(),d=!0,setTimeout(function(){d=!1}),_.state.isMounted||H())}}function R(){p=!0}function B(){p=!1}function F(){g.addEventListener("mousedown",q,!0),g.addEventListener("touchend",q,ht),g.addEventListener("touchstart",B,ht),g.addEventListener("touchmove",R,ht)}function H(){g.removeEventListener("mousedown",q,!0),g.removeEventListener("touchend",q,ht),g.removeEventListener("touchstart",B,ht),g.removeEventListener("touchmove",R,ht)}function U(t,e){var n=A().box;function r(t){t.target===n&&(Nt(n,"remove",r),e())}if(0===t)return e();Nt(n,"remove",a),Nt(n,"add",r),a=r}function z(e,n,r){void 0===r&&(r=!1),_t(_.props.triggerTarget||t).forEach(function(t){t.addEventListener(e,n,r),v.push({node:t,eventType:e,handler:n,options:r})})}function W(){var t;E()&&(z("touchstart",G,{passive:!0}),z("touchend",Y,{passive:!0})),(t=_.props.trigger,t.split(/\s+/).filter(Boolean)).forEach(function(t){if("manual"!==t)switch(z(t,G),t){case"mouseenter":z("mouseleave",Y);break;case"focus":z(Bt?"focusout":"blur",K);break;case"focusin":z("focusout",K)}})}function V(){v.forEach(function(t){var e=t.node,n=t.eventType,r=t.handler,o=t.options;e.removeEventListener(n,r,o)}),v=[]}function G(t){var e,n=!1;if(_.state.isEnabled&&!Z(t)&&!d){var r="focus"===(null==(e=i)?void 0:e.type);i=t,c=t.currentTarget,I(),!_.state.isVisible&&Ct(t)&&Jt.forEach(function(e){return e(t)}),"click"===t.type&&(_.props.trigger.indexOf("mouseenter")<0||f)&&!1!==_.props.hideOnClick&&_.state.isVisible?n=!0:tt(t),"click"===t.type&&(f=!n),n&&!r&&et(t)}}function $(e){var n=e.target,r=t.contains(n)||w.contains(n);"mousemove"===e.type&&r||function(t,e){var n=e.clientX,r=e.clientY;return t.every(function(t){var e=t.popperRect,o=t.popperState,i=t.props.interactiveBorder,a=wt(o.placement),s=o.modifiersData.offset;if(!s)return!0;var c="bottom"===a?s.top.y:0,u="top"===a?s.bottom.y:0,l="right"===a?s.left.x:0,f="left"===a?s.right.x:0,d=e.top-r+c>i,p=r-e.bottom-u>i,h=e.left-n+l>i,v=n-e.right-f>i;return d||p||h||v})}(X().concat(w).map(function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:l}:null}).filter(Boolean),e)&&(D(),et(e))}function Y(t){Z(t)||_.props.trigger.indexOf("click")>=0&&f||(_.props.interactive?_.hideWithInteractivity(t):et(t))}function K(t){_.props.trigger.indexOf("focusin")<0&&t.target!==S()||_.props.interactive&&t.relatedTarget&&w.contains(t.relatedTarget)||et(t)}function Z(t){return!!Lt.isTouch&&E()!==t.type.indexOf("touch")>=0}function Q(){J();var e=_.props,n=e.popperOptions,r=e.placement,o=e.offset,i=e.getReferenceClientRect,a=e.moveTransition,c=P()?Kt(w).arrow:null,u=i?{getBoundingClientRect:i,contextElement:i.contextElement||S()}:t,l=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(P()){var n=A().box;["placement","reference-hidden","escaped"].forEach(function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)}),e.attributes.popper={}}}}];P()&&c&&l.push({name:"arrow",options:{element:c,padding:3}}),l.push.apply(l,(null==n?void 0:n.modifiers)||[]),_.popperInstance=ct(u,w,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:l}))}function J(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function X(){return xt(w.querySelectorAll("[data-tippy-root]"))}function tt(t){_.clearDelayTimeouts(),t&&L("onTrigger",[_,t]),F();var e=T(!0),r=C(),o=r[0],i=r[1];Lt.isTouch&&"hold"===o&&i&&(e=i),e?n=setTimeout(function(){_.show()},e):_.show()}function et(t){if(_.clearDelayTimeouts(),L("onUntrigger",[_,t]),_.state.isVisible){if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&f)){var e=T(!1);e?r=setTimeout(function(){_.state.isVisible&&_.hide()},e):o=requestAnimationFrame(function(){_.hide()})}}else H()}}function ee(t,e){void 0===e&&(e={});var n=Ht.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",It,ht),window.addEventListener("blur",qt);var r=Object.assign({},e,{plugins:n}),o=Pt(t),i=o.reduce(function(t,e){var n=e&&te(e,r);return n&&t.push(n),t},[]);return jt(t)?i[0]:i}ee.defaultProps=Ht,ee.setDefaultProps=function(t){Object.keys(t).forEach(function(e){Ht[e]=t[e]})},ee.currentInput=Lt;var ne=function(t){var e=void 0===t?{}:t,n=e.exclude,r=e.duration;Xt.forEach(function(t){var e=!1;if(n&&(e=Et(n)?t.reference===n:t.popper===n.popper),!e){var o=t.props.duration;t.setProps({duration:r}),t.hide(),t.state.isDestroyed||t.setProps({duration:o})}})},re={mouseover:"mouseenter",focusin:"focus",click:"click"};function oe(t,e){var n=[],r=[],o=e.target,i=yt(e,["target"]),a=Object.assign({},i,{trigger:"manual",touch:!1}),s=Object.assign({},i,{showOnCreate:!0}),c=ee(t,a);function u(t){if(t.target){var n=t.target.closest(o);if(n){var i=n.getAttribute("data-tippy-trigger")||e.trigger||Ht.trigger;if(!n._tippy&&!("touchstart"===t.type&&"boolean"==typeof s.touch||"touchstart"!==t.type&&i.indexOf(re[t.type]))){var a=ee(n,s);a&&(r=r.concat(a))}}}}function l(t,e,r,o){void 0===o&&(o=!1),t.addEventListener(e,r,o),n.push({node:t,eventType:e,handler:r,options:o})}return _t(c).forEach(function(t){var e=t.destroy;t.destroy=function(t){void 0===t&&(t=!0),t&&r.forEach(function(t){t.destroy()}),r=[],n.forEach(function(t){var e=t.node,n=t.eventType,r=t.handler,o=t.options;e.removeEventListener(n,r,o)}),n=[],e()},function(t){var e=t.reference;l(e,"touchstart",u),l(e,"mouseover",u),l(e,"focusin",u),l(e,"click",u)}(t)}),c}ee.setDefaultProps({render:Zt});e.a=ee},iYj9:function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},icPT:function(t,e,n){var r,o=function(){return function(t){function e(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function n(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener(e,n)}function r(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener(e,n)}function o(t,r,o,i){n(i||document,r,function(n){for(var r,i=n.target||n.srcElement;i&&!(r=e(i,t));)i=i.parentElement;r&&o.call(i,n)})}if(document.querySelector){var i={selector:0,source:0,minChars:3,delay:150,offsetLeft:0,offsetTop:1,cache:1,menuClass:"",renderItem:function(t,e){e=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var n=new RegExp("("+e.split(" ").join("|")+")","gi");return'<div class="autocomplete-suggestion" data-val="'+t+'">'+t.replace(n,"<b>$1</b>")+"</div>"},onSelect:function(){}};for(var a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);for(var s="object"==typeof i.selector?[i.selector]:document.querySelectorAll(i.selector),c=0;c<s.length;c++){var u=s[c];u.sc=document.createElement("div"),u.sc.className="autocomplete-suggestions "+i.menuClass,u.autocompleteAttr=u.getAttribute("autocomplete"),u.setAttribute("autocomplete","off"),u.cache={},u.last_val="",u.updateSC=function(t,e){var n=u.getBoundingClientRect();if(u.sc.style.left=Math.round(n.left+(window.pageXOffset||document.documentElement.scrollLeft)+i.offsetLeft)+"px",u.sc.style.top=Math.round(n.bottom+(window.pageYOffset||document.documentElement.scrollTop)+i.offsetTop)+"px",u.sc.style.width=Math.round(n.right-n.left)+"px",!t&&(u.sc.style.display="block",u.sc.maxHeight||(u.sc.maxHeight=parseInt((window.getComputedStyle?getComputedStyle(u.sc,null):u.sc.currentStyle).maxHeight)),u.sc.suggestionHeight||(u.sc.suggestionHeight=u.sc.querySelector(".autocomplete-suggestion").offsetHeight),u.sc.suggestionHeight))if(e){var r=u.sc.scrollTop,o=e.getBoundingClientRect().top-u.sc.getBoundingClientRect().top;o+u.sc.suggestionHeight-u.sc.maxHeight>0?u.sc.scrollTop=o+u.sc.suggestionHeight+r-u.sc.maxHeight:0>o&&(u.sc.scrollTop=o+r)}else u.sc.scrollTop=0},n(window,"resize",u.updateSC),document.body.appendChild(u.sc),o("autocomplete-suggestion","mouseleave",function(){var t=u.sc.querySelector(".autocomplete-suggestion.selected");t&&setTimeout(function(){t.className=t.className.replace("selected","")},20)},u.sc),o("autocomplete-suggestion","mouseover",function(){var t=u.sc.querySelector(".autocomplete-suggestion.selected");t&&(t.className=t.className.replace("selected","")),this.className+=" selected"},u.sc),o("autocomplete-suggestion","mousedown",function(t){if(e(this,"autocomplete-suggestion")){var n=this.getAttribute("data-val");u.value=n,i.onSelect(t,n,this),u.sc.style.display="none"}},u.sc),u.blurHandler=function(){try{var t=document.querySelector(".autocomplete-suggestions:hover")}catch(e){t=0}t?u!==document.activeElement&&setTimeout(function(){u.focus()},20):(u.last_val=u.value,u.sc.style.display="none",setTimeout(function(){u.sc.style.display="none"},350))},n(u,"blur",u.blurHandler);var l=function(t){var e=u.value;if(u.cache[e]=t,t.length&&e.length>=i.minChars){for(var n="",r=0;r<t.length;r++)n+=i.renderItem(t[r],e);u.sc.innerHTML=n,u.updateSC(0)}else u.sc.style.display="none"};u.keydownHandler=function(t){var e,n=window.event?t.keyCode:t.which;if((40==n||38==n)&&u.sc.innerHTML)return(r=u.sc.querySelector(".autocomplete-suggestion.selected"))?(e=40==n?r.nextSibling:r.previousSibling)?(r.className=r.className.replace("selected",""),e.className+=" selected",u.value=e.getAttribute("data-val")):(r.className=r.className.replace("selected",""),u.value=u.last_val,e=0):((e=40==n?u.sc.querySelector(".autocomplete-suggestion"):u.sc.childNodes[u.sc.childNodes.length-1]).className+=" selected",u.value=e.getAttribute("data-val")),u.updateSC(0,e),!1;if(27==n)u.value=u.last_val,u.sc.style.display="none";else if(13==n||9==n){var r;(r=u.sc.querySelector(".autocomplete-suggestion.selected"))&&"none"!=u.sc.style.display&&(i.onSelect(t,r.getAttribute("data-val"),r),setTimeout(function(){u.sc.style.display="none"},20))}},n(u,"keydown",u.keydownHandler),u.keyupHandler=function(t){var e=window.event?t.keyCode:t.which;if(!e||(35>e||e>40)&&13!=e&&27!=e){var n=u.value;if(n.length>=i.minChars){if(n!=u.last_val){if(u.last_val=n,clearTimeout(u.timer),i.cache){if(n in u.cache)return void l(u.cache[n]);for(var r=1;r<n.length-i.minChars;r++){var o=n.slice(0,n.length-r);if(o in u.cache&&!u.cache[o].length)return void l([])}}u.timer=setTimeout(function(){i.source(n,l)},i.delay)}}else u.last_val=n,u.sc.style.display="none"}},n(u,"keyup",u.keyupHandler),u.focusHandler=function(t){u.last_val="\n",u.keyupHandler(t)},i.minChars||n(u,"focus",u.focusHandler)}this.destroy=function(){for(var t=0;t<s.length;t++){var e=s[t];r(window,"resize",e.updateSC),r(e,"blur",e.blurHandler),r(e,"focus",e.focusHandler),r(e,"keydown",e.keydownHandler),r(e,"keyup",e.keyupHandler),e.autocompleteAttr?e.setAttribute("autocomplete",e.autocompleteAttr):e.removeAttribute("autocomplete"),document.body.removeChild(e.sc),e=null}}}}}();void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)},igvw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o,i=n("En79"),a=n.n(i),s=n("qrdl"),c=n.n(s),u=n("y9NZ"),l=n.n(u),f=n("V9wp"),d=n.n(f),p=n("Q7hp"),h=n.n(p),v=n("Ba3q"),m=n.n(v),g=n("mtWM"),b=n.n(g),y=n("I3G/"),_=n.n(y),O=n("gAt4"),w=n.n(O),x=n("kjlQ"),k=n.n(x),j=n("s+XX"),C=n.n(j),E=n("3ObW"),P=n.n(E),S=n("Jaym"),A=n("u5FJ"),T=n("vrSs");function N(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function L(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.default=_.a.extend({components:{AppChapterItem:C.a},data:function(){return{chapters:[],auth:!1,teams:[],manga:window.__MANGA__,sort:"desc",teamFilter:"all",chaptersOutputFrequency:null,chaptersOutputFrequencyQuestion:!1,showAll:!1,loading:!1}},computed:{sortedChapters:function(){var t=m()(this.chapters,["chapter_volume",function(t){return parseFloat(t.chapter_number)}],[this.sort,this.sort]);return!this.showAll&&t.length>30?t.slice(0,30):t},isManga:function(){return T.i.isManga}},created:function(){var t=this;r=window.__CHAPTERS_DATA__;var e=(o=r.list).length,n=h()(this.manga,"book.dsc.index",null);if(o.forEach(function(t,o){t.teamsMap={},t.index=e-o,t.isRead=null!==n?n>=t.index?1:0:-1!=r.read.indexOf(t.chapter_id)?1:0,t.teams.forEach(function(e){e.slug&&(t.teamsMap[e.slug]=e)})}),this.chapters=o,this.teams=r.teams,this.auth=r.auth,S.b.on("chapters.anchor-click",function(){t.showAll=!0}),1==this.manga.status){for(var i=new Set,a=Date.now(),s=0,c=this.chapters.length;s<c;s++){var u=this.chapters[s],f=u.chapter_created_at.replace(/(\d{4}-\d{2}-\d{2}).*/,"$1");u.isNew=w()(a,f)<=4,i.size>=8||i.add(f)}if(i.size>4){var p,v=[];i.forEach(function(t){p&&v.push(w()(p,t)),p=t});var m=Math.round(d()(v));if(m>=1&&m<=45){var g=l()(this.chapters),b=24*m,y=k()(Date.now(),g.chapter_created_at)-b;if(y>b)return;this.chaptersOutputFrequency=m,y>=-12&&(this.chaptersOutputFrequencyQuestion=!0)}}}},mounted:function(){this.$emit("chapters.mounted"),Object(A.a)(".media-chapters-list","click",".media-chapter__icon_read",this.toggleChapterRead)},methods:{changeSort:function(){this.sort="asc"===this.sort?"desc":"asc"},selectTeam:function(t){var e;this.teamFilter=t,(e="all"===t?L(o):o.filter(function(e){return null!=e.teamsMap[t]})).length<30?this.showAll=!0:this.showAll=!1,this.chapters=e},toggleChapterRead:function(){var t,e=(t=a.a.mark(function t(e,n){var r,o,i,s,u,l,f,d=this;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.auth&&!this.loading){t.next=2;break}return t.abrupt("return");case 2:if(r=n.closest(".media-chapter"),o=A.f.get(r,"data-is-read",{parseNumbers:!0}),i=A.f.get(r,"data-index",{parseNumbers:!0}),!(s=Object(S.d)(this.chapters,function(t){return t.index===i}))){t.next=31;break}if("readLoading"in s||this.$set(s,"readLoading",!0),s.readLoading=!0,this.loading=!0,u={manga_id:this.manga.id,media_slug:this.manga.slug,chapter_id:s.chapter_id,page_slug:1,metadata:{manual:!1,volume:s.chapter_volume,number:s.chapter_number,index:i,page:1}},o&&1!==i&&(i-=1,l=Object(S.d)(this.chapters,function(t){return t.index===i}),u.chapter_id=l.chapter_id,u.metadata.volume=l.chapter_volume,u.metadata.number=l.chapter_number,u.metadata.index=i),t.prev=12,f=c()(),!o||1!==i){t.next=20;break}return t.next=17,b.a.delete("/bookmark/destroy-bookmark/".concat(this.manga.id));case 17:f=function(t){return t.isRead=!1},t.next=23;break;case 20:return t.next=22,b.a.post("/bookmark",u);case 22:f=function(t){return t.isRead=i>=t.index?1:0};case 23:this.$nextTick(function(){d.chapters.forEach(f)}),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(12),console.error(t.t0);case 29:s.readLoading=!1,this.loading=!1;case 31:case"end":return t.stop()}},t,this,[[12,26]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){N(i,r,o,a,s,"next",t)}function s(t){N(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t,n){return e.apply(this,arguments)}}(),showAnswerDialog:function(){this.$dialog.open({component:P.a})}}})},imBK:function(t,e,n){var r=n("22B7");t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},in12:function(t,e,n){var r=n("VU/8")(n("h5cE"),n("3aWb"),!1,null,null,null);t.exports=r.exports},izte:function(t,e,n){var r=n("pzR0"),o=n("m1WI");(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},jAiL:function(t,e,n){var r=n("hcE8"),o=n("izte"),i=n("l/2K"),a=n("17Rs"),s=n("9+GO"),c=n("TwS1"),u=o("wks"),l=r.Symbol,f=c?l:l&&l.withoutSetter||a;t.exports=function(t){return i(u,t)||(s&&i(l,t)?u[t]=l[t]:u[t]=f("Symbol."+t)),u[t]}},jD7S:function(t,e,n){var r=n("tv3T"),o=n("ktak");t.exports=function(t,e){return t&&r(e,o(e),t)}},jE8y:function(t,e,n){var r=n("5+O3"),o=n("oEhq");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},jMi8:function(t,e,n){var r=n("O1jc"),o=n("mKB/"),i=n("Ilb/"),a=n("hrPF"),s=n("WQFf"),c=n("1Yb9"),u=n("NGEn"),l=n("Fp5l"),f=n("ggOT"),d=n("gGqR"),p=n("yCNF"),h=n("9UkZ"),v=n("YsVG"),m=n("MMop"),g=n("TlPD");t.exports=function(t,e,n,b,y,_,O){var w=m(t,n),x=m(e,n),k=O.get(x);if(k)r(t,n,k);else{var j=_?_(w,x,n+"",t,e,O):void 0,C=void 0===j;if(C){var E=u(x),P=!E&&f(x),S=!E&&!P&&v(x);j=x,E||P||S?u(w)?j=w:l(w)?j=a(w):P?(C=!1,j=o(x,!0)):S?(C=!1,j=i(x,!0)):j=[]:h(x)||c(x)?(j=w,c(w)?j=g(w):p(w)&&!d(w)||(j=s(x))):C=!1}C&&(O.set(x,j),y(j,x,b,_,O),O.delete(x)),r(t,n,j)}}},jQas:function(t,e,n){var r=n("SJLv");t.exports=function(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],u={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return n[t.getDay()]},ddd:function(t){return o[t.getDay()]},dddd:function(t){return i[t.getDay()]},A:function(t){return t.getHours()/12>=1?a[1]:a[0]},a:function(t){return t.getHours()/12>=1?s[1]:s[0]},aa:function(t){return t.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(t){u[t+"o"]=function(e,n){return function(t){var e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}(n[t](e))}}),{formatters:u,formattingTokensRegExp:r(u)}}},jgJS:function(t,e,n){var r=n("VpuQ"),o=n("raVe"),i=n("jAiL")("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},jjTL:function(t,e,n){var r=n("VU/8")(n("Kcyw"),null,!1,null,null,null);t.exports=r.exports},jywo:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a});var r=n("Jaym"),o=n("GYc8"),i={move:"move",resetCacheTime:"resetCacheTime",updateCache:"updateCache",moveBookmarks:"moveBookmarks",removeBookmarks:"removeBookmarks",updateCount:"updateCount"},a=new r.a;a.on(i.resetCacheTime,function(){o.a&&o.a.setItem("updatedAt",null)})},"k+y2":function(t,e,n){var r=n("VU/8")(n("oAJX"),n("q9wA"),!1,null,null,null);t.exports=r.exports},kAZi:function(t,e,n){"use strict";e.a=function(t){return t=t.replace(/(https?:\/\/[^\s"<)]+)/gi,function(t){var e=t;return t.length>30&&(e=t.slice(0,30)+"..."),'<a href="'.concat(o()(t),'" target="_blank">').concat(o()(e),"</a>")})};var r=n("l4he"),o=n.n(r)},kC8v:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"popup-transition",duration:300,appear:""},on:{"after-leave":this.animationEnd,"after-enter":this.animationEnd,"before-leave":this.beforeLeave}},[e("div",{staticClass:"popup is-hidden",class:this.name,attrs:{"data-size":this.size}},[e("div",{staticClass:"popup__inner"},[e("div",{staticClass:"popup__content"},[this._t("default")],2)])])])},staticRenderFns:[]}},kXZP:function(t,e,n){var r=n("tPu2");t.exports=function(t){return r(2,t)}},"kbi+":function(t,e,n){var r=n("eHwr")(n("KgVm"));t.exports=r},kfSc:function(t,e,n){var r=n("VU/8")(n("QmTJ"),n("GVF3"),!1,null,null,null);t.exports=r.exports},kjlQ:function(t,e,n){var r=n("G7No"),o=36e5;t.exports=function(t,e){var n=r(t,e)/o;return n>0?Math.floor(n):Math.ceil(n)}},ktak:function(t,e,n){var r=n("7e4z"),o=n("/GnY"),i=n("bGc4");t.exports=function(t){return i(t)?r(t):o(t)}},kvU2:function(t,e,n){var r=n("Fkvj"),o=1,i=4;t.exports=function(t){return r(t,o|i)}},kxzG:function(t,e,n){var r=n("yCNF"),o=n("6MiT"),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return i;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=c.test(t);return n||u.test(t)?l(t.slice(2),n?2:8):s.test(t)?i:+t}},"l/2K":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},l4he:function(t,e,n){var r=n("eAIx"),o=n("ZT2e"),i=/[&<>"']/g,a=RegExp(i.source);t.exports=function(t){return(t=o(t))&&a.test(t)?t.replace(i,r):t}},l5gR:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control search-filter__checkbox",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggleValue(e)}}},[n("input",{staticClass:"control__input search-filter__with-exclude",attrs:{type:"checkbox"},domProps:{value:t.checkedValue,checked:t.isChecked}}),t._v(" "),n("span",{staticClass:"control__indicator control__indicator_checkbox control__indicator_sm"}),t._v(" "),n("span",{staticClass:"control__text text-truncate"},[t._t("default")],2)])},staticRenderFns:[]}},l9Lx:function(t,e,n){var r=n("lb6C"),o=n("C0hh"),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return i.call(t,e)}))}:o;t.exports=s},lHK6:function(t,e,n){var r=n("/GnY"),o=n("gHOb"),i=n("1Yb9"),a=n("NGEn"),s=n("bGc4"),c=n("ggOT"),u=n("HT7L"),l=n("YsVG"),f="[object Map]",d="[object Set]",p=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||l(t)||i(t)))return!t.length;var e=o(t);if(e==f||e==d)return!t.size;if(u(t))return!r(t).length;for(var n in t)if(p.call(t,n))return!1;return!0}},lb6C:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},lelv:function(t,e,n){var r=n("VU/8")(n("L8xD"),n("Lb8E"),!1,function(t){n("JJmi")},null,null);t.exports=r.exports},ln3S:function(t,e,n){var r=n("VU/8")(n("Opag"),n("9pW/"),!1,null,null,null);t.exports=r.exports},loOB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"AppDialog",props:{index:Number},provide:function(){return{Dialog:{index:this.index}}},data:function(){return{size:"",name:"popup_default"}},methods:{animationEnd:function(t){t&&t.classList.contains("is-hidden")&&requestAnimationFrame(function(){t.classList.remove("is-hidden")})},beforeLeave:function(t){t.classList.add("is-hidden")},setOptions:function(t){if(t.responsive){var e={xs:"(max-width: 576px)",sm:"(max-width: 768px)",md:"(max-width: 991px)",lg:"(max-width: 1200px)"};for(var n in t.responsive)if(Object.prototype.hasOwnProperty.call(t.responsive,n)){var r=e[n];if(window.matchMedia(r).matches){t=t.responsive[n];break}}}for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&o in this.$data&&(this[o]=t[o])}}}},lwBO:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification-row"},[t._m(0),t._v(" "),n("a",{ref:"notificationItem",staticClass:"notification-item",attrs:{href:t.notification.data.link,"data-type":t.notification.type},on:{mouseup:t.markAsRead,click:function(t){t.preventDefault()}}},[n("div",{staticClass:"notification-item__left"},[t.hasCover?n("div",{staticClass:"notification-item__img",class:{"notification-item__img_cover":t.hasCover}},[n("div",{staticClass:"cover cover_responsive",style:{"background-image":"url("+t.imgUrl+")"}})]):n("img",{staticClass:"notification-item__img",attrs:{src:t.imgUrl}})]),t._v(" "),n("div",{staticClass:"notification-item__content"},[n("div",{staticClass:"notification-item__meta"},[t.notification.data.team?n("b",{staticClass:"notification-item__username"},[t._v("\n          "+t._s(t.notification.data.team.name)+"\n        ")]):t.notification.data.user?n("b",{staticClass:"notification-item__username"},[t._v("\n          "+t._s(t.notification.data.user.username)+"\n        ")]):t._e(),t._v(" "),n("timeago",{staticClass:"notification-item__date",attrs:{datetime:t.notification.updated_at}})],1),t._v(" "),n("NotificationTemplate",{attrs:{metadata:t.notification.data,type:t.notification.type,"media-name-prop":t.mediaNameProp}})],1)]),t._v(" "),n("div",{staticClass:"notification-item__remove tooltip",attrs:{"aria-label":"Прочитано","data-place":"left"},on:{click:function(e){return t.markRead(!0)}}},[n("svg",[n("use",{attrs:{"xlink:href":"#icon-close"}})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notification-row__readinfo justify_between align-items_center text-center"},[e("div",{staticClass:"notification-row__readinfo-icon"},[e("i",{staticClass:"fa fa-check-circle"}),this._v(" "),e("span",[this._v("Прочитано")])])])}]}},m1WI:function(t,e,n){var r=n("hcE8"),o=n("C/Wh"),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},m1su:function(t,e,n){n("qnda");var r=n("flBj");t.exports=r("Array","find")},mAt8:function(t,e,n){var r=n("4RiB"),o=NaN;t.exports=function(t,e){var n=null==t?0:t.length;return n?r(t,e)/n:o}},"mKB/":function(t,e,n){(function(t){var r=n("TQ3y"),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(e,n("3IRH")(t))},mTAn:function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},mWhC:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},mXYp:function(t,e,n){var r=n("YRFD"),o=n("xA5w"),i=n("25hp"),a=n("GI7G"),s=n("uyaC"),c=1440,u=2520,l=43200,f=86400;t.exports=function(t,e,n){var d=n||{},p=r(t,e),h=d.locale,v=s.distanceInWords.localize;h&&h.distanceInWords&&h.distanceInWords.localize&&(v=h.distanceInWords.localize);var m,g,b={addSuffix:Boolean(d.addSuffix),comparison:p};p>0?(m=o(t),g=o(e)):(m=o(e),g=o(t));var y,_=i(g,m),O=g.getTimezoneOffset()-m.getTimezoneOffset(),w=Math.round(_/60)-O;if(w<2)return d.includeSeconds?_<5?v("lessThanXSeconds",5,b):_<10?v("lessThanXSeconds",10,b):_<20?v("lessThanXSeconds",20,b):_<40?v("halfAMinute",null,b):v(_<60?"lessThanXMinutes":"xMinutes",1,b):0===w?v("lessThanXMinutes",1,b):v("xMinutes",w,b);if(w<45)return v("xMinutes",w,b);if(w<90)return v("aboutXHours",1,b);if(w<c)return v("aboutXHours",Math.round(w/60),b);if(w<u)return v("xDays",1,b);if(w<l)return v("xDays",Math.round(w/c),b);if(w<f)return v("aboutXMonths",y=Math.round(w/l),b);if((y=a(g,m))<12)return v("xMonths",Math.round(w/l),b);var x=y%12,k=Math.floor(y/12);return x<3?v("aboutXYears",k,b):x<9?v("overXYears",k,b):v("almostXYears",k+1,b)}},mgnk:function(t,e,n){var r=n("aCM0"),o=n("UnEC"),i="[object Arguments]";t.exports=function(t){return o(t)&&r(t)==i}},mi1p:function(t,e){t.exports=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}},mi9z:function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},mlqH:function(t,e,n){"use strict";e.a=function(t){var e=document.body,n=innerWidth-e.offsetWidth,o="";t&&(o="overflow: hidden; padding-right: ".concat(n,"px; overscroll-behavior: none;"));Object(r.f)(e,"style",o)};var r=n("u5FJ")},mw3O:function(t,e,n){"use strict";var r=n("CwSZ"),o=n("DDCP"),i=n("XgCd");t.exports={formats:i,parse:o,stringify:r}},mxmQ:function(t,e,n){"use strict";var r=n("En79"),o=n.n(r),i=n("tuWI"),a=n.n(i);function s(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)})}}e.a={components:{AppLoader:a.a},props:{requestDataOnCreatedHook:{type:Boolean,default:!0}},data:function(){return{loading:!0,page:1,pageLoading:!1,hasNextPage:!1,hasPrevPage:!1,scrollTopBeforePaginate:!1}},created:function(){var t=c(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.requestDataOnCreatedHook){t.next=3;break}return t.next=3,this.requestHandler(this.page);case 3:this.loading=!1;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{nextPage:function(){this.requestHandler(this.page+1)},prevPage:function(){this.requestHandler(this.page-1)},requestHandler:function(){var t=c(o.a.mark(function t(e){var n,r,i,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={page:e},this.pageLoading=!0,this.scrollTopBeforePaginate&&window.scrollTo({top:0,behavior:"smooth"}),t.next=5,this.request(n);case 5:r=t.sent,i=r.next_page_url,a=r.prev_page_url,this.page=e,this.pageLoading=!1,this.hasNextPage=null!=i,this.hasPrevPage=null!=a;case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),resetPagination:function(){this.page=1,this.pageLoading=!1,this.hasNextPage=!1,this.hasPrevPage=!1},request:function(){}}}},nbsL:function(t,e,n){var r=n("6MiT");t.exports=function(t,e){if(t!==e){var n=void 0!==t,o=null===t,i=t==t,a=r(t),s=void 0!==e,c=null===e,u=e==e,l=r(e);if(!c&&!l&&!a&&t>e||a&&s&&u&&!c&&!l||o&&s&&u||!n&&u||!i)return 1;if(!o&&!a&&!l&&t<e||l&&n&&i&&!o&&!a||c&&n&&i||!s&&i||!u)return-1}return 0}},nctS:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("En79"),o=n.n(r),i=n("mtWM"),a=n.n(i),s=n("Jaym"),c=n("gmAb"),u=n("OLx3");function l(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){f(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var p={init:"comment.init",changePage:"comment.changePage",destroy:"comment.destroy",deleted:"comment.deleted",updated:"comment.updated",added:"comment.added"};s.b.on(p.changePage,function(t){return u.a.page=t}),s.b.on(p.destroy,function(){var t,e=(t=o.a.mark(function t(e,n){var r,i,f;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null,t.prev=1,t.next=4,a.a.delete("/api/comments",{data:e});case 4:i=t.sent,f=i.data,e.reasonText=Object(c.a)(e.reason),u.a.sticky&&f.commentId==u.a.sticky.id&&(u.a.sticky=null),s.b.emit(p.deleted,l({},e,{},f)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.error(t.t0),r=t.t0;case 15:n&&n(r);case 16:case"end":return t.stop()}},t,null,[[1,11]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){d(i,r,o,a,s,"next",t)}function s(t){d(i,r,o,a,s,"throw",t)}a(void 0)})});return function(t,n){return e.apply(this,arguments)}}())},nizW:function(t,e,n){var r=n("WNGz"),o=6e4,i=864e5;t.exports=function(t,e){var n=r(t),a=r(e),s=n.getTime()-n.getTimezoneOffset()*o,c=a.getTime()-a.getTimezoneOffset()*o;return Math.round((s-c)/i)}},nw3t:function(t,e,n){var r=n("p0bc");t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},"o/tC":function(t,e,n){var r=n("q0qZ"),o=n("1rEs"),i=n("5+O3"),a=n("/09a");t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),s=r.length,c=0;s>c;)o.f(t,n=r[c++],e[n]);return t}},o2mx:function(t,e,n){var r=n("NkRn"),o=n("Hxdr"),i=n("NGEn"),a=n("6MiT"),s=1/0,c=r?r.prototype:void 0,u=c?c.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return u?u.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},o51f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("k+y2"),o=n.n(r),i=n("oTFi"),a=n("nctS"),s=n("OLx3");e.default={components:{CommentReply:o.a},data:function(){return{showForm:!1}},mounted:function(){var t=this;this.$AppEmitter.on(a.a.added,function(){return t.showForm=!1}),this.$AppEmitter.on("chapter.like",function(){return t.showForm=!1})},methods:{toggleForm:function(){if(!s.a.auth)return i.a.show("#sign-in-modal");this.showForm=!0}}}},oAJX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("En79"),o=n.n(r),i=n("kvU2"),a=n.n(i),s=n("mtWM"),c=n.n(s),u=n("OvQW"),l=n.n(u),f=n("A7pH"),d=n("6Vnj"),p=n.n(d),h=n("ryCm"),v=n.n(h),m=n("lelv"),g=n.n(m),b=n("gmAb"),y=n("OLx3"),_=n("nctS");function O(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function w(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){O(i,r,o,a,s,"next",t)}function s(t){O(i,r,o,a,s,"throw",t)}a(void 0)})}}e.default={components:{AppCheckbox:p.a,AppDropdown:v.a,AppDropdownMenu:g.a},props:{isReply:{type:Boolean,default:!1},rootId:Number,commentLevel:Number},data:function(){return{loading:!1,sticky:!1,buttons:[{icon:"bold",title:"Жирный",action:"bold"},{icon:"italic",title:"Курсив",action:"italic"},{icon:"strikethrough",title:"Зачеркнутый",action:"strikethrough"},{icon:"underline",title:"Подчеркнутый",action:"underline"},{icon:"quote-right",title:"Цитата",action:"quote"},{icon:"eye-slash",title:"Спойлер",action:"spoiler"},{icon:"eraser",title:"Убрать форматирование",action:"clear"}]}},computed:{editing:function(){return this.isReply&&y.a.editing},btnClasses:function(){return{button_primary:!this.editing,button_green:this.editing,button_loading:this.loading}},showSettings:function(){var t=y.a.activeItem,e=y.a.sticky,n=y.a.auth.access||y.a.teamPermission;return e?this.editing&&e.id===t.id:this.isReply?!(!this.editing||t.root_id||!n):!!n}},mounted:function(){var t=this.$refs,e=t.editor,n=t.toolbar;if(this.editor=Object(f.a)(e,{toolbar:n}),this.editing){var r=y.a.activeItem.comment;y.a.sticky&&y.a.sticky.id===y.a.activeItem.id&&(this.sticky=!0,r=y.a.sticky._comment),this.editor.setHTML(r)}this.editor.focus(),this.isReply&&this.editor.moveCursorToEnd()},beforeDestroy:function(){this.$nextTick(b.e),this.editor&&this.editor.destroy()},methods:{submitForm:function(){if(!1===y.a.auth)return this.$toast.alert("Вы не авторизованы");if(!this.loading){if(this.editor.isEmpty())return this.$toast.alert("Сообщение не должно быть пустым");if(this.editor.contentLength()>1e4)return this.$toast.alert("Первышен лимит сообщения в 10.000 символов");var t=this.editor.getParsedHTML(),e=l.a.sanitize(t,{ALLOWED_TAGS:["br"],ALLOWED_ATTR:[],FORBID_TAGS:[],ALLOW_DATA_ATTR:!1}).replace(/&nbsp;/g," ").replace(/<br>/g," ").replace(/\s\s+/g," ");if(this.getLongestWord(e)>=50)return this.$toast.alert("Воздержитесь от флуда и напишите комментарий корректно");if(this.isCapsText(e)&&(t=t.toLowerCase()),"chapter"===y.a.info.type&&(1==y.a.page||y.a.page>=y.a.totalPages-2)&&(!this.isReply||this.editing&&null==y.a.activeItem.root_id)&&this.isTextContainsGratitude(e))return y.a.editing=!1,y.a.activeItem=null,this.$toast.info('Ваш комментарий был конвертирован в "Спасибо"'),this.editor.clearEditor(),this.$AppEmitter.emit("chapter.like");this.loading=!0,this.editing&&this.isReply?this.updateMessage(t):this.sendMessage(t)}},sendMessage:function(){var t=w(o.a.mark(function t(e){var n,r,i,a,s,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.isReply?y.a.activeItem.id:null,r={post_id:y.a.info.postId,post_type:y.a.info.type,post_page:y.a.page,parent_comment:n,comment:e,root_id:this.rootId,comment_level:this.commentLevel+1},this.showSettings&&this.sticky&&(r.sticky=this.sticky),t.prev=3,t.next=6,c.a.post(y.a.info.api,r);case 6:i=t.sent,a=i.data,this.isReply&&!y.a.replies[n]&&this.$set(y.a.replies,n,[]),s=this.isReply?"replies.".concat(n):"comments",u=Object(b.b)(y.a,s),this.sticky?y.a.sticky=a:this.isReply?u.push(a):u.unshift(a),this.editor.clearEditor(),y.a.activeItem=null,this.$AppEmitter.emit(_.a.added,a),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(3),console.error(t.t0),this.$toast.httpError(t.t0,"Произошла ошибка при отправке комментария");case 21:this.loading=!1;case 22:case"end":return t.stop()}},t,this,[[3,17]])}));return function(e){return t.apply(this,arguments)}}(),updateMessage:function(){var t=w(o.a.mark(function t(e){var n,r,i,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=y.a.activeItem.id,r={comment:e},this.showSettings&&(r.sticky=this.sticky),t.prev=3,t.next=6,c.a.put("".concat(y.a.info.api,"/").concat(n),r);case 6:i=t.sent,s=i.data,y.a.activeItem.comment=s.comment,this.$AppEmitter.emit(_.a.updated,y.a.activeItem),this.$toast.confirm("Комментарий был обновлен"),s.stickyChanged&&(this.sticky?(y.a.sticky=a()(y.a.activeItem),y.a.comments=y.a.comments.filter(function(t){return t.id!==n})):y.a.sticky=null),y.a.editing=!1,y.a.activeItem=null,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),this.$toast.httpError(t.t0,"Произошла ошибка при редактировании");case 19:this.loading=!1;case 20:case"end":return t.stop()}},t,this,[[3,16]])}));return function(e){return t.apply(this,arguments)}}(),isTextContainsGratitude:function(t){var e=[/[csсзшщ]+[pпб6]+[аaоo]+[зсcsчшщ]+[иiuяы]+[6бb]+[аоao]+(?:(?:ч|ch)+[kк]+[uiи]+)?/gi,/(?:[csсзшщ]+)?[pпб6]+[аaоo]+[зсcsчшщ]+[иiuяы]+[6бb]+[kк]+[uiи]+/gi,/[aаoо]+[rр]+[iи]+[gгхx]+[aаoо]+[tт]+[oо]+(?:[uу]+)?/gi,/[mм]+[eе]+[rрхx]+[cс]+[iиu]+/gi,/[б6b]+[лl]+[aаoо]+[гgхx]+[оoаa]+[дd]+[аaoо]+[рrp]+(?:ю+|(?:[oо]+(?:ч|ch)+[kк]+[аa]+)|[еe]+[нn]+)/gi,/[сcs]+(?:_|-|\.|~)*[пp]+(?:_|-|\.|~)*[сcs]+/gi,/[рpr]+[aаеeэ]+[xх]+[мm]+[aeаеэ]+[tт]+/gi,/[дd]+[ь]?[я]+[кk]+[уy]+[ю]+/gi,/[сфf]+[eе]+[нhn]+[kк]+(?:ь)?[юу]+/gi,/[tт]+[hхx]+[aа]+[nн]+[kк]+[scс]+|thx/gi,/[оo]+[тt]+[dд]+[уy]+[шщ]+[iuи]+/],n=function(t){return e.some(function(e){return e.test(t)})},r=n(t=t.replace(/[^a-zA-Zа-яА-Я\d]/g,""));return r||(r=n(t=t.split("").reverse().join(""))),r&&t.length<50},getLongestWord:function(t){for(var e=t.replace(/(https?|ftp):\/\/[^\s/$.?#].[^\s]*/g,"").split(" "),n=0,r=0;r<e.length;r++)e[r].length>n&&(n=e[r].length);return n},isCapsText:function(t){var e=t.replace(/[^A-ZА-Я]/g,"");return parseFloat((e.length/t.length).toFixed(2))>=.45}}}},oEhq:function(t,e,n){var r=n("HAas");t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},oG8a:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("HyF7");function o(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=new(n.n(r).a),s={success:function(t,e){a.addItem(o({text:t},e,{status:"success"}))},info:function(t,e){a.addItem(o({text:t},e,{status:"info"}))},alert:function(t,e){a.addItem(o({text:t},e,{status:"alert"}))}};e.default=s},oTFi:function(t,e,n){"use strict";var r=n("iSNJ"),o=n("Jaym"),i=n("u5FJ"),a=n("mlqH");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p="modal_open",h="modal_in",v="modal_out",m=function(t){function e(){var t,n,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,c=u(e).call(this),d(l(t=!c||"object"!==s(c)&&"function"!=typeof c?l(n):c),"show",function(e){if(!t.disabled&&e){var n=Object(o.o)(e)?Object(i.l)(e):e;if(n)return Object(r.c)(),i.e.once(n,function(){t.emit("showed"),i.g.remove(n,h)}),i.g.add(n,h,p),Object(a.a)(!0),t._initModalEvents(n),t.active.push(n),t.emit("show"),l(t)}}),d(l(t),"close",function(e){if(!t.disabled){var n;if(e){var r=Object(o.o)(e)?Object(i.l)(e):e,s=Object(o.e)(t.active,function(t){return t===r});n=t.active.splice(s,1)[0]}else n=t.active.pop();if(n)return i.e.once(n,function(){i.g.remove(n,p,v),t.emit("closed"),t.active.length||Object(a.a)()}),i.g.remove(n,h),i.g.add(n,v),t.emit("close"),l(t)}}),d(l(t),"disable",function(){return t.disabled=!0,l(t)}),d(l(t),"enable",function(){return t.disabled=!1,l(t)}),t.active=[],t.disabled=!1,t._bindEvents(),t}var n,m,g;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,o["a"]),n=e,(m=[{key:"_bindEvents",value:function(){var t=this;Object(i.c)(document,"click",function(e){var n=e.target,r=n.closest("[data-open-modal]");return r?(i.f.has(r,"data-stop")&&e.stopPropagation(),e.preventDefault(),t.show(Object(i.f)(r,"data-open-modal"))):(r=n.closest("[data-close-modal]"))?(e.preventDefault(),t.close()):void 0})}},{key:"_initModalEvents",value:function(t){var e=this;t.__inited||(t.__inited=!0,i.f.has(t,"data-disable-backdrop")||Object(i.c)(t,"click",function(t){t.target===t.currentTarget&&e.close()}))}}])&&c(n.prototype,m),g&&c(n,g),e}();e.a=new m},oV6p:function(t,e,n){var r=n("VU/8")(n("aOhm"),n("+ndw"),!1,null,null,null);t.exports=r.exports},oWUU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={functional:!0,render:function(t,e){var n=e.props,r=e.children;return n.hasMoreTeams?t("span",{attrs:{"data-chapter-dropdown":"read"}},r):t("a",{attrs:{href:n.chapterLink},staticClass:"link-default"},r)}}},octw:function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},odTk:function(t,e,n){var r=n("hcE8");t.exports=r},ooSW:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",function(){return o});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._events={}}var e,n,o;return e=t,(n=[{key:"on",value:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)}},{key:"off",value:function(t,e){this._events[t]&&(this._events[t]=this._events[t].filter(function(t){return t!==e}))}},{key:"once",value:function(t,e){var n=this,r=function r(){n.off(t,r),e.apply(void 0,arguments)};this.on(t,r)}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this._events[t]&&this._events[t].forEach(function(t){return t.apply(void 0,n)})}}])&&r(e.prototype,n),o&&r(e,o),t}()},oqL2:function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},orNa:function(t,e,n){var r=n("xA5w");t.exports=function(t,e){var n=r(t),o=r(e);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}},ot7w:function(t,e,n){"use strict";var r=n("UFcy").IteratorPrototype,o=n("43zn"),i=n("C1ru"),a=n("GB3+"),s=n("eZ0g"),c=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,u,!1,!0),s[u]=c,t}},p0bc:function(t,e,n){var r=n("ICSD"),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},p8xL:function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Array.isArray,i=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce(function(t,n){return t[n]=e[n],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var i=e[r],a=i.obj[i.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],l=a[u];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(e.push({obj:a,prop:u}),n.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n){if(0===t.length)return t;var r=t;if("symbol"==typeof t?r=Symbol.prototype.toString.call(t):"string"!=typeof t&&(r=String(t)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var o="",a=0;a<r.length;++a){var s=r.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?o+=r.charAt(a):s<128?o+=i[s]:s<2048?o+=i[192|s>>6]+i[128|63&s]:s<55296||s>=57344?o+=i[224|s>>12]+i[128|s>>6&63]+i[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&r.charCodeAt(a)),o+=i[240|s>>18]+i[128|s>>12&63]+i[128|s>>6&63]+i[128|63&s])}return o},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(o(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)},merge:function t(e,n,i){if(!n)return e;if("object"!=typeof n){if(o(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(i&&(i.plainObjects||i.allowPrototypes)||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var s=e;return o(e)&&!o(n)&&(s=a(e,i)),o(e)&&o(n)?(n.forEach(function(n,o){if(r.call(e,o)){var a=e[o];a&&"object"==typeof a&&n&&"object"==typeof n?e[o]=t(a,n,i):e.push(n)}else e[o]=n}),e):Object.keys(n).reduce(function(e,o){var a=n[o];return r.call(e,o)?e[o]=t(e[o],a,i):e[o]=a,e},s)}}},pQJ6:function(t,e,n){var r=n("bGc4");t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},pTUa:function(t,e,n){var r=n("/I3N");t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},pkSX:function(t,e,n){var r=n("i9tX"),o=n("q0qZ"),i=n("aske"),a=n("9mDF"),s=n("He3V"),c=n("hffE");r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),o=s.f,u=i(r),l={},f=0;u.length>f;)void 0!==(n=o(r,e=u[f++]))&&c(l,e,n);return l}})},py9u:function(t,e,n){var r=n("tv3T"),o=n("t8rQ");t.exports=function(t,e){return t&&r(e,o(e),t)}},pzR0:function(t,e){t.exports=!1},q0qZ:function(t,e,n){var r=n("r54x");t.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},q9wA:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-reply"},[n("div",{ref:"editor",staticClass:"comment-reply__editor",attrs:{"aria-placeholder":"Введите ваш комментарий..."}}),t._v(" "),n("div",{staticClass:"comment-reply__controls"},[n("div",{staticClass:"comment-reply__right"},[t.showSettings?n("app-dropdown",{attrs:{"close-on-select":!1,direction:"right"}},[n("button",{staticClass:"button button_clean button_icon button_md",attrs:{"data-dropdown-trigger":""}},[n("i",{staticClass:"fa fa-cog"})]),t._v(" "),n("app-dropdown-menu",{staticClass:"mt-5 menu menu_xs"},[n("div",{staticClass:"menu__item"},[n("app-checkbox",{model:{value:t.sticky,callback:function(e){t.sticky=e},expression:"sticky"}},[t._v("\n              Закрепить\n            ")])],1)])],1):t._e(),t._v(" "),n("button",{staticClass:"comment-reply__send button_md button",class:t.btnClasses,attrs:{disabled:t.loading,tabindex:"-1"},on:{click:t.submitForm}},[n("i",{staticClass:"fa fa-paper-plane"}),t._v(t._s(t.editing?"Сохранить":"Отправить")+"\n      ")])],1),t._v(" "),n("div",{ref:"toolbar",staticClass:"comment-reply__toolbar"},t._l(t.buttons,function(t){return n("button",{key:t.action,staticClass:"button button_md button_icon",attrs:{"data-action":t.action}},[n("span",{class:["fa fa-"+t.icon]})])}),0)])])},staticRenderFns:[]}},qEBd:function(t,e,n){n("8/eq"),n("vw/H"),n("GPcm"),n("3mz+");var r=n("odTk");t.exports=r.Set},qGuN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("RpmR"),o=n.n(r),i=n("rxKx"),a=n.n(i),s=n("vrSs"),c=n("Us2S"),u=n("u5FJ"),l=n("jjTL"),f=n.n(l),d="/images/icons",p="".concat(d,"/chat.svg"),h={forum:p,forum_post:p,comment:p,post_comment:p,manga_comment:p,chapter_comment:p,message:"".concat(d,"/new-message.svg"),repmessage:"".concat(d,"/repmessage.svg"),friend_request:"".concat(d,"/follower.svg"),friend_accept:"".concat(d,"/follower_add.svg"),friend_deny:"".concat(d,"/follower_del.svg"),manga_destroy:"".concat(d,"/trash.svg")};e.default={components:{NotificationTemplate:f.a},props:{notification:Object,mediaNameProp:String},data:function(){return{imgUrl:c.a.coverPlaceholder}},computed:{hasCover:function(){var t=this;return["chapter","manga","subscription"].some(function(e){return e===t.notification.type})}},created:function(){var t,e=this.notification.data;this.hasCover?(t=c.a.coverThumb(e.manga),"chapter"===this.notification.type&&e.chaptersCount&&(e.link="".concat(e.link,"?section=chapters"))):(t=h[this.notification.type])||(/deny/.test(this.notification.type)&&(t="".concat(d,"/sad.svg")),/accept/.test(this.notification.type)&&(t="".concat(d,"/smile.svg"))),this.imgUrl=t},mounted:function(){s.k&&(this._hammerManager=new a.a.Manager(this.$el,{recognizers:[[a.a.Pan,{direction:a.a.DIRECTION_HORIZONTAL}]]}),this._hammerManager.on("panstart",this.panStart),this._hammerManager.on("panend",this.panEnd),this._hammerManager.on("panleft panright",this.panMove))},beforeDestroy:function(){this._hammerManager&&(this._hammerManager.off("panleft panright",this.panMove),this._hammerManager.off("panstart",this.panStart),this._hammerManager.off("panend",this.panEnd))},methods:{markAsRead:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.which||t.keyCode;-1===[1,2].indexOf(r)||1===r&&this._isDragging||(2===r&&(n=!0),this.notification.data.link||(n=!0),requestAnimationFrame(function(){return e.markRead(n)}))},markRead:function(t){this.$emit("remove",this.notification,t)},panStart:function(){this._isDragging=!0,this.$refs.notificationItem.style.transition="none",u.g.add(this.$el,"is-dragable")},panMove:function(t){if(this._isDragging){var e=o()(t.deltaX,0,90);this.$refs.notificationItem.style.transform="translateX(".concat(e,"px)")}},panEnd:function(t){var e=this;!this._isDragging||t.deltaX<0||(this.$refs.notificationItem.style.transition="",this._isDragging=!1,t.deltaX>=80?this.markRead(!0):requestAnimationFrame(function(){e.$refs.notificationItem.style.transform=""}))}}}},qd7i:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popup-root",on:{mousedown:t.outsideClickStart,click:t.outsideClick}},t._l(t.dialogs,function(e,r){return n("app-dialog",{key:r,attrs:{index:r}},[n(e.component,t._g(t._b({tag:"component"},"component",e.props,!1),e.listeners))],1)}),1)},staticRenderFns:[]}},qnda:function(t,e,n){"use strict";var r=n("i9tX"),o=n("TRbm").find,i=n("HLWT"),a=!0,s=n("a4aT")("find");"find"in[]&&Array(1).find(function(){a=!1}),r({target:"Array",proto:!0,forced:a||!s},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("find")},qqLQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{size:String}}},qrdl:function(t,e){t.exports=function(){}},qwTf:function(t,e,n){var r=n("TQ3y").Uint8Array;t.exports=r},r54x:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},rCVp:function(t,e,n){var r=n("1C79");t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},rDLc:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"poll"},[t.isExpired?n("div",{staticClass:"small text-muted"},[t._v("\n    голосование заверешено\n  ")]):t._e(),t._v(" "),n("div",{staticClass:"poll__title"},[t._v("\n    "+t._s(t.title)+"\n  ")]),t._v(" "),null===t.userVote&&t.auth&&!t.isExpired?n("div",{staticClass:"poll-items"},[t._l(t.items,function(e){return n("div",{key:e.id,staticClass:"poll-item"},[n("app-radio",{attrs:{value:e.id,name:"poll_"+t.id},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},[t._v("\n        "+t._s(e.title)+"\n      ")])],1)}),t._v(" "),n("button",{staticClass:"button mt-10 button_blue",on:{click:t.vote}},[t._v("\n      Проголосовать\n    ")])],2):n("div",{staticClass:"poll-result"},t._l(t.items,function(e){return n("div",{key:e.id,staticClass:"poll-result-item"},[n("div",{staticClass:"poll-result-item__info"},[n("span",[t._v(t._s(e.title))]),t._v(" "),n("span",[t.userVote==e.id?n("i",{staticClass:"fa fa-check-circle text-info mr-5"}):t._e(),t._v(" "),n("span",{staticClass:"text-muted small"},[t._v(t._s(e.result))])])]),t._v(" "),n("div",{staticClass:"progress"},[n("div",{staticClass:"progress__bar",style:{width:t.getPercent(e.result)}})])])}),0)])},staticRenderFns:[]}},rF9q:function(t,e,n){var r=n("raVe");t.exports=Array.isArray||function(t){return"Array"==r(t)}},rInL:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bookmark-folders"},[n("div",{staticClass:"menu menu_default",class:[t.size&&"menu_"+t.size]},[t._l(t.folders,function(e){return n("div",{key:e.id,staticClass:"menu__item text-truncate",on:{click:function(n){return t.onMenuItemClick(e)}}},[t._v("\n      "+t._s(e.name)+"\n    ")])}),t._v(" "),t.showDeletionButton?n("div",{staticClass:"menu__item text-truncate",attrs:{"data-status":"default"},on:{click:function(e){return t.onMenuItemClick({id:null})}}},[t._v("\n      Удалить из списка\n    ")]):t._e()],2),t._v(" "),t.enableCreation?n("create-bookmark-folder-input",{attrs:{size:t.size},on:{created:function(e){return t.$emit("created",e)}}}):t._e()],1)},staticRenderFns:[]}},raVe:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},rjj0:function(t,e,n){var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o=n("tTVk"),i={},a=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,u=!1,l=function(){},f=null,d="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t){for(var e=0;e<t.length;e++){var n=t[e],r=i[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(m(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(m(n.parts[o]));i[n.id]={id:n.id,refs:1,parts:a}}}}function v(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function m(t){var e,n,r=document.querySelector("style["+d+'~="'+t.id+'"]');if(r){if(u)return l;r.parentNode.removeChild(r)}if(p){var o=c++;r=s||(s=v()),e=y.bind(null,r,o,!1),n=y.bind(null,r,o,!0)}else r=v(),e=function(t,e){var n=e.css,r=e.media,o=e.sourceMap;r&&t.setAttribute("media",r);f.ssrId&&t.setAttribute(d,e.id);o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}t.exports=function(t,e,n,r){u=n,f=r||{};var a=o(t,e);return h(a),function(e){for(var n=[],r=0;r<a.length;r++){var s=a[r];(c=i[s.id]).refs--,n.push(c)}e?h(a=o(t,e)):a=[];for(r=0;r<n.length;r++){var c;if(0===(c=n[r]).refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete i[c.id]}}}};var g,b=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function y(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},rlzA:function(t,e,n){var r=n("WvIn");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},rpnb:function(t,e,n){var r=n("tHks")();t.exports=r},rr1Y:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"comments__form"},[this.showForm?e("comment-reply",{attrs:{"root-id":null,"comment-level":-1}}):e("div",{staticClass:"comments__pseudo-form",on:{click:this.toggleForm}},[this._v("\n    Написать комментарий...\n  ")])],1)},staticRenderFns:[]}},ryCm:function(t,e,n){var r=n("VU/8")(n("6gl1"),n("8jzl"),!1,null,null,null);t.exports=r.exports},"s+XX":function(t,e,n){var r=n("VU/8")(n("9O5E"),n("A703"),!1,null,null,null);t.exports=r.exports},s8GX:function(t,e,n){var r=n("VU/8")(n("/gQy"),n("KfN+"),!1,null,null,null);t.exports=r.exports},sBat:function(t,e,n){var r=n("kxzG"),o=1/0,i=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===o||t===-o?(t<0?-1:1)*i:t==t?t:0:0===t?t:0}},sJvV:function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},"sN/x":function(t,e){},sOR5:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},siPu:function(t,e,n){var r=n("izte"),o=n("17Rs"),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},t8rQ:function(t,e,n){var r=n("7e4z"),o=n("G0Wc"),i=n("bGc4");t.exports=function(t){return i(t)?r(t,!0):o(t)}},tHks:function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var c=a[t?s:++o];if(!1===n(i[c],c,i))break}return e}}},tO4o:function(t,e,n){var r=n("yCNF");t.exports=function(t){return t==t&&!r(t)}},tPu2:function(t,e,n){var r=n("5Zxu"),o="Expected a function";t.exports=function(t,e){var n;if("function"!=typeof e)throw new TypeError(o);return t=r(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}},tTVk:function(t,e){t.exports=function(t,e){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=i[0],s={id:t+":"+o,css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}},tuWI:function(t,e,n){var r=n("VU/8")(n("qqLQ"),n("vYgC"),!1,null,null,null);t.exports=r.exports},tv3T:function(t,e,n){var r=n("i4ON"),o=n("nw3t");t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var s=-1,c=e.length;++s<c;){var u=e[s],l=i?i(n[u],t[u],u,n,t):void 0;void 0===l&&(l=t[u]),a?o(n,u,l):r(n,u,l)}return n}},tyBP:function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},"u/4p":function(t,e,n){var r=n("xA5w");t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,o=r(t),i=o.getDay(),a=(i<n?7:0)+i-n;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}},u5FJ:function(t,e,n){"use strict";var r=function(t){return t&&t instanceof Node},o=function(t){return t&&t instanceof NodeList},i=n("Jaym");function a(t,e,n){if(r(t)){if(void 0===n){var o=t.getAttribute(e);return a.has(t,e)?void 0===o?"":o:void 0}t.setAttribute(e,n)}}a.get=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!r(t))return o;var i=t.getAttribute(e);if(i){if(n.parseNumbers){var a=parseInt(i,10);if(isNaN(a))return o;i=a}if(n.parseJSON)try{i=JSON.parse(i)}catch(t){return console.error(t),o}return i}return o},a.has=function(t,e){return r(t)&&t.hasAttribute(e)},a.remove=function(t){if(r(t)){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];n.forEach(function(e){return t.removeAttribute(e)})}},a.getObject=function(t){var e={};if(r(t)){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];Object(i.f)(o,function(n){e[n]=a(t,n)})}return e};var s,c={add:function(t){if(r(t)){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];Object(i.f)(n,function(e){t.classList.add(e)})}},remove:function(t){if(r(t)){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];Object(i.f)(n,function(e){t.classList.remove(e)})}},toggle:function(t,e,n){r(t)&&t.classList.toggle(e,n)},has:function(t,e){if(r(t))return t.classList.contains(e)}},u=function(t){return t&&"string"==typeof t},l=function(t,e){if(u(t))return(e||document).querySelector(t)},f=function(t,e){if(u(t))return(e||document).querySelectorAll(t)},d=/\s+/,p=function(t){if(t)return"string"==typeof t?f(t):o(t)||Array.isArray(t)?t:[t]},h=function(t,e,n,r){var o=p(t);if(o&&n&&e){e=e.trim().split(d);for(var i=o.length;i--;){var a=o[i];if(a&&a.addEventListener)for(var s=0;s<e.length;s++)a.addEventListener(e[s],n,!!r)}}},v=function(t,e,n){var r=p(t);if(r&&n&&e)for(var o=r.length;o--;){var i=r[o];i&&i.removeEventListener&&i.removeEventListener(e,n)}},m=function(t,e,n){h(t,e,function r(o){n.call(this,o),v(t,e,r)})},g=function(t,e,n,r,o){if(t){var i=function(t){var e=t.target.closest(n);e&&r.call(e,t,e)};return h(t,e,i,o),function(){v(t,e,i)}}};function b(t,e){if(r(t)){e||(e=t.parentNode);for(var n=e.children,o=n.length;o--;)if(n[o]===t)return o}}function y(t){if(!r(t))return 0;var e=t.getBoundingClientRect(),n=e.top,o=e.bottom,i=e.left,a=e.right;return{top:pageYOffset+n,bottom:pageYOffset+o,left:i,right:a}}var _=!1,O=document.createElement("div"),w={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var x in w)if(void 0!==O.style[x]){_=!0,s=w[x];break}var k={supported:_,once:function(t,e){if(!_)return e();m(t,s,e)},on:function(t,e){h(t,s,e)}};n.d(e,"f",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"j",function(){return r}),n.d(e,"k",function(){return o}),n.d(e,"l",function(){return l}),n.d(e,"m",function(){return f}),n.d(e,"c",function(){return h}),n.d(e,"b",function(){return v}),n.d(e,"a",function(){return g}),n.d(e,"d",function(){return m}),n.d(e,"h",function(){return b}),n.d(e,"i",function(){return y}),n.d(e,"e",function(){return k})},uCi2:function(t,e,n){var r=n("bIjD"),o=n("Ubhr");t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},uH1e:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal__close",on:{click:this.close}},[e("svg",{staticClass:"modal__close-icon"},[e("use",{attrs:{"xlink:href":"#icon-close"}})])])},staticRenderFns:[]}},uIr7:function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},uLhX:function(t,e,n){var r=n("NkRn"),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}},uUYp:function(t,e,n){n("f9UU");var r=n("odTk");t.exports=r.Object.assign},"ue/d":function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},uieL:function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},ujcs:function(t,e){e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?o-1:0,d=n?-1:1,p=t[e+f];for(f+=d,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=d,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=u}return(p?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*c-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;t[n+p]=255&a,p+=h,a/=256,u-=8);t[n+p-h]|=128*v}},umy1:function(t,e,n){var r=n("mi9z"),o=n("IGcM");t.exports=function(t,e){return null!=t&&o(t,e,r)}},uyaC:function(t,e,n){var r=n("Ptqd"),o=n("jQas");t.exports={distanceInWords:r(),format:o()}},v8Dt:function(t,e,n){var r=n("pTUa");t.exports=function(t){return r(this,t).get(t)}},v9aJ:function(t,e,n){var r=n("M6Wl"),o=n("pQJ6")(r);t.exports=o},vBvW:function(t,e,n){var r=n("mXYp");t.exports=function(t,e){return r(Date.now(),t,e)}},vQY2:function(t,e,n){"use strict";var r=n("i9tX"),o=n("TRbm").findIndex,i=n("HLWT"),a=!0,s=n("a4aT")("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){a=!1}),r({target:"Array",proto:!0,forced:a||!s},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},vYLk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("8l6m"),o=n.n(r),i=n("Jaym"),a=n("u5FJ");function s(t){(new o.a).$mount(t)}i.b.on("dropdown.show",function t(e){e.reference.hasAttribute("data-open-notifications")&&(s(e.popper.querySelector("#notifications")),i.b.off("dropdown.show",t))}),Object(a.d)('[data-open="notify"]',"click",function(){return s("#notifications")})},vYgC:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader-wrapper"},[e("div",{staticClass:"loader-circle",class:this.size&&"loader-circle_"+this.size})])},staticRenderFns:[]}},vi0E:function(t,e,n){var r=n("f931")(Object.getPrototypeOf,Object);t.exports=r},vrSs:function(t,e,n){"use strict";var r={trigger:"click",interactive:!0,arrow:!1,placement:"bottom-start",animation:"shift-toward",duration:200,offset:[0,7],theme:"dropdown",appendTo:document.body},o={theme:"light",arrow:!1,duration:250,offset:[0,7],animation:"fade",hideOnClick:!0};function i(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){a(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={dragMode:"move",viewMode:1,aspectRatio:1,guides:!1,center:!1,cropBoxMovable:!1,cropBoxResizable:!1,toggleDragModeOnDblclick:!1},c=i({},s,{aspectRatio:145/54}),u=i({},s,{aspectRatio:375/525}),l=n("f6yZ"),f=["currently-reading","plan-to-read","on-hold","completed","favourites"],d=[{id:1,name:"Читаю"},{id:2,name:"В планах"},{id:3,name:"Брошено"},{id:4,name:"Прочитано"},{id:5,name:"Любимые"}],p=d.reduce(function(t,e){return t[e.id]=e.name,t},{}),h={0:"Ожидает модерации",1:"Принято",2:"Отклонено",3:"Принято автоматически"},v={id:document.documentElement.getAttribute("data-id"),manga:1,ranobe:3,hentai:4,domainsById:{1:"mangalib.me",3:"ranobelib.me",4:"hentailib.me"},get isRanobe(){return this.id==this.ranobe},get isManga(){return this.id==this.manga},get isHentai(){return this.id==this.hentai},isNot:function(t){return t!=this.id}},m={1:"Манга",4:"OEL-манга",5:"Манхва",6:"Маньхуа",7:"Сингл",8:"Руманга",9:"Комикс",10:"Япония",11:"Корея",12:"Китай",13:"Англиский",14:"Авторский",15:"Фанфик"},g=n("dWBF");n.d(e,"k",function(){return b}),n.d(e,"e",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"b",function(){return u}),n.d(e,"f",function(){return l.a}),n.d(e,!1,function(){return f}),n.d(e,!1,function(){return d}),n.d(e,!1,function(){return p}),n.d(e,"j",function(){return h}),n.d(e,"i",function(){return v}),n.d(e,"l",function(){return m}),n.d(e,"g",function(){return g.a}),n.d(e,"h",function(){return g.b});
        // var b=document.body.classList.contains("page_mobile")
    },
    "vw/H":function(t,e,n){var r=n("VpuQ"),o=n("+opI"),i=n("eTT4");r||o(Object.prototype,"toString",i,{unsafe:!0})},w8ZE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={popupOptions:{size:"sm"}}},w9Mt:function(t,e,n){var r=n("ZD0O"),o=n("2N6f")(function(t,e){return null==t?{}:r(t,e)});t.exports=o},wC5p:function(t,e,n){"use strict";var r=n("mw3O"),o=n.n(r),i=n("u5FJ"),a=n("BV6Q"),s=n("Jaym");function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h={tabListSelector:".tabs__list",tabContentSelector:".tabs__content",tabItemSelector:".tabs__item",active:"tabs__item_active",line:!1,historyKey:"section"},v=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=f(this,d(e).call(this))).options=function(t){for(var e=1;e<arguments.length;e++)if(e%2){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){u(t,e,n[e])})}else Object.defineProperties(t,Object.getOwnPropertyDescriptors(arguments[e]));return t}({},h,{},n),r.el=t,r.tabsList=Object(i.l)(r.options.tabListSelector,t),r.options.preventInit||r.init(),r}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,s["a"]),n=e,(r=[{key:"init",value:function(){if(this.el){var t=Object(i.l)(".".concat(this.options.active),this.tabsList);if(this.options.history){var e=Object(s.g)();t=Object(i.l)('[data-key="'.concat(e[this.options.historyKey],'"]'),this.tabsList)}t||(t=Object(i.l)(".".concat(this.options.active),this.tabsList)),t||(t=Object(i.l)(this.options.tabItemSelector,this.tabsList)),this.onTabClick(null,t),this.bindEvents(),this.options.line&&this.tabsList&&new a.a(this.tabsList)}}},{key:"bindEvents",value:function(){Object(i.a)(this.tabsList,"click",this.options.tabItemSelector,this.onTabClick.bind(this)),this.options.history&&Object(i.c)(window,"popstate",this.onPopState)}},{key:"onTabClick",value:function(t,e){if(e){var n=Object(i.h)(e,e.parentNode),r=Object(i.f)(e,"data-key");if(this.showContent(n),this.setActiveTab(e),this.options.history&&r){var a=this.options.historyKey,c=u({},a,r),l=Object(s.g)();l[a]=r;var f="".concat(location.pathname,"?").concat(o.a.stringify(l));window.history.replaceState(c,null,f)}this.emit("changed",{index:n,name:r})}}},{key:"onPopState",value:function(){}},{key:"showContent",value:function(t){var e=Object(i.l)(".".concat("tabs__content_show"),this.el),n=Object(i.m)(this.options.tabContentSelector,this.el);e&&i.g.remove(e,"tabs__content_show"),requestAnimationFrame(function(){i.g.add(n[t],"tabs__content_show")})}},{key:"setActiveTab",value:function(t){var e=this.options.active,n=Object(i.l)(".".concat(e),this.tabsList);n&&i.g.remove(n,e),i.g.add(t,e)}}])&&l(n.prototype,r),c&&l(n,c),e}();e.a=v},wSKX:function(t,e){t.exports=function(t){return t}},whWw:function(t,e,n){var r=n("HAas");t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},wjiB:function(t,e,n){var r=n("r54x");t.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},wzd1:function(t,e,n){var r=n("l/2K"),o=n("EJk4"),i=n("siPu"),a=n("HVdB"),s=i("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},"x/oW":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"AppDialogClose",inject:["Dialog"],methods:{close:function(){this.$dialog.close(this.Dialog.index)}}}},xA5w:function(t,e,n){var r=n("z4BQ"),o=n("607n"),i=36e5,a=6e4,s=2,c=/[T ]/,u=/:/,l=/^(\d{2})$/,f=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],d=/^(\d{4})/,p=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],h=/^-(\d{2})$/,v=/^-?(\d{3})$/,m=/^-?(\d{2})-?(\d{2})$/,g=/^-?W(\d{2})$/,b=/^-?W(\d{2})-?(\d{1})$/,y=/^(\d{2}([.,]\d*)?)$/,_=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,O=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,w=/([Z+-].*)$/,x=/^(Z)$/,k=/^([+-])(\d{2})$/,j=/^([+-])(\d{2}):?(\d{2})$/;function C(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var o=7*e+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}t.exports=function(t,e){if(o(t))return new Date(t.getTime());if("string"!=typeof t)return new Date(t);var n=(e||{}).additionalDigits;n=null==n?s:Number(n);var E=function(t){var e,n={},r=t.split(c);if(u.test(r[0])?(n.date=null,e=r[0]):(n.date=r[0],e=r[1]),e){var o=w.exec(e);o?(n.time=e.replace(o[1],""),n.timezone=o[1]):n.time=e}return n}(t),P=function(t,e){var n,r=f[e],o=p[e];if(n=d.exec(t)||o.exec(t)){var i=n[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(n=l.exec(t)||r.exec(t)){var a=n[1];return{year:100*parseInt(a,10),restDateString:t.slice(a.length)}}return{year:null}}(E.date,n),S=P.year,A=function(t,e){if(null===e)return null;var n,r,o,i;if(0===t.length)return(r=new Date(0)).setUTCFullYear(e),r;if(n=h.exec(t))return r=new Date(0),o=parseInt(n[1],10)-1,r.setUTCFullYear(e,o),r;if(n=v.exec(t)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(e,0,a),r}if(n=m.exec(t)){r=new Date(0),o=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return r.setUTCFullYear(e,o,s),r}if(n=g.exec(t))return i=parseInt(n[1],10)-1,C(e,i);if(n=b.exec(t)){i=parseInt(n[1],10)-1;var c=parseInt(n[2],10)-1;return C(e,i,c)}return null}(P.restDateString,S);if(A){var T,N=A.getTime(),L=0;if(E.time&&(L=function(t){var e,n,r;if(e=y.exec(t))return(n=parseFloat(e[1].replace(",",".")))%24*i;if(e=_.exec(t))return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),n%24*i+r*a;if(e=O.exec(t)){n=parseInt(e[1],10),r=parseInt(e[2],10);var o=parseFloat(e[3].replace(",","."));return n%24*i+r*a+1e3*o}return null}(E.time)),E.timezone)R=E.timezone,T=((B=x.exec(R))?0:(B=k.exec(R))?(F=60*parseInt(B[2],10),"+"===B[1]?-F:F):(B=j.exec(R))?(F=60*parseInt(B[2],10)+parseInt(B[3],10),"+"===B[1]?-F:F):0)*a;else{var M=N+L,I=new Date(M);T=r(I);var D=new Date(M);D.setDate(I.getDate()+1);var q=r(D)-r(I);q>0&&(T+=q)}return new Date(N+L+T)}var R,B,F;return new Date(t)}},xDUa:function(t,e,n){var r=n("mWhC"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},xKHF:function(t,e){},xond:function(t,e,n){var r=n("FCuZ"),o=n("09Qt"),i=n("t8rQ");t.exports=function(t){return r(t,i,o)}},y9NZ:function(t,e,n){t.exports=n("DxBg")},yCNF:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},yLpN:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("vue-modal",{attrs:{id:"bookmark-change-status-modal",type:"bottom-sheet",title:"Добавить в список","close-icon":""}},[e("bookmark-folders-list",{attrs:{folders:this.filteredFolders,"show-deletion-button":this.showDeletionButton},on:{selected:this.changeStatus,created:this.folderCreated}})],1)},staticRenderFns:[]}},"yPE/":function(t,e,n){(function(e){var n;"undefined"!=typeof self&&self,n=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=109)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),o=n(18),i=n(19),a=n(45),s=n(46),c=n(47),u=n(48),l=n(49),f=n(12),d=n(32),p=n(33),h=n(31),v=n(1),m={Scope:v.Scope,create:v.create,find:v.find,query:v.query,register:v.register,Container:r.default,Format:o.default,Leaf:i.default,Embed:u.default,Scroll:a.default,Block:c.default,Inline:s.default,Text:l.default,Attributor:{Attribute:f.default,Class:d.default,Style:p.default,Store:h.default}};e.default=m},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=this;return e="[Parchment] "+e,(n=t.call(this,e)||this).message=e,n.name=n.constructor.name,n}return o(e,t),e}(Error);e.ParchmentError=i;var a,s={},c={},u={},l={};function f(t,e){var n;if(void 0===e&&(e=a.ANY),"string"==typeof t)n=l[t]||s[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)n=l.text;else if("number"==typeof t)t&a.LEVEL&a.BLOCK?n=l.block:t&a.LEVEL&a.INLINE&&(n=l.inline);else if(t instanceof HTMLElement){var r=(t.getAttribute("class")||"").split(/\s+/);for(var o in r)if(n=c[r[o]])break;n=n||u[t.tagName]}return null==n?null:e&a.LEVEL&n.scope&&e&a.TYPE&n.scope?n:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(a=e.Scope||(e.Scope={})),e.create=function(t,e){var n=f(t);if(null==n)throw new i("Unable to create "+t+" blot");var r=n;return new r(t instanceof Node||t.nodeType===Node.TEXT_NODE?t:r.create(e),e)},e.find=function t(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[e.DATA_KEY]?n[e.DATA_KEY].blot:r?t(n.parentNode,r):null},e.query=f,e.register=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map(function(e){return t(e)});var r=e[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new i("Invalid definition");if("abstract"===r.blotName)throw new i("Cannot register abstract class");l[r.blotName||r.attrName]=r,"string"==typeof r.keyName?s[r.keyName]=r:(null!=r.className&&(c[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(function(t){return t.toUpperCase()}):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(function(t){null!=u[t]&&null!=r.className||(u[t]=r)})));return r}},function(t,e,n){var r=n(51),o=n(11),i=n(3),a=n(20),s=String.fromCharCode(0),c=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};c.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},c.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},c.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},c.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=i(!0,{},t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&(e-=1,"object"!=typeof(n=this.ops[e-1])))return this.ops.unshift(t),this;if(o(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},c.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},c.prototype.filter=function(t){return this.ops.filter(t)},c.prototype.forEach=function(t){this.ops.forEach(t)},c.prototype.map=function(t){return this.ops.map(t)},c.prototype.partition=function(t){var e=[],n=[];return this.forEach(function(r){(t(r)?e:n).push(r)}),[e,n]},c.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},c.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+a.length(e):e.delete?t-e.delete:t},0)},c.prototype.length=function(){return this.reduce(function(t,e){return t+a.length(e)},0)},c.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var n=[],r=a.iterator(this.ops),o=0;o<e&&r.hasNext();){var i;o<t?i=r.next(t-o):(i=r.next(e-o),n.push(i)),o+=a.length(i)}return new c(n)},c.prototype.compose=function(t){var e=a.iterator(this.ops),n=a.iterator(t.ops),r=[],i=n.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var s=i.retain;"insert"===e.peekType()&&e.peekLength()<=s;)s-=e.peekLength(),r.push(e.next());i.retain-s>0&&n.next(i.retain-s)}for(var u=new c(r);e.hasNext()||n.hasNext();)if("insert"===n.peekType())u.push(n.next());else if("delete"===e.peekType())u.push(e.next());else{var l=Math.min(e.peekLength(),n.peekLength()),f=e.next(l),d=n.next(l);if("number"==typeof d.retain){var p={};"number"==typeof f.retain?p.retain=l:p.insert=f.insert;var h=a.attributes.compose(f.attributes,d.attributes,"number"==typeof f.retain);if(h&&(p.attributes=h),u.push(p),!n.hasNext()&&o(u.ops[u.ops.length-1],p)){var v=new c(e.rest());return u.concat(v).chop()}}else"number"==typeof d.delete&&"number"==typeof f.retain&&u.push(d)}return u.chop()},c.prototype.concat=function(t){var e=new c(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},c.prototype.diff=function(t,e){if(this.ops===t.ops)return new c;var n=[this,t].map(function(e){return e.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")}).join("")}),i=new c,u=r(n[0],n[1],e),l=a.iterator(this.ops),f=a.iterator(t.ops);return u.forEach(function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case r.INSERT:n=Math.min(f.peekLength(),e),i.push(f.next(n));break;case r.DELETE:n=Math.min(e,l.peekLength()),l.next(n),i.delete(n);break;case r.EQUAL:n=Math.min(l.peekLength(),f.peekLength(),e);var s=l.next(n),c=f.next(n);o(s.insert,c.insert)?i.retain(n,a.attributes.diff(s.attributes,c.attributes)):i.push(c).delete(n)}e-=n}}),i.chop()},c.prototype.eachLine=function(t,e){e=e||"\n";for(var n=a.iterator(this.ops),r=new c,o=0;n.hasNext();){if("insert"!==n.peekType())return;var i=n.peek(),s=a.length(i)-n.peekLength(),u="string"==typeof i.insert?i.insert.indexOf(e,s)-s:-1;if(u<0)r.push(n.next());else if(u>0)r.push(n.next(u));else{if(!1===t(r,n.next(1).attributes||{},o))return;o+=1,r=new c}}r.length()>0&&t(r,{},o)},c.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var n=a.iterator(this.ops),r=a.iterator(t.ops),o=new c;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!e&&"insert"===r.peekType())if("insert"===r.peekType())o.push(r.next());else{var i=Math.min(n.peekLength(),r.peekLength()),s=n.next(i),u=r.next(i);if(s.delete)continue;u.delete?o.push(u):o.retain(i,a.attributes.transform(s.attributes,u.attributes,e))}else o.retain(a.length(n.next()));return o.chop()},c.prototype.transformPosition=function(t,e){e=!!e;for(var n=a.iterator(this.ops),r=0;n.hasNext()&&r<=t;){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<t||!e)&&(t+=o),r+=o):t-=Math.min(o,t-r)}return t},t.exports=c},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},s=function(t){if(!t||"[object Object]"!==r.call(t))return!1;var e,o=n.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!o&&!i)return!1;for(e in t);return void 0===e||n.call(t,e)},c=function(t,e){o&&"__proto__"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},u=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(i)return i(t,e).value}return t[e]};t.exports=function t(){var e,n,r,o,i,l,f=arguments[0],d=1,p=arguments.length,h=!1;for("boolean"==typeof f&&(h=f,f=arguments[1]||{},d=2),(null==f||"object"!=typeof f&&"function"!=typeof f)&&(f={});d<p;++d)if(null!=(e=arguments[d]))for(n in e)r=u(f,n),f!==(o=u(e,n))&&(h&&o&&(s(o)||(i=a(o)))?(i?(i=!1,l=r&&a(r)?r:[]):l=r&&s(r)?r:{},c(f,{name:n,newValue:t(h,l,o)})):void 0!==o&&c(f,{name:n,newValue:o}));return f}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=f(n(3)),a=f(n(2)),s=f(n(0)),c=f(n(16)),u=f(n(6)),l=f(n(7));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(){return d(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,s.default.Embed),r(e,[{key:"attach",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=s.default.query(t,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,r){this.format(n,r)}},{key:"insertAt",value:function(t,n,r){if("string"==typeof n&&n.endsWith("\n")){var i=s.default.create(m.blotName);this.parent.insertBefore(i,0===t?this:this.next),i.insertAt(0,n.slice(0,-1))}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r)}}]),e}();v.scope=s.default.Scope.BLOCK_BLOT;var m=function(t){function e(t){d(this,e);var n=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return h(e,s.default.Block),r(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce(function(t,e){return 0===e.length()?t:t.insert(e.value(),g(e))},new a.default).insert("\n",g(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,r,i){n<=0||(s.default.query(r,s.default.Scope.BLOCK)?t+n===this.length()&&this.format(r,i):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),r,i),this.cache={})}},{key:"insertAt",value:function(t,n,r){if(null!=r)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r);if(0!==n.length){var i=n.split("\n"),a=i.shift();a.length>0&&(t<this.length()-1||null==this.children.tail?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;i.reduce(function(t,e){return(s=s.split(t,!0)).insertAt(0,e),e.length},t+a.length)}}},{key:"insertBefore",value:function(t,n){var r=this.children.head;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),r instanceof c.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-1)){var r=this.clone();return 0===t?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var i=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},i}}]),e}();function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=(0,i.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:g(t.parent,e))}m.blotName="block",m.tagName="P",m.defaultChild="break",m.allowedChildren=[u.default,s.default.Embed,l.default],e.bubbleFormats=g,e.BlockEmbed=v,e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(50);var a=m(n(2)),s=m(n(14)),c=m(n(8)),u=m(n(9)),l=m(n(0)),f=n(15),d=m(f),p=m(n(3)),h=m(n(10)),v=m(n(34));function m(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=(0,h.default)("quill"),y=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=_(e,r),this.container=this.options.container,null==this.container)return b.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new c.default,this.scroll=l.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new d.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(c.default.events.EDITOR_CHANGE,function(t){t===c.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())}),this.emitter.on(c.default.events.SCROLL_UPDATE,function(t,e){var r=n.selection.lastRange,o=r&&0===r.length?r.index:void 0;O.call(n,function(){return n.editor.update(null,e,o)},t)});var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),h.default.level(t)}},{key:"find",value:function(t){return t.__quill||l.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&b.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var o=t.attrName||t.blotName;"string"==typeof o?this.register("formats/"+o,t,e):Object.keys(t).forEach(function(r){n.register(r,t[r],e)})}else null==this.imports[t]||r||b.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?l.default.register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}}]),i(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var r=this,i=w(t,e,n),a=o(i,4);return t=a[0],e=a[1],n=a[3],O.call(this,function(){return r.editor.deleteText(t,e)},n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;return O.call(this,function(){var r=n.getSelection(!0),o=new a.default;if(null==r)return o;if(l.default.query(t,l.default.Scope.BLOCK))o=n.editor.formatLine(r.index,r.length,g({},t,e));else{if(0===r.length)return n.selection.format(t,e),o;o=n.editor.formatText(r.index,r.length,g({},t,e))}return n.setSelection(r,c.default.sources.SILENT),o},r)}},{key:"formatLine",value:function(t,e,n,r,i){var a,s=this,c=w(t,e,n,r,i),u=o(c,4);return t=u[0],e=u[1],a=u[2],i=u[3],O.call(this,function(){return s.editor.formatLine(t,e,a)},i,t,0)}},{key:"formatText",value:function(t,e,n,r,i){var a,s=this,c=w(t,e,n,r,i),u=o(c,4);return t=u[0],e=u[1],a=u[2],i=u[3],O.call(this,function(){return s.editor.formatText(t,e,a)},i,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=w(t,e),r=o(n,2);return t=r[0],e=r[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=w(t,e),r=o(n,2);return t=r[0],e=r[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return O.call(this,function(){return o.editor.insertEmbed(e,n,r)},i,e)}},{key:"insertText",value:function(t,e,n,r,i){var a,s=this,c=w(t,0,n,r,i),u=o(c,4);return t=u[0],a=u[2],i=u[3],O.call(this,function(){return s.editor.insertText(t,e,a)},i,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var r=this,i=w(t,e,n),a=o(i,4);return t=a[0],e=a[1],n=a[3],O.call(this,function(){return r.editor.removeFormat(t,e)},n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API;return O.call(this,function(){t=new a.default(t);var n=e.getLength(),r=e.editor.deleteText(0,n),o=e.editor.applyDelta(t),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),o.delete(1)),r.compose(o)},n)}},{key:"setSelection",value:function(e,n,r){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var i=w(e,n,r),a=o(i,4);e=a[0],n=a[1],r=a[3],this.selection.setRange(new f.Range(e,n),r),r!==c.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API,n=(new a.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API;return O.call(this,function(){return t=new a.default(t),e.editor.applyDelta(t,n)},n,!0)}}]),t}();function _(t,e){if((e=(0,p.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==y.DEFAULTS.theme){if(e.theme=y.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=v.default;var n=(0,p.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach(function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach(function(e){!0===t.modules[e]&&(t.modules[e]={})})});var r=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce(function(t,e){var n=y.import("modules/"+e);return null==n?b.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t},{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,p.default)(!0,{},y.DEFAULTS,{modules:r},n,e),["bounds","container","scrollingContainer"].forEach(function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),e.modules=Object.keys(e.modules).reduce(function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t},{}),e}function O(t,e,n,r){if(this.options.strict&&!this.isEnabled()&&e===c.default.sources.USER)return new a.default;var o=null==n?null:this.getSelection(),i=this.editor.delta,s=t();if(null!=o&&(!0===n&&(n=o.index),null==r?o=x(o,s,e):0!==r&&(o=x(o,n,r,e)),this.setSelection(o,c.default.sources.SILENT)),s.length()>0){var u,l,f=[c.default.events.TEXT_CHANGE,s,i,e];if((u=this.emitter).emit.apply(u,[c.default.events.EDITOR_CHANGE].concat(f)),e!==c.default.sources.SILENT)(l=this.emitter).emit.apply(l,f)}return s}function w(t,e,n,o,i){var a={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(i=o,o=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(i=o,o=n,n=e,e=0),"object"===(void 0===n?"undefined":r(n))?(a=n,i=o):"string"==typeof n&&(null!=o?a[n]=o:i=n),[t,e,a,i=i||c.default.sources.API]}function x(t,e,n,r){if(null==t)return null;var i=void 0,s=void 0;if(e instanceof a.default){var u=[t.index,t.index+t.length].map(function(t){return e.transformPosition(t,r!==c.default.sources.USER)}),l=o(u,2);i=l[0],s=l[1]}else{var d=[t.index,t.index+t.length].map(function(t){return t<e||t===e&&r===c.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)}),p=o(d,2);i=p[0],s=p[1]}return new f.Range(i,s-i)}y.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},y.events=c.default.events,y.sources=c.default.sources,y.version="1.3.7",y.imports={delta:a.default,parchment:l.default,"core/module":u.default,"core/theme":v.default},e.expandConfig=_,e.overload=w,e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=s(n(7)),a=s(n(0));function s(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Inline),r(e,[{key:"formatAt",value:function(t,n,r,i){if(e.compare(this.statics.blotName,r)<0&&a.default.query(r,a.default.Scope.BLOT)){var s=this.isolate(t,n);i&&s.wrap(r,i)}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,i)}},{key:"optimize",value:function(t){if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(t,n){var r=e.order.indexOf(t),o=e.order.indexOf(n);return r>=0||o>=0?r-o:t===n?0:t<n?-1:1}}]),e}();c.allowedChildren=[c,a.default.Embed,i.default],c.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Text),e}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=i(n(54));function i(t){return t&&t.__esModule?t:{default:t}}var a=(0,i(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(t){document.addEventListener(t,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)})})});var s=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",a.error),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),r(e,[{key:"emit",value:function(){a.log.apply(a,arguments),function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(this.listeners[t.type]||[]).forEach(function(e){var r=e.node,o=e.handler;(t.target===r||r.contains(t.target))&&o.apply(void 0,[t].concat(n))})}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}();s.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},s.sources={API:"api",SILENT:"silent",USER:"user"},e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n};r.DEFAULTS={},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["error","warn","log","info"],o="warn";function i(t){if(r.indexOf(t)<=r.indexOf(o)){for(var e,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(e=console)[t].apply(e,i)}}function a(t){return r.reduce(function(e,n){return e[n]=i.bind(console,n,t),e},{})}i.level=a.level=function(t){o=t},e.default=a},function(t,e,n){var r=Array.prototype.slice,o=n(52),i=n(53),a=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var u,l;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t))return!!i(e)&&(t=r.call(t),e=r.call(e),a(t,e,n));if(c(t)){if(!c(e))return!1;if(t.length!==e.length)return!1;for(u=0;u<t.length;u++)if(t[u]!==e[u])return!1;return!0}try{var f=o(t),d=o(e)}catch(t){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),u=f.length-1;u>=0;u--)if(f[u]!=d[u])return!1;for(u=f.length-1;u>=0;u--)if(l=f[u],!a(t[l],e[l],n))return!1;return typeof t==typeof e}(t,e,n))};function s(t){return null===t||void 0===t}function c(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var o=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|o:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,function(t){return t.name})},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=r.query(t,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=f(n(2)),s=f(n(0)),c=f(n(4)),u=f(n(6)),l=f(n(7));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(){return d(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,u.default),e}();v.blotName="code",v.tagName="CODE";var m=function(t){function e(){return d(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return h(e,c.default),o(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce(function(e,n){return e.insert(n).insert("\n",t.formats())},new a.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var o=this.descendant(l.default,this.length()-1),a=r(o,1)[0];null!=a&&a.deleteAt(a.length()-1,1),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,r,o){if(0!==n&&null!=s.default.query(r,s.default.Scope.BLOCK)&&(r!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(t);if(!(i<0||i>=t+n)){var a=this.newlineIndex(t,!0)+1,c=i-a+1,u=this.isolate(a,c),l=u.next;u.format(r,o),l instanceof e&&l.formatAt(0,t-a+n-c,r,o)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var o=this.descendant(l.default,t),i=r(o,2),a=i[0],s=i[1];a.insertAt(s,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var e=this.domNode.textContent.slice(t).indexOf("\n");return e>-1?t+e:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(t){var e=s.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof s.default.Embed?e.remove():e.unwrap()})}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),e}();m.blotName="code-block",m.tagName="PRE",m.TAB="  ",e.Code=v,e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=g(n(2)),s=g(n(20)),c=g(n(0)),u=g(n(13)),l=g(n(24)),f=n(4),d=g(f),p=g(n(16)),h=g(n(21)),v=g(n(11)),m=g(n(3));function g(t){return t&&t.__esModule?t:{default:t}}var b=/^[ -~]*$/,y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta()}return i(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce(function(t,e){if(1===e.insert){var n=(0,h.default)(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=(0,h.default)(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var r=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(r,e.attributes)}return t.push(e)},new a.default)}(t)).reduce(function(t,a){var u=a.retain||a.delete||a.insert.length||1,l=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var p=a.insert;p.endsWith("\n")&&n&&(n=!1,p=p.slice(0,-1)),t>=i&&!p.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,p);var h=e.scroll.line(t),v=o(h,2),g=v[0],b=v[1],y=(0,m.default)({},(0,f.bubbleFormats)(g));if(g instanceof d.default){var _=g.descendant(c.default.Leaf,b),O=o(_,1)[0];y=(0,m.default)(y,(0,f.bubbleFormats)(O))}l=s.default.attributes.diff(y,l)||{}}else if("object"===r(a.insert)){var w=Object.keys(a.insert)[0];if(null==w)return t;e.scroll.insertAt(t,w,a.insert[w])}i+=u}return Object.keys(l).forEach(function(n){e.scroll.formatAt(t,u,n,l[n])}),t+u},0),t.reduce(function(t,n){return"number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)},0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new a.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach(function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var i=n.scroll.lines(t,Math.max(e,1)),a=e;i.forEach(function(e){var i=e.length();if(e instanceof u.default){var s=t-e.offset(n.scroll),c=e.newlineIndex(s+a)-s+1;e.formatAt(s,c,o,r[o])}else e.format(o,r[o]);a-=i})}}),this.scroll.optimize(),this.update((new a.default).retain(t).retain(e,(0,h.default)(r)))}},{key:"formatText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach(function(o){n.scroll.formatAt(t,e,o,r[o])}),this.update((new a.default).retain(t).retain(e,(0,h.default)(r)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(t,e){return t.concat(e.delta())},new a.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===e?this.scroll.path(t).forEach(function(t){var e=o(t,1)[0];e instanceof d.default?n.push(e):e instanceof c.default.Leaf&&r.push(e)}):(n=this.scroll.lines(t,e),r=this.scroll.descendants(c.default.Leaf,t,e));var i=[n,r].map(function(t){if(0===t.length)return{};for(var e=(0,f.bubbleFormats)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=_((0,f.bubbleFormats)(n),e)}return e});return m.default.apply(m.default,i)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter(function(t){return"string"==typeof t.insert}).map(function(t){return t.insert}).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new a.default).retain(t).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(r).forEach(function(o){n.scroll.formatAt(t,e.length,o,r[o])}),this.update((new a.default).retain(t).insert(e,(0,h.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===d.default.blotName&&(!(t.children.length>1)&&t.children.head instanceof p.default)}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),r=this.scroll.line(t+e),i=o(r,2),s=i[0],c=i[1],l=0,f=new a.default;null!=s&&(l=s instanceof u.default?s.newlineIndex(c)-c+1:s.length()-c,f=s.delta().slice(c,c+l-1).insert("\n"));var d=this.getContents(t,e+l).diff((new a.default).insert(n).concat(f)),p=(new a.default).retain(t).concat(d);return this.applyDelta(p)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(b)&&c.default.find(e[0].target)){var o=c.default.find(e[0].target),i=(0,f.bubbleFormats)(o),s=o.offset(this.scroll),u=e[0].oldValue.replace(l.default.CONTENTS,""),d=(new a.default).insert(u),p=(new a.default).insert(o.value());t=(new a.default).retain(s).concat(d.diff(p,n)).reduce(function(t,e){return e.insert?t.insert(e.insert,i):t.push(e)},new a.default),this.delta=r.compose(t)}else this.delta=this.getDelta(),t&&(0,v.default)(r.compose(t),this.delta)||(t=r.diff(this.delta,n));return t}}]),t}();function _(t,e){return Object.keys(e).reduce(function(n,r){return null==t[r]?n:(e[r]===t[r]?n[r]=e[r]:Array.isArray(e[r])?e[r].indexOf(t[r])<0&&(n[r]=e[r].concat([t[r]])):n[r]=[e[r],t[r]],n)},{})}e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(0)),a=u(n(21)),s=u(n(11)),c=u(n(8));function u(t){return t&&t.__esModule?t:{default:t}}function l(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d=(0,u(n(10)).default)("quill:selection"),p=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this.index=e,this.length=n},h=function(){function t(e,n){var r=this;f(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new p(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){r.mouseDown||setTimeout(r.update.bind(r,c.default.sources.USER),1)}),this.emitter.on(c.default.events.EDITOR_CHANGE,function(t,e){t===c.default.events.TEXT_CHANGE&&e.length()>0&&r.update(c.default.sources.SILENT)}),this.emitter.on(c.default.events.SCROLL_BEFORE_UPDATE,function(){if(r.hasFocus()){var t=r.getNativeRange();null!=t&&t.start.node!==r.cursor.textNode&&r.emitter.once(c.default.events.SCROLL_UPDATE,function(){try{r.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}})}}),this.emitter.on(c.default.events.SCROLL_OPTIMIZE,function(t,e){if(e.range){var n=e.range,o=n.startNode,i=n.startOffset,a=n.endNode,s=n.endOffset;r.setNativeRange(o,i,a,s)}}),this.update(c.default.sources.SILENT)}return o(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",function(){t.composing=!0}),this.root.addEventListener("compositionend",function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout(function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,function(){t.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){t.mouseDown=!1,t.update(c.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!i.default.query(t,i.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=i.default.find(n.start.node,!1);if(null==r)return;if(r instanceof i.default.Leaf){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var o=void 0,i=this.scroll.leaf(t),a=r(i,2),s=a[0],c=a[1];if(null==s)return null;var u=s.position(c,!0),l=r(u,2);o=l[0],c=l[1];var f=document.createRange();if(e>0){f.setStart(o,c);var d=this.scroll.leaf(t+e),p=r(d,2);if(s=p[0],c=p[1],null==s)return null;var h=s.position(c,!0),v=r(h,2);return o=v[0],c=v[1],f.setEnd(o,c),f.getBoundingClientRect()}var m="left",g=void 0;return o instanceof Text?(c<o.data.length?(f.setStart(o,c),f.setEnd(o,c+1)):(f.setStart(o,c-1),f.setEnd(o,c),m="right"),g=f.getBoundingClientRect()):(g=s.domNode.getBoundingClientRect(),c>0&&(m="right")),{bottom:g.top+g.height,height:g.height,left:g[m],right:g[m],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return d.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var o=n.map(function(t){var n=r(t,2),o=n[0],a=n[1],s=i.default.find(o,!0),c=s.offset(e.scroll);return 0===a?c:s instanceof i.default.Container?c+s.length():c+s.index(o,a)}),a=Math.min(Math.max.apply(Math,l(o)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(l(o)));return new p(s,a-s)}},{key:"normalizeNative",value:function(t){if(!v(this.root,t.startContainer)||!t.collapsed&&!v(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n}),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],o=[],i=this.scroll.length();return n.forEach(function(t,n){t=Math.min(i-1,t);var a,s=e.scroll.leaf(t),c=r(s,2),u=c[0],l=c[1],f=u.position(l,0!==n),d=r(f,2);a=d[0],l=d[1],o.push(a,l)}),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var o=this.scroll.length()-1,i=this.scroll.line(Math.min(e.index,o)),a=r(i,1)[0],s=a;if(e.length>0){var c=this.scroll.line(Math.min(e.index+e.length,o));s=r(c,1)[0]}if(null!=a&&null!=s){var u=t.getBoundingClientRect();n.top<u.top?t.scrollTop-=u.top-n.top:n.bottom>u.bottom&&(t.scrollTop+=n.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(d.info("setNativeRange",t,e,n,r),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i)if(null!=t){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||t!==a.startContainer||e!==a.startOffset||n!==a.endContainer||r!==a.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(t,e),s.setEnd(n,r),i.removeAllRanges(),i.addRange(s)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"==typeof e&&(n=e,e=!1),d.info("setRange",t),null!=t){var r=this.rangeToNative(t);this.setNativeRange.apply(this,l(r).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.sources.USER,e=this.lastRange,n=this.getRange(),o=r(n,2),i=o[0],u=o[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(e,this.lastRange)){var l;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var f,d=[c.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(e),t];if((l=this.emitter).emit.apply(l,[c.default.events.EDITOR_CHANGE].concat(d)),t!==c.default.sources.SILENT)(f=this.emitter).emit.apply(f,d)}}}]),t}();function v(t,e){try{e.parentNode}catch(t){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=p,e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r};var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Embed),o(e,[{key:"insertInto",value:function(t,n){0===t.children.length?function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}();s.blotName="break",s.tagName="BR",e.default=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(44),a=n(30),s=n(1),c=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return o(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.build=function(){var t=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(e){try{var n=u(e);t.insertBefore(n,t.children.head||void 0)}catch(t){if(t instanceof s.ParchmentError)return;throw t}})},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,function(t,e,n){t.deleteAt(e,n)})},e.prototype.descendant=function(t,n){var r=this.children.find(n),o=r[0],i=r[1];return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,i]:o instanceof e?o.descendant(t,i):[null,-1]},e.prototype.descendants=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var o=[],i=r;return this.children.forEachAt(n,r,function(n,r,a){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&o.push(n),n instanceof e&&(o=o.concat(n.descendants(t,r,i))),i-=a}),o},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,r){this.children.forEachAt(t,e,function(t,e,o){t.formatAt(e,o,n,r)})},e.prototype.insertAt=function(t,e,n){var r=this.children.find(t),o=r[0],i=r[1];if(o)o.insertAt(i,e,n);else{var a=null==n?s.create("text",e):s.create(e,n);this.appendChild(a)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(e){return t instanceof e}))throw new s.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce(function(t,e){return t+e.length()},0)},e.prototype.moveChildren=function(t,e){this.children.forEach(function(n){t.insertBefore(n,e)})},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var r=this.children.find(t,n),o=r[0],i=r[1],a=[[this,t]];return o instanceof e?a.concat(o.path(i,n)):(null!=o&&a.push([o,i]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),function(t,r,o){t=t.split(r,e),n.appendChild(t)}),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,r=[],o=[];t.forEach(function(t){t.target===n.domNode&&"childList"===t.type&&(r.push.apply(r,t.addedNodes),o.push.apply(o,t.removedNodes))}),o.forEach(function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=s.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}}),r.filter(function(t){return t.parentNode==n.domNode}).sort(function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(t){var e=null;null!=t.nextSibling&&(e=s.find(t.nextSibling));var r=u(t);r.next==e&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,e||void 0))})},e}(a.default);function u(t){var e=s.find(t);if(null==e)try{e=s.create(t)}catch(n){e=s.create(s.Scope.INLINE),[].slice.call(t.childNodes).forEach(function(t){e.domNode.appendChild(t)}),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),a=n(31),s=n(17),c=n(1),u=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new a.default(n.domNode),n}return o(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=c.query(t);n instanceof i.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var r=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(r),r},e.prototype.update=function(e,n){var r=this;t.prototype.update.call(this,e,n),e.some(function(t){return t.target===r.domNode&&"attributes"===t.type})&&this.attributes.build()},e.prototype.wrap=function(n,r){var o=t.prototype.wrap.call(this,n,r);return o instanceof e&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},e}(s.default);e.default=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=a.Scope.INLINE_BLOT,e}(i.default);e.default=s},function(t,e,n){var r=n(11),o=n(3),i={attributes:{compose:function(t,e,n){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var r=o(!0,{},e);for(var i in n||(r=Object.keys(r).reduce(function(t,e){return null!=r[e]&&(t[e]=r[e]),t},{})),t)void 0!==t[i]&&void 0===e[i]&&(r[i]=t[i]);return Object.keys(r).length>0?r:void 0},diff:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce(function(n,o){return r(t[o],e[o])||(n[o]=void 0===e[o]?null:e[o]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var r=Object.keys(e).reduce(function(n,r){return void 0===t[r]&&(n[r]=e[r]),n},{});return Object.keys(r).length>0?r:void 0}}},iterator:function(t){return new a(t)},length:function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};function a(t){this.ops=t,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,r=i.length(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:"string"==typeof e.insert?o.insert=e.insert.substr(n,t):o.insert=e.insert,o}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}return[]},t.exports=i},function(t,n){var r=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var n,r,o;try{n=Map}catch(t){n=function(){}}try{r=Set}catch(t){r=function(){}}try{o=Promise}catch(t){o=function(){}}function i(a,c,u,l,f){"object"==typeof c&&(u=c.depth,l=c.prototype,f=c.includeNonEnumerable,c=c.circular);var d=[],p=[],h=void 0!==e;return void 0===c&&(c=!0),void 0===u&&(u=1/0),function a(u,v){if(null===u)return null;if(0===v)return u;var m,g;if("object"!=typeof u)return u;if(t(u,n))m=new n;else if(t(u,r))m=new r;else if(t(u,o))m=new o(function(t,e){u.then(function(e){t(a(e,v-1))},function(t){e(a(t,v-1))})});else if(i.__isArray(u))m=[];else if(i.__isRegExp(u))m=new RegExp(u.source,s(u)),u.lastIndex&&(m.lastIndex=u.lastIndex);else if(i.__isDate(u))m=new Date(u.getTime());else{if(h&&e.isBuffer(u))return m=e.allocUnsafe?e.allocUnsafe(u.length):new e(u.length),u.copy(m),m;t(u,Error)?m=Object.create(u):void 0===l?(g=Object.getPrototypeOf(u),m=Object.create(g)):(m=Object.create(l),g=l)}if(c){var b=d.indexOf(u);if(-1!=b)return p[b];d.push(u),p.push(m)}for(var y in t(u,n)&&u.forEach(function(t,e){var n=a(e,v-1),r=a(t,v-1);m.set(n,r)}),t(u,r)&&u.forEach(function(t){var e=a(t,v-1);m.add(e)}),u){var _;g&&(_=Object.getOwnPropertyDescriptor(g,y)),_&&null==_.set||(m[y]=a(u[y],v-1))}if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(u);for(y=0;y<O.length;y++){var w=O[y];(!(k=Object.getOwnPropertyDescriptor(u,w))||k.enumerable||f)&&(m[w]=a(u[w],v-1),k.enumerable||Object.defineProperty(m,w,{enumerable:!1}))}}if(f){var x=Object.getOwnPropertyNames(u);for(y=0;y<x.length;y++){var k,j=x[y];(k=Object.getOwnPropertyDescriptor(u,j))&&k.enumerable||(m[j]=a(u[j],v-1),Object.defineProperty(m,j,{enumerable:!1}))}}return m}(a,u)}function a(t){return Object.prototype.toString.call(t)}function s(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return i.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},i.__objToStr=a,i.__isDate=function(t){return"object"==typeof t&&"[object Date]"===a(t)},i.__isArray=function(t){return"object"==typeof t&&"[object Array]"===a(t)},i.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===a(t)},i.__getRegExpFlags=s,i}();"object"==typeof t&&t.exports&&(t.exports=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=p(n(0)),s=p(n(8)),c=n(4),u=p(c),l=p(n(16)),f=p(n(13)),d=p(n(25));function p(t){return t&&t.__esModule?t:{default:t}}function h(t){return t instanceof u.default||t instanceof c.BlockEmbed}var v=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce(function(t,e){return t[e]=!0,t},{})),r.domNode.addEventListener("DOMNodeInserted",function(){}),r.optimize(),r.enable(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Scroll),o(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,n){var o=this.line(t),a=r(o,2),s=a[0],u=a[1],d=this.line(t+n),p=r(d,1)[0];if(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=p&&s!==p&&u>0){if(s instanceof c.BlockEmbed||p instanceof c.BlockEmbed)return void this.optimize();if(s instanceof f.default){var h=s.newlineIndex(s.length(),!0);if(h>-1&&(s=s.split(h+1))===p)return void this.optimize()}else if(p instanceof f.default){var v=p.newlineIndex(0);v>-1&&p.split(v+1)}var m=p.children.head instanceof l.default?null:p.children.head;s.moveChildren(p,m),s.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,n,r,o){(null==this.whitelist||this.whitelist[r])&&(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,o),this.optimize())}},{key:"insertAt",value:function(t,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==r||null==a.default.query(n,a.default.Scope.BLOCK)){var o=a.default.create(this.statics.defaultChild);this.appendChild(o),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),o.insertAt(0,n,r)}else{var s=a.default.create(n,r);this.appendChild(s)}else i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===a.default.Scope.INLINE_BLOT){var r=a.default.create(this.statics.defaultChild);r.appendChild(t),t=r}i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(h,t)}},{key:"lines",value:function(){return function t(e,n,r){var o=[],i=r;return e.children.forEachAt(n,r,function(e,n,r){h(e)?o.push(e):e instanceof a.default.Container&&(o=o.concat(t(e,n,i))),i-=r}),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,t),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,t)}}}]),e}();v.blotName="scroll",v.className="ql-editor",v.tagName="DIV",v.defaultChild="block",v.allowedChildren=[u.default,c.BlockEmbed,d.default],e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=v(n(21)),s=v(n(11)),c=v(n(3)),u=v(n(2)),l=v(n(20)),f=v(n(0)),d=v(n(5)),p=v(n(10)),h=v(n(9));function v(t){return t&&t.__esModule?t:{default:t}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=(0,p.default)("quill:keyboard"),b=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",y=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.bindings={},Object.keys(r.options.bindings).forEach(function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&r.options.bindings[e]&&r.addBinding(r.options.bindings[e])}),r.addBinding({key:e.keys.ENTER,shiftKey:null},k),r.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},O),r.addBinding({key:e.keys.DELETE},{collapsed:!0},w)):(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},O),r.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),r.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},x),r.addBinding({key:e.keys.DELETE},{collapsed:!1},x),r.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},O),r.listen(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,h.default),i(e,null,[{key:"match",value:function(t,e){return e=E(e),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!e[n]!==t[n]&&null!==e[n]})&&e.key===(t.which||t.keyCode)}}]),i(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=E(t);if(null==r||null==r.key)return g.warn("Attempted to add invalid keyboard binding",r);"function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),r=(0,c.default)(r,e,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var i=n.which||n.keyCode,a=(t.bindings[i]||[]).filter(function(t){return e.match(n,t)});if(0!==a.length){var c=t.quill.getSelection();if(null!=c&&t.quill.hasFocus()){var u=t.quill.getLine(c.index),l=o(u,2),d=l[0],p=l[1],h=t.quill.getLeaf(c.index),v=o(h,2),m=v[0],g=v[1],b=0===c.length?[m,g]:t.quill.getLeaf(c.index+c.length),y=o(b,2),_=y[0],O=y[1],w=m instanceof f.default.Text?m.value().slice(0,g):"",x=_ instanceof f.default.Text?_.value().slice(O):"",k={collapsed:0===c.length,empty:0===c.length&&d.length()<=1,format:t.quill.getFormat(c),offset:p,prefix:w,suffix:x};a.some(function(e){if(null!=e.collapsed&&e.collapsed!==k.collapsed)return!1;if(null!=e.empty&&e.empty!==k.empty)return!1;if(null!=e.offset&&e.offset!==k.offset)return!1;if(Array.isArray(e.format)){if(e.format.every(function(t){return null==k.format[t]}))return!1}else if("object"===r(e.format)&&!Object.keys(e.format).every(function(t){return!0===e.format[t]?null!=k.format[t]:!1===e.format[t]?null==k.format[t]:(0,s.default)(e.format[t],k.format[t])}))return!1;return!(null!=e.prefix&&!e.prefix.test(k.prefix))&&(!(null!=e.suffix&&!e.suffix.test(k.suffix))&&!0!==e.handler.call(t,c,k))})&&n.preventDefault()}}}})}}]),e}();function _(t,e){var n,r=t===y.keys.LEFT?"prefix":"suffix";return m(n={key:t,shiftKey:e,altKey:null},r,/^$/),m(n,"handler",function(n){var r=n.index;t===y.keys.RIGHT&&(r+=n.length+1);var i=this.quill.getLeaf(r);return!(o(i,1)[0]instanceof f.default.Embed)||(t===y.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index-1,d.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index+n.length+1,d.default.sources.USER),!1)}),n}function O(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),r=o(n,1)[0],i={};if(0===e.offset){var a=this.quill.getLine(t.index-1),s=o(a,1)[0];if(null!=s&&s.length()>1){var c=r.formats(),u=this.quill.getFormat(t.index-1,1);i=l.default.attributes.diff(c,u)||{}}}var f=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-f,f,d.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index-f,f,i,d.default.sources.USER),this.quill.focus()}}function w(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var r={},i=0,a=this.quill.getLine(t.index),s=o(a,1)[0];if(e.offset>=s.length()-1){var c=this.quill.getLine(t.index+1),u=o(c,1)[0];if(u){var f=s.formats(),p=this.quill.getFormat(t.index,1);r=l.default.attributes.diff(f,p)||{},i=u.length()}}this.quill.deleteText(t.index,n,d.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index+i-1,n,r,d.default.sources.USER)}}function x(t){var e=this.quill.getLines(t),n={};if(e.length>1){var r=e[0].formats(),o=e[e.length-1].formats();n=l.default.attributes.diff(o,r)||{}}this.quill.deleteText(t,d.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,d.default.sources.USER),this.quill.setSelection(t.index,d.default.sources.SILENT),this.quill.focus()}function k(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var r=Object.keys(e.format).reduce(function(t,n){return f.default.query(n,f.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t},{});this.quill.insertText(t.index,"\n",r,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach(function(t){null==r[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],d.default.sources.USER))})}function j(t){return{key:y.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=f.default.query("code-block"),r=e.index,i=e.length,a=this.quill.scroll.descendant(n,r),s=o(a,2),c=s[0],u=s[1];if(null!=c){var l=this.quill.getIndex(c),p=c.newlineIndex(u,!0)+1,h=c.newlineIndex(l+u+i),v=c.domNode.textContent.slice(p,h).split("\n");u=0,v.forEach(function(e,o){t?(c.insertAt(p+u,n.TAB),u+=n.TAB.length,0===o?r+=n.TAB.length:i+=n.TAB.length):e.startsWith(n.TAB)&&(c.deleteAt(p+u,n.TAB.length),u-=n.TAB.length,0===o?r-=n.TAB.length:i-=n.TAB.length),u+=e.length+1}),this.quill.update(d.default.sources.USER),this.quill.setSelection(r,i,d.default.sources.SILENT)}}}}function C(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],d.default.sources.USER)}}}function E(t){if("string"==typeof t||"number"==typeof t)return E({key:t});if("object"===(void 0===t?"undefined":r(t))&&(t=(0,a.default)(t,!1)),"string"==typeof t.key)if(null!=y.keys[t.key.toUpperCase()])t.key=y.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[b]=t.shortKey,delete t.shortKey),t}y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},y.DEFAULTS={bindings:{bold:C("bold"),italic:C("italic"),underline:C("underline"),indent:{key:y.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",d.default.sources.USER)}},outdent:{key:y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",d.default.sources.USER)}},"outdent backspace":{key:y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",d.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,d.default.sources.USER)}},"indent code-block":j(!0),"outdent code-block":j(!1),"remove tab":{key:y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,d.default.sources.USER)}},tab:{key:y.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new u.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,d.default.sources.SILENT)}},"list empty enter":{key:y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,d.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,d.default.sources.USER)}},"checklist enter":{key:y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),r=n[0],i=n[1],a=(0,c.default)({},r.formats(),{list:"checked"}),s=(new u.default).retain(t.index).insert("\n",a).retain(r.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),r=o(n,2),i=r[0],a=r[1],s=(new u.default).retain(t.index).insert("\n",e.format).retain(i.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,r=this.quill.getLine(t.index),i=o(r,2),a=i[0],s=i[1];if(s>n)return!0;var c=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":c="unchecked";break;case"[x]":c="checked";break;case"-":case"*":c="bullet";break;default:c="ordered"}this.quill.insertText(t.index," ",d.default.sources.USER),this.quill.history.cutoff();var l=(new u.default).retain(t.index-s).delete(n+1).retain(a.length()-2-s).retain(1,{list:c});this.quill.updateContents(l,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,d.default.sources.SILENT)}},"code exit":{key:y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),r=n[0],i=n[1],a=(new u.default).retain(t.index+r.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,d.default.sources.USER)}},"embed left":_(y.keys.LEFT,!1),"embed left shift":_(y.keys.LEFT,!0),"embed right":_(y.keys.RIGHT,!1),"embed right shift":_(y.keys.RIGHT,!0)}},e.default=y,e.SHORTKEY=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=c(n(0)),s=c(n(7));function c(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.selection=n,r.textNode=document.createTextNode(e.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Embed),i(e,null,[{key:"value",value:function(){}}]),i(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);for(var r=this,i=0;null!=r&&r.statics.scope!==a.default.Scope.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=e.CONTENTS.length,r.optimize(),r.formatAt(i,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),o=void 0,i=void 0,c=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var u=[t,n.start.offset,n.end.offset];o=u[0],i=u[1],c=u[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var l=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof s.default?(o=this.next.domNode,this.next.insertAt(0,l),this.textNode.data=e.CONTENTS):(this.textNode.data=l,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var f=[i,c].map(function(t){return Math.max(0,Math.min(o.data.length,t-1))}),d=r(f,2);return i=d[0],c=d[1],{startNode:o,startOffset:i,endNode:o,endOffset:c}}}}},{key:"update",value:function(t,e){var n=this;if(t.some(function(t){return"characterData"===t.type&&t.target===n.textNode})){var r=this.restore();r&&(e.range=r)}}},{key:"value",value:function(){return""}}]),e}();u.blotName="cursor",u.className="ql-cursor",u.tagName="span",u.CONTENTS="\ufeff",e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(0)),o=n(4),i=a(o);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default.Container),e}();s.allowedChildren=[i.default,o.BlockEmbed,s],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r};var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Attributor.Style),o(e,[{key:"value",value:function(t){var n=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(t){return("00"+parseInt(t).toString(16)).slice(-2)}).join("")):n}}]),e}(),c=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),u=new s("color","color",{scope:a.default.Scope.INLINE});e.ColorAttributor=s,e.ColorClass=c,e.ColorStyle=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(6),s=(r=a)&&r.__esModule?r:{default:r};var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return u(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}();function u(t,e){var n=document.createElement("a");n.href=t;var r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}c.blotName="link",c.tagName="A",c.SANITIZED_URL="about:blank",c.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=c,e.sanitize=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(23)),a=s(n(107));function s(t){return t&&t.__esModule?t:{default:t}}var c=0;function u(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var l=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.togglePicker()}),this.label.addEventListener("keydown",function(t){switch(t.keyCode){case i.default.keys.ENTER:n.togglePicker();break;case i.default.keys.ESCAPE:n.escape(),t.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return o(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",function(){e.selectItem(n,!0)}),n.addEventListener("keydown",function(t){switch(t.keyCode){case i.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case i.default.keys.ESCAPE:e.escape(),t.preventDefault()}}),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=a.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+c,c+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach(function(n){var r=t.buildItem(n);e.appendChild(r),!0===n.selected&&t.selectItem(r)}),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach(function(e){t.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout(function(){return t.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":r(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(0)),o=g(n(5)),i=n(4),a=g(i),s=g(n(16)),c=g(n(25)),u=g(n(24)),l=g(n(35)),f=g(n(6)),d=g(n(22)),p=g(n(7)),h=g(n(55)),v=g(n(42)),m=g(n(23));function g(t){return t&&t.__esModule?t:{default:t}}o.default.register({"blots/block":a.default,"blots/block/embed":i.BlockEmbed,"blots/break":s.default,"blots/container":c.default,"blots/cursor":u.default,"blots/embed":l.default,"blots/inline":f.default,"blots/scroll":d.default,"blots/text":p.default,"modules/clipboard":h.default,"modules/history":v.default,"modules/keyboard":m.default}),r.default.register(a.default,s.default,u.default,f.default,d.default,p.default),e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(t){this.domNode=t,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return r.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,o){var i=this.isolate(t,e);if(null!=r.query(n,r.Scope.BLOT)&&o)i.wrap(n,o);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var a=r.create(this.statics.scope);i.wrap(a),a.format(n,o)}},t.prototype.insertAt=function(t,e,n){var o=null==n?r.create("text",e):r.create(e,n),i=this.split(t);this.parent.insertBefore(o,i)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?r.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"==typeof t?r.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),o=n(32),i=n(33),a=n(1),s=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=r.default.keys(this.domNode),n=o.default.keys(this.domNode),s=i.default.keys(this.domNode);e.concat(n).concat(s).forEach(function(e){var n=a.query(e,a.Scope.ATTRIBUTE);n instanceof r.default&&(t.attributes[n.attrName]=n)})},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach(function(n){var r=e.attributes[n].value(e.domNode);t.format(n,r)})},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce(function(e,n){return e[n]=t.attributes[n].value(t.domNode),e},{})},t}();e.default=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function i(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(function(t){return 0===t.indexOf(e+"-")})}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){i(t,this.keyName).forEach(function(e){t.classList.remove(e)}),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(i(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function i(t){var e=t.split("-"),n=e.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return e[0]+n}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map(function(t){return t.split(":")[0].trim()})},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[i(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[i(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[i(this.keyName)];return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n,this.modules={}}return r(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach(function(e){null==t.modules[e]&&t.addModule(e)})}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();o.DEFAULTS={modules:{}},o.themes={default:o},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=a(n(0)),i=a(n(7));function a(t){return t&&t.__esModule?t:{default:t}}var s="\ufeff",c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(t){n.contentNode.appendChild(t)}),n.leftGuard=document.createTextNode(s),n.rightGuard=document.createTextNode(s),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default.Embed),r(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,r=t.data.split(s).join("");if(t===this.leftGuard)if(this.prev instanceof i.default){var a=this.prev.length();this.prev.insertAt(a,r),e={startNode:this.prev.domNode,startOffset:a+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this),e={startNode:n,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof i.default?(this.next.insertAt(0,r),e={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this.next),e={startNode:n,startOffset:r.length}));return t.data=s,e}},{key:"update",value:function(t,e){var n=this;t.forEach(function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var r=n.restore(t.target);r&&(e.range=r)}})}}]),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r};var a={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new i.default.Attributor.Attribute("align","align",a),c=new i.default.Attributor.Class("align","ql-align",a),u=new i.default.Attributor.Style("align","text-align",a);e.AlignAttribute=s,e.AlignClass=c,e.AlignStyle=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},a=n(26);var s=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});e.BackgroundClass=s,e.BackgroundStyle=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r};var a={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},s=new i.default.Attributor.Attribute("direction","dir",a),c=new i.default.Attributor.Class("direction","ql-direction",a),u=new i.default.Attributor.Style("direction","direction",a);e.DirectionAttribute=s,e.DirectionClass=c,e.DirectionStyle=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r};var s={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new a.default.Attributor.Class("font","ql-font",s),u=new(function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default.Attributor.Style),o(e,[{key:"value",value:function(t){return function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}())("font","font-family",s);e.FontStyle=u,e.FontClass=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r};var a=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=a,e.SizeStyle=s},function(t,e,n){"use strict";t.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=s(n(0)),i=s(n(5)),a=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(i.default.events.EDITOR_CHANGE,function(t,e,n,o){t!==i.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&o!==i.default.sources.USER?r.transform(e):r.record(e,n))}),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],i.default.sources.USER),this.ignoreChange=!1;var r=u(n[t]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),t=o.redo.compose(t)}else this.lastRecorded=r;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}),this.stack.redo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}();function u(t){var e=t.reduce(function(t,e){return t+=e.delete||0},0),n=t.length()-e;return function(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some(function(t){return null!=o.default.query(t,o.default.Scope.BLOCK)}))}(t)&&(n-=1),n}c.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=c,e.getLastChangeIndex=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=p(n(3)),i=p(n(2)),a=p(n(8)),s=p(n(23)),c=p(n(34)),u=p(n(59)),l=p(n(60)),f=p(n(28)),d=p(n(61));function p(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],y=[!1,"serif","monospace"],_=["1","2","3",!1],O=["small",!1,"large","huge"],w=function(t){function e(t,n){h(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return t.emitter.listenDOM("click",document.body,function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach(function(t){t.container.contains(n.target)||t.close()})}),r}return m(e,c.default),r(e,[{key:"addModule",value:function(t){var n=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach(function(t){(t.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n].rtl;else if("string"==typeof e[n])t.innerHTML=e[n];else{var r=t.value||"";null!=r&&e[n][r]&&(t.innerHTML=e[n][r])}})})}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map(function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&k(t,g),new l.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&k(t,b,"background"===n?"#ffffff":"#000000"),new u.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?k(t,y):t.classList.contains("ql-header")?k(t,_):t.classList.contains("ql-size")&&k(t,O)),new f.default(t)});this.quill.on(a.default.events.EDITOR_CHANGE,function(){n.pickers.forEach(function(t){t.update()})})}}]),e}();w.DEFAULTS=(0,o.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var r=t.quill.getSelection(!0);t.quill.updateContents((new i.default).retain(r.index).delete(r.length).insert({image:n.target.result}),a.default.sources.USER),t.quill.setSelection(r.index+1,a.default.sources.SILENT),e.value=""},n.readAsDataURL(e.files[0])}}),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var x=function(t){function e(t,n){h(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return m(e,d.default),r(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",function(e){s.default.match(e,"enter")?(t.save(),e.preventDefault()):s.default.match(e,"escape")&&(t.cancel(),e.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,a.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,a.default.sources.USER)),this.quill.root.scrollTop=e;break;case"video":t=function(t){var e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(e)return(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0";if(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/";return t}(t);case"formula":if(!t)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,a.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",a.default.sources.USER),this.quill.setSelection(r+2,a.default.sources.USER)}}this.textbox.value="",this.hide()}}]),e}();function k(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach(function(e){var r=document.createElement("option");e===n?r.setAttribute("selected","selected"):r.setAttribute("value",e),t.appendChild(r)})}e.BaseTooltip=x,e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,r=this.iterator();n=r();){var o=n.length();if(t<o||e&&t===o&&(null==n.next||0!==n.next.length()))return[n,t];t-=o}return[null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();)t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var r,o=this.find(t),i=o[0],a=t-o[1],s=this.iterator(i);(r=s())&&a<t+e;){var c=r.length();t>a?n(r,t-a,Math.min(e,a+c-t)):n(r,0,Math.min(c,t+e-a)),a+=c}},t.prototype.map=function(t){return this.reduce(function(e,n){return e.push(t(n)),e},[])},t.prototype.reduce=function(t,e){for(var n,r=this.iterator();n=r();)e=t(e,n);return e},t}();e.default=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(17),a=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver(function(t){n.update(t)}),n.observer.observe(n.domNode,s),n.attach(),n}return o(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach(function(t){t.remove()}):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,r,o){this.update(),t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.insertAt=function(e,n,r){this.update(),t.prototype.insertAt.call(this,e,n,r)},e.prototype.optimize=function(e,n){var r=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)e.push(o.pop());for(var s=function(t,e){void 0===e&&(e=!0),null!=t&&t!==r&&null!=t.domNode.parentNode&&(null==t.domNode[a.DATA_KEY].mutations&&(t.domNode[a.DATA_KEY].mutations=[]),e&&s(t.parent))},c=function(t){null!=t.domNode[a.DATA_KEY]&&null!=t.domNode[a.DATA_KEY].mutations&&(t instanceof i.default&&t.children.forEach(c),t.optimize(n))},u=e,l=0;u.length>0;l+=1){if(l>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(function(t){var e=a.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(s(a.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,function(t){var e=a.find(t,!1);s(e,!1),e instanceof i.default&&e.children.forEach(function(t){s(t,!1)})})):"attributes"===t.type&&s(e.prev)),s(e))}),this.children.forEach(c),o=(u=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)e.push(o.pop())}},e.prototype.update=function(e,n){var r=this;void 0===n&&(n={}),(e=e||this.observer.takeRecords()).map(function(t){var e=a.find(t.target,!0);return null==e?null:null==e.domNode[a.DATA_KEY].mutations?(e.domNode[a.DATA_KEY].mutations=[t],e):(e.domNode[a.DATA_KEY].mutations.push(t),null)}).forEach(function(t){null!=t&&t!==r&&null!=t.domNode[a.DATA_KEY]&&t.update(t.domNode[a.DATA_KEY].mutations||[],n)}),null!=this.domNode[a.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="DIV",e}(i.default);e.default=c},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),a=n(1);var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,r){var o=this;n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):(this.children.forEach(function(t){t instanceof i.default||(t=t.wrap(e.blotName,!0)),o.attributes.copy(t)}),this.unwrap())},e.prototype.formatAt=function(e,n,r,o){null!=this.formats()[r]||a.query(r,a.Scope.ATTRIBUTE)?this.isolate(e,n).format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var o=this.next;o instanceof e&&o.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(r,o.formats())&&(o.moveChildren(this),o.remove())},e.blotName="inline",e.scope=a.Scope.INLINE_BLOT,e.tagName="SPAN",e}(i.default);e.default=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){var r=a.query(e.blotName).tagName;if(n.tagName!==r)return t.formats.call(this,n)},e.prototype.format=function(n,r){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,r,o){null!=a.query(r,a.Scope.BLOCK)?this.format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.insertAt=function(e,n,r){if(null==r||null!=a.query(n,a.Scope.INLINE))t.prototype.insertAt.call(this,e,n,r);else{var o=this.split(e),i=a.create(n,r);o.parent.insertBefore(i,o)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="P",e}(i.default);e.default=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,r,o){0===e&&n===this.length()?this.format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(n(19).default);e.default=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),a=n(1),s=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return o(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,r){null==r?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,r)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=a.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some(function(t){return"characterData"===t.type&&t.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=a.Scope.INLINE_BLOT,e}(i.default);e.default=s},function(t,e,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)==!e?e:o.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var r=n.indexOf(t,e);return-1!==r&&r===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(e=n[i],t.call(o,e,i,n))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,e){var n=-1,r=1,o=0;function i(t,e,u){if(t==e)return t?[[o,t]]:[];(u<0||t.length<u)&&(u=null);var f=s(t,e),d=t.substring(0,f);f=c(t=t.substring(f),e=e.substring(f));var p=t.substring(t.length-f),h=function(t,e){var u;if(!t)return[[r,e]];if(!e)return[[n,t]];var l=t.length>e.length?t:e,f=t.length>e.length?e:t,d=l.indexOf(f);if(-1!=d)return u=[[r,l.substring(0,d)],[o,f],[r,l.substring(d+f.length)]],t.length>e.length&&(u[0][0]=u[2][0]=n),u;if(1==f.length)return[[n,t],[r,e]];var p=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function o(t,e,n){for(var r,o,i,a,u=t.substring(n,n+Math.floor(t.length/4)),l=-1,f="";-1!=(l=e.indexOf(u,l+1));){var d=s(t.substring(n),e.substring(l)),p=c(t.substring(0,n),e.substring(0,l));f.length<p+d&&(f=e.substring(l-p,l)+e.substring(l,l+d),r=t.substring(0,n-p),o=t.substring(n+d),i=e.substring(0,l-p),a=e.substring(l+d))}return 2*f.length>=t.length?[r,o,i,a,f]:null}var i,a,u,l,f,d=o(n,r,Math.ceil(n.length/4)),p=o(n,r,Math.ceil(n.length/2));if(!d&&!p)return null;i=p?d&&d[4].length>p[4].length?d:p:d;t.length>e.length?(a=i[0],u=i[1],l=i[2],f=i[3]):(l=i[0],f=i[1],a=i[2],u=i[3]);var h=i[4];return[a,u,l,f,h]}(t,e);if(p){var h=p[0],v=p[1],m=p[2],g=p[3],b=p[4],y=i(h,m),_=i(v,g);return y.concat([[o,b]],_)}return function(t,e){for(var o=t.length,i=e.length,s=Math.ceil((o+i)/2),c=s,u=2*s,l=new Array(u),f=new Array(u),d=0;d<u;d++)l[d]=-1,f[d]=-1;l[c+1]=0,f[c+1]=0;for(var p=o-i,h=p%2!=0,v=0,m=0,g=0,b=0,y=0;y<s;y++){for(var _=-y+v;_<=y-m;_+=2){for(var O=c+_,w=(E=_==-y||_!=y&&l[O-1]<l[O+1]?l[O+1]:l[O-1]+1)-_;E<o&&w<i&&t.charAt(E)==e.charAt(w);)E++,w++;if(l[O]=E,E>o)m+=2;else if(w>i)v+=2;else if(h){var x=c+p-_;if(x>=0&&x<u&&-1!=f[x]){var k=o-f[x];if(E>=k)return a(t,e,E,w)}}}for(var j=-y+g;j<=y-b;j+=2){for(var x=c+j,C=(k=j==-y||j!=y&&f[x-1]<f[x+1]?f[x+1]:f[x-1]+1)-j;k<o&&C<i&&t.charAt(o-k-1)==e.charAt(i-C-1);)k++,C++;if(f[x]=k,k>o)b+=2;else if(C>i)g+=2;else if(!h){var O=c+p-j;if(O>=0&&O<u&&-1!=l[O]){var E=l[O],w=c+E-O;if(E>=(k=o-k))return a(t,e,E,w)}}}}return[[n,t],[r,e]]}(t,e)}(t=t.substring(0,t.length-f),e=e.substring(0,e.length-f));return d&&h.unshift([o,d]),p&&h.push([o,p]),function t(e){e.push([o,""]);var i=0;var a=0;var u=0;var l="";var f="";var d;for(;i<e.length;)switch(e[i][0]){case r:u++,f+=e[i][1],i++;break;case n:a++,l+=e[i][1],i++;break;case o:a+u>1?(0!==a&&0!==u&&(0!==(d=s(f,l))&&(i-a-u>0&&e[i-a-u-1][0]==o?e[i-a-u-1][1]+=f.substring(0,d):(e.splice(0,0,[o,f.substring(0,d)]),i++),f=f.substring(d),l=l.substring(d)),0!==(d=c(f,l))&&(e[i][1]=f.substring(f.length-d)+e[i][1],f=f.substring(0,f.length-d),l=l.substring(0,l.length-d))),0===a?e.splice(i-u,a+u,[r,f]):0===u?e.splice(i-a,a+u,[n,l]):e.splice(i-a-u,a+u,[n,l],[r,f]),i=i-a-u+(a?1:0)+(u?1:0)+1):0!==i&&e[i-1][0]==o?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,u=0,a=0,l="",f=""}""===e[e.length-1][1]&&e.pop();var p=!1;i=1;for(;i<e.length-1;)e[i-1][0]==o&&e[i+1][0]==o&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),p=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),p=!0)),i++;p&&t(e)}(h),null!=u&&(h=function(t,e){var r=function(t,e){if(0===e)return[o,t];for(var r=0,i=0;i<t.length;i++){var a=t[i];if(a[0]===n||a[0]===o){var s=r+a[1].length;if(e===s)return[i+1,t];if(e<s){t=t.slice();var c=e-r,u=[a[0],a[1].slice(0,c)],l=[a[0],a[1].slice(c)];return t.splice(i,1,u,l),[i+1,t]}r=s}}throw new Error("cursor_pos is out of bounds!")}(t,e),i=r[1],a=r[0],s=i[a],c=i[a+1];if(null==s)return t;if(s[0]!==o)return t;if(null!=c&&s[1]+c[1]===c[1]+s[1])return i.splice(a,2,c,s),l(i,a,2);if(null!=c&&0===c[1].indexOf(s[1])){i.splice(a,2,[c[0],s[1]],[0,s[1]]);var u=c[1].slice(s[1].length);return u.length>0&&i.splice(a+2,0,[c[0],u]),l(i,a,3)}return t}(h,u)),h=function(t){for(var e=!1,i=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},a=2;a<t.length;a+=1)t[a-2][0]===o&&((s=t[a-2][1]).charCodeAt(s.length-1)>=55296&&s.charCodeAt(s.length-1)<=56319)&&t[a-1][0]===n&&i(t[a-1][1])&&t[a][0]===r&&i(t[a][1])&&(e=!0,t[a-1][1]=t[a-2][1].slice(-1)+t[a-1][1],t[a][1]=t[a-2][1].slice(-1)+t[a][1],t[a-2][1]=t[a-2][1].slice(0,-1));var s;if(!e)return t;for(var c=[],a=0;a<t.length;a+=1)t[a][1].length>0&&c.push(t[a]);return c}(h)}function a(t,e,n,r){var o=t.substring(0,n),a=e.substring(0,r),s=t.substring(n),c=e.substring(r),u=i(o,a),l=i(s,c);return u.concat(l)}function s(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(i,o)==e.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}function c(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}var u=i;function l(t,e,n){for(var r=e+n-1;r>=0&&r>=e-1;r--)if(r+1<t.length){var o=t[r],i=t[r+1];o[0]===i[1]&&t.splice(r,2,[o[0],o[1]+i[1]])}return t}u.INSERT=r,u.DELETE=n,u.EQUAL=o,t.exports=u},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:o).supported=r,e.unsupported=o},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function o(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,e,o=[];if(0===this._eventsCount)return o;for(e in t=this._events)n.call(t,e)&&o.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t,e){var n=r?r+t:t,o=this._events[n];if(e)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,a=o.length,s=new Array(a);i<a;i++)s[i]=o[i].fn;return s},a.prototype.emit=function(t,e,n,o,i,a){var s=r?r+t:t;if(!this._events[s])return!1;var c,u,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,o),!0;case 5:return l.fn.call(l.context,e,n,o,i),!0;case 6:return l.fn.call(l.context,e,n,o,i,a),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,o);break;default:if(!c)for(d=1,c=new Array(f-1);d<f;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,n){var o=new i(e,n||this),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.once=function(t,e,n){var o=new i(e,n||this,!0),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.removeListener=function(t,e,n,i){var a=r?r+t:t;if(!this._events[a])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==e||i&&!s[c].once||n&&s[c].context!==n)&&u.push(s[c]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=r,a.EventEmitter=a,void 0!==t&&(t.exports=a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=y(n(3)),s=y(n(2)),c=y(n(0)),u=y(n(5)),l=y(n(10)),f=y(n(9)),d=n(36),p=n(37),h=y(n(13)),v=n(26),m=n(38),g=n(39),b=n(40);function y(t){return t&&t.__esModule?t:{default:t}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=(0,l.default)("quill:clipboard"),w="__ql-matcher",x=[[Node.TEXT_NODE,D],[Node.TEXT_NODE,M],["br",function(t,e){S(e,"\n")||e.insert("\n");return e}],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,function(t,e){var n={},r=t.style||{};r.fontStyle&&"italic"===P(t).fontStyle&&(n.italic=!0);r.fontWeight&&(P(t).fontWeight.startsWith("bold")||parseInt(P(t).fontWeight)>=700)&&(n.bold=!0);Object.keys(n).length>0&&(e=E(e,n));parseFloat(r.textIndent||0)>0&&(e=(new s.default).insert("\t").concat(e));return e}],["li",function(t,e){var n=c.default.query(t);if(null==n||"list-item"!==n.blotName||!S(e,"\n"))return e;var r=-1,o=t.parentNode;for(;!o.classList.contains("ql-clipboard");)"list"===(c.default.query(o)||{}).blotName&&(r+=1),o=o.parentNode;return r<=0?e:e.compose((new s.default).retain(e.length()-1).retain(1,{indent:r}))}],["b",T.bind(T,"bold")],["i",T.bind(T,"italic")],["style",function(){return new s.default}]],k=[d.AlignAttribute,m.DirectionAttribute].reduce(function(t,e){return t[e.keyName]=e,t},{}),j=[d.AlignStyle,p.BackgroundStyle,v.ColorStyle,m.DirectionStyle,g.FontStyle,b.SizeStyle].reduce(function(t,e){return t[e.keyName]=e,t},{}),C=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],x.concat(r.options.matchers).forEach(function(t){var e=o(t,2),i=e[0],a=e[1];(n.matchVisual||a!==I)&&r.addMatcher(i,a)}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,f.default),i(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[h.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,_({},h.default.blotName,e[h.default.blotName]))}var r=this.prepareMatching(),i=o(r,2),a=i[0],c=i[1],u=function t(e,n,r){return e.nodeType===e.TEXT_NODE?r.reduce(function(t,n){return n(e,t)},new s.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(o,i){var a=t(i,n,r);return i.nodeType===e.ELEMENT_NODE&&(a=n.reduce(function(t,e){return e(i,t)},a),a=(i[w]||[]).reduce(function(t,e){return e(i,t)},a)),o.concat(a)},new s.default):new s.default}(this.container,a,c);return S(u,"\n")&&null==u.ops[u.ops.length-1].attributes&&(u=u.compose((new s.default).retain(u.length()-1).delete(1))),O.log("convert",this.container.innerHTML,u),this.container.innerHTML="",u}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,u.default.sources.SILENT);else{var r=this.convert(e);this.quill.updateContents((new s.default).retain(t).concat(r),n),this.quill.setSelection(t+r.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new s.default).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout(function(){r=r.concat(e.convert()).delete(n.length),e.quill.updateContents(r,u.default.sources.USER),e.quill.setSelection(r.length()-n.length,u.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=o,e.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach(function(r){var i=o(r,2),a=i[0],s=i[1];switch(a){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:e.push(s);break;default:[].forEach.call(t.container.querySelectorAll(a),function(t){t[w]=t[w]||[],t[w].push(s)})}}),[e,n]}}]),e}();function E(t,e,n){return"object"===(void 0===e?"undefined":r(e))?Object.keys(e).reduce(function(t,n){return E(t,n,e[n])},t):t.reduce(function(t,r){return r.attributes&&r.attributes[e]?t.push(r):t.insert(r.insert,(0,a.default)({},_({},e,n),r.attributes))},new s.default)}function P(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};return t["__ql-computed-style"]||(t["__ql-computed-style"]=window.getComputedStyle(t))}function S(t,e){for(var n="",r=t.ops.length-1;r>=0&&n.length<e.length;--r){var o=t.ops[r];if("string"!=typeof o.insert)break;n=o.insert+n}return n.slice(-1*e.length)===e}function A(t){if(0===t.childNodes.length)return!1;var e=P(t);return["block","list-item"].indexOf(e.display)>-1}function T(t,e,n){return E(n,t,!0)}function N(t,e){var n=c.default.Attributor.Attribute.keys(t),r=c.default.Attributor.Class.keys(t),o=c.default.Attributor.Style.keys(t),i={};return n.concat(r).concat(o).forEach(function(e){var n=c.default.query(e,c.default.Scope.ATTRIBUTE);null!=n&&(i[n.attrName]=n.value(t),i[n.attrName])||(null==(n=k[e])||n.attrName!==e&&n.keyName!==e||(i[n.attrName]=n.value(t)||void 0),null==(n=j[e])||n.attrName!==e&&n.keyName!==e||(n=j[e],i[n.attrName]=n.value(t)||void 0))}),Object.keys(i).length>0&&(e=E(e,i)),e}function L(t,e){var n=c.default.query(t);if(null==n)return e;if(n.prototype instanceof c.default.Embed){var r={},o=n.value(t);null!=o&&(r[n.blotName]=o,e=(new s.default).insert(r,n.formats(t)))}else"function"==typeof n.formats&&(e=E(e,n.blotName,n.formats(t)));return e}function M(t,e){return S(e,"\n")||(A(t)||e.length()>0&&t.nextSibling&&A(t.nextSibling))&&e.insert("\n"),e}function I(t,e){if(A(t)&&null!=t.nextElementSibling&&!S(e,"\n\n")){var n=t.offsetHeight+parseFloat(P(t).marginTop)+parseFloat(P(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function D(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!P(t.parentNode).whiteSpace.startsWith("pre")){var r=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==t.previousSibling&&A(t.parentNode)||null!=t.previousSibling&&A(t.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==t.nextSibling&&A(t.parentNode)||null!=t.nextSibling&&A(t.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return e.insert(n)}C.DEFAULTS={matchers:[],matchVisual:!0},e.default=C,e.matchAttributor=N,e.matchBlot=L,e.matchNewline=M,e.matchSpacing=I,e.matchText=D},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(6),s=(r=a)&&r.__esModule?r:{default:r};var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,[{key:"optimize",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}();c.blotName="bold",c.tagName=["STRONG","B"],e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(2)),a=l(n(0)),s=l(n(5)),c=l(n(10)),u=l(n(9));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var d=(0,c.default)("quill:toolbar"),p=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o,i=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(i.options.container)){var a=document.createElement("div");v(a,i.options.container),t.container.parentNode.insertBefore(a,t.container),i.container=a}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach(function(t){i.addHandler(t,i.options.handlers[t])}),[].forEach.call(i.container.querySelectorAll("button, select"),function(t){i.attach(t)}),i.quill.on(s.default.events.EDITOR_CHANGE,function(t,e){t===s.default.events.SELECTION_CHANGE&&i.update(e)}),i.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){var t=i.quill.selection.getRange(),e=r(t,1)[0];i.update(e)}),i):(o=d.error("Container required for toolbar",i.options),f(i,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),o(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,function(t){return 0===t.indexOf("ql-")});if(n){if(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void d.warn("ignoring attaching to disabled format",n,t);if(null==a.default.query(n))return void d.warn("ignoring attaching to nonexistent format",n,t)}var o="SELECT"===t.tagName?"change":"click";t.addEventListener(o,function(o){var c=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var u=t.options[t.selectedIndex];c=!u.hasAttribute("selected")&&(u.value||!1)}else c=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),o.preventDefault();e.quill.focus();var l=e.quill.selection.getRange(),f=r(l,1)[0];if(null!=e.handlers[n])e.handlers[n].call(e,c);else if(a.default.query(n).prototype instanceof a.default.Embed){if(!(c=prompt("Enter "+n)))return;e.quill.updateContents((new i.default).retain(f.index).delete(f.length).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,c)),s.default.sources.USER)}else e.quill.format(n,c,s.default.sources.USER);e.update(f)}),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach(function(n){var o=r(n,2),i=o[0],a=o[1];if("SELECT"===a.tagName){var s=void 0;if(null==t)s=null;else if(null==e[i])s=a.querySelector("option[selected]");else if(!Array.isArray(e[i])){var c=e[i];"string"==typeof c&&(c=c.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+c+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==t)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var u=e[i]===a.getAttribute("value")||null!=e[i]&&e[i].toString()===a.getAttribute("value")||null==e[i]&&!a.getAttribute("value");a.classList.toggle("ql-active",u)}else a.classList.toggle("ql-active",null!=e[i])})}}]),e}();function h(t,e,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+e),null!=n&&(r.value=n),t.appendChild(r)}function v(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(function(t){if("string"==typeof t)h(n,t);else{var e=Object.keys(t)[0],r=t[e];Array.isArray(r)?function(t,e,n){var r=document.createElement("select");r.classList.add("ql-"+e),n.forEach(function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),r.appendChild(e)}),t.appendChild(r)}(n,e,r):h(n,e,r)}}),t.appendChild(n)})}p.DEFAULTS={},p.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(e){null!=a.default.query(e,a.default.Scope.INLINE)&&t.quill.format(e,!1)})}else this.quill.removeFormat(e,s.default.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",s.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",t,s.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0);if("+1"===t||"-1"===t){var o="+1"===t?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",r+o,s.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,s.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",t,s.default.sources.USER)}}},e.default=p,e.addControls=v},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(28),s=(r=a)&&r.__esModule?r:{default:r};var c=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(t){t.classList.add("ql-primary")}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),o(e,[{key:"buildItem",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var r=this.label.querySelector(".ql-color-label"),o=t&&t.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=o:r.style.fill=o)}}]),e}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(28),a=(r=i)&&r.__esModule?r:{default:r};var s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),function(t){t.innerHTML=n[t.getAttribute("data-value")||""]}),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),o(e,[{key:"selectItem",value:function(t,n){(function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var o=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"}),this.hide()}return r(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>r.right&&(i=r.right-o.right,this.root.style.left=e+i+"px"),o.left<r.left&&(i=r.left-o.left,this.root.style.left=e+i+"px"),o.bottom>r.bottom){var a=o.bottom-o.top,s=t.bottom-t.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=p(n(3)),s=p(n(8)),c=n(43),u=p(c),l=p(n(27)),f=n(15),d=p(n(41));function p(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(t){function e(t,n){h(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=g);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-snow"),r}return m(e,u.default),i(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),d.default),this.tooltip=new y(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(e,n){t.handlers.link.call(t,!n.format.link)})}}]),e}();b.DEFAULTS=(0,a.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var y=function(t){function e(t,n){h(this,e);var r=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return m(e,c.BaseTooltip),i(e,[{key:"listen",value:function(){var t=this;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,s.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()}),this.quill.on(s.default.events.SELECTION_CHANGE,function(e,n,o){if(null!=e){if(0===e.length&&o===s.default.sources.USER){var i=t.quill.scroll.descendant(l.default,e.index),a=r(i,2),c=a[0],u=a[1];if(null!=c){t.linkRange=new f.Range(e.index-u,c.length());var d=l.default.formats(c.domNode);return t.preview.textContent=d,t.preview.setAttribute("href",d),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}})}},{key:"show",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}();y.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=I(n(29)),o=n(36),i=n(38),a=n(64),s=I(n(65)),c=I(n(66)),u=n(67),l=I(u),f=n(37),d=n(26),p=n(39),h=n(40),v=I(n(56)),m=I(n(68)),g=I(n(27)),b=I(n(69)),y=I(n(70)),_=I(n(71)),O=I(n(72)),w=I(n(73)),x=n(13),k=I(x),j=I(n(74)),C=I(n(75)),E=I(n(57)),P=I(n(41)),S=I(n(28)),A=I(n(59)),T=I(n(60)),N=I(n(61)),L=I(n(108)),M=I(n(62));function I(t){return t&&t.__esModule?t:{default:t}}r.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":f.BackgroundClass,"attributors/class/color":d.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":h.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":f.BackgroundStyle,"attributors/style/color":d.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":h.SizeStyle},!0),r.default.register({"formats/align":o.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":a.IndentClass,"formats/background":f.BackgroundStyle,"formats/color":d.ColorStyle,"formats/font":p.FontClass,"formats/size":h.SizeClass,"formats/blockquote":s.default,"formats/code-block":k.default,"formats/header":c.default,"formats/list":l.default,"formats/bold":v.default,"formats/code":x.Code,"formats/italic":m.default,"formats/link":g.default,"formats/script":b.default,"formats/strike":y.default,"formats/underline":_.default,"formats/image":O.default,"formats/video":w.default,"formats/list/item":u.ListItem,"modules/formula":j.default,"modules/syntax":C.default,"modules/toolbar":E.default,"themes/bubble":L.default,"themes/snow":M.default,"ui/icons":P.default,"ui/picker":S.default,"ui/icon-picker":T.default,"ui/color-picker":A.default,"ui/tooltip":N.default},!0),e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r};var c=new(function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default.Attributor.Class),o(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var r=this.value(t)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(t),!0):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}())("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(4),i=(r=o)&&r.__esModule?r:{default:r};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),e}();a.blotName="blockquote",a.tagName="blockquote",e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(4),a=(r=i)&&r.__esModule?r:{default:r};var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),o(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}();s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=c(n(0)),a=c(n(4)),s=c(n(25));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,a.default),r(e,[{key:"format",value:function(t,n){t!==p.blotName||n?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:o(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}();d.blotName="list-item",d.tagName="LI";var p=function(t){function e(t){u(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=function(e){if(e.target.parentNode===t){var r=n.statics.formats(t),o=i.default.find(e.target);"checked"===r?o.format("list","unchecked"):"unchecked"===r&&o.format("list","checked")}};return t.addEventListener("touchstart",r),t.addEventListener("mousedown",r),n}return f(e,s.default),r(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",r=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return"checked"!==t&&"unchecked"!==t||r.setAttribute("data-checked","checked"===t),r}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return t={},e=this.statics.blotName,n=this.statics.formats(this.domNode),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;var t,e,n}},{key:"insertBefore",value:function(t,n){if(t instanceof d)o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var r=null==n?this.length():n.offset(this),i=this.split(r);i.parent.insertBefore(t,i)}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=i.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}();p.blotName="list",p.scope=i.default.Scope.BLOCK_BLOT,p.tagName=["OL","UL"],p.defaultChild="list-item",p.allowedChildren=[d],e.ListItem=d,e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(56),i=(r=o)&&r.__esModule?r:{default:r};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),e}();a.blotName="italic",a.tagName=["EM","I"],e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(6),a=(r=i)&&r.__esModule?r:{default:r};var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),o(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}();s.blotName="script",s.tagName=["SUB","SUP"],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(6),i=(r=o)&&r.__esModule?r:{default:r};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),e}();a.blotName="strike",a.tagName="S",e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(6),i=(r=o)&&r.__esModule?r:{default:r};var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),e}();a.blotName="underline",a.tagName="U",e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r},c=n(27);var u=["alt","height","width"],l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default.Embed),o(e,[{key:"format",value:function(t,n){u.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return u.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,c.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}();l.blotName="image",l.tagName="IMG",e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(4),s=n(27),c=(r=s)&&r.__esModule?r:{default:r};var u=["height","width"],l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.BlockEmbed),o(e,[{key:"format",value:function(t,n){u.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return u.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"sanitize",value:function(t){return c.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}();l.blotName="video",l.className="ql-video",l.tagName="IFRAME",e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=s(n(35)),i=s(n(5)),a=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,o.default),r(e,null,[{key:"create",value:function(t){var n=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}();f.blotName="formula",f.className="ql-formula",f.tagName="SPAN";var d=function(t){function e(){c(this,e);var t=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return l(e,a.default),r(e,null,[{key:"register",value:function(){i.default.register(f,!0)}}]),e}();e.FormulaBlot=f,e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=c(n(0)),i=c(n(5)),a=c(n(9)),s=c(n(13));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,s.default),r(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}();d.className="ql-syntax";var p=new o.default.Attributor.Class("token","hljs",{scope:o.default.Scope.INLINE}),h=function(t){function e(t,n){u(this,e);var r=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!=typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return r.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(o),o=setTimeout(function(){r.highlight(),o=null},r.options.interval)}),r.highlight(),r}return f(e,a.default),r(e,null,[{key:"register",value:function(){i.default.register(p,!0),i.default.register(d,!0)}}]),r(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(i.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(d).forEach(function(e){e.highlight(t.options.highlight)}),this.quill.update(i.default.sources.SILENT),null!=e&&this.quill.setSelection(e,i.default.sources.SILENT)}}}]),e}();h.DEFAULTS={highlight:null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value},interval:1e3},e.CodeBlock=d,e.CodeToken=p,e.default=h},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var r=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=f(n(3)),a=f(n(8)),s=n(43),c=f(s),u=n(15),l=f(n(41));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],m=function(t){function e(t,n){d(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=v);var r=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-bubble"),r}return h(e,c.default),o(e,[{key:"extendToolbar",value:function(t){this.tooltip=new g(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),l.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),l.default)}}]),e}();m.DEFAULTS=(0,i.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var g=function(t){function e(t,n){d(this,e);var r=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.on(a.default.events.EDITOR_CHANGE,function(t,e,n,o){if(t===a.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&o===a.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var i=r.quill.getLines(e.index,e.length);if(1===i.length)r.position(r.quill.getBounds(e));else{var s=i[i.length-1],c=r.quill.getIndex(s),l=Math.min(s.length()-1,e.index+e.length-c),f=r.quill.getBounds(new u.Range(c,l));r.position(f)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()}),r}return h(e,s.BaseTooltip),o(e,[{key:"listen",value:function(){var t=this;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){t.root.classList.remove("ql-editing")}),this.quill.on(a.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===n)return n;o.style.marginLeft=-1*n-o.offsetWidth/2+"px"}}]),e}();g.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=g,e.default=m},function(t,e,n){t.exports=n(63)}]).default},t.exports=n()}).call(e,n("EuP9").Buffer)},ykT4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("kXZP"),o=n.n(r),i=n("I3G/"),a=n.n(i),s=n("mtWM"),c=n.n(s),u=n("08WP"),l=n.n(u),f=n("oTFi"),d=n("u5FJ"),p=n("Jaym"),h=n("Ngrm"),v=n("Mqyi"),m=n("LQly"),g=n("FCu8"),b=n.n(g),y=n("kfSc"),_=n.n(y),O=n("s8GX"),w=n.n(O),x=n("OLx3"),k=n("nctS"),j=Object(d.l)("#comments");if(j){var C=!1,E=Object(d.f)(j,"data-type");x.a.info.postId=Object(d.f)(j,"data-post-id"),x.a.info.type=E,p.b.on(k.a.init,function(){C||(C=!0,"chapter"===E?new b.a:new _.a)}),x.a.settings.disable.media&&"manga"===E||x.a.settings.disable.reader&&"chapter"===E?j.appendChild(Object(v.a)("div",{className:"comments-info text-muted paper"},Object(v.a)("div",{className:"comments-info__text"},"Теперь комментарии можно отключать. ",Object(v.a)("br",null),"Откройте ",Object(v.a)("span",{className:"comments-info__icon text-primary mx-5 text-truncate"},Object(v.a)("i",{className:"fa fa-sliders"})," настройки")," для подробностей."))):l()("#comments").on("enter",o()(function(){return p.b.emit(k.a.init)})),Object(d.c)("#report-comment-form","submit",function(t){t.preventDefault();var e=t.target,n=Object(d.f)(e,"action"),r=new FormData(e),o=Object(d.l)('button[type="submit"]',e);Object(m.a)(o,!0),c.a.post(n,r).then(function(t){var e=t.data;h.a.confirm(e.message),Object(m.a)(o,!1),f.a.close()}).catch(function(){return Object(m.a)(o,!1)})}),Object(d.c)(".comments-info__icon","click",function(){a.a.prototype.$dialog.open({component:w.a})}),Object(d.c)(".comments-info__btn .button","click",function(){return p.b.emit(k.a.init)}),Object(p.g)().comm_id&&p.b.emit(k.a.init)}Object(d.a)(document,"click",".comment__spoiler",function(t,e){t.stopPropagation(),d.g.toggle(e,"comment__spoiler_expanded")})},ymQ7:function(t,e,n){var r=n("xA5w"),o=n("JURy"),i=n("nizW");t.exports=function(t){var e=r(t);return i(e,o(e))+1}},ypmV:function(t,e,n){var r=n("m1WI"),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},yzuE:function(t,e,n){var r=n("v9aJ"),o=n("bGc4");t.exports=function(t,e){var n=-1,i=o(t)?Array(t.length):[];return r(t,function(t,r,o){i[++n]=e(t,r,o)}),i}},z4BQ:function(t,e){t.exports=function(t){var e=new Date(t.getTime()),n=e.getTimezoneOffset();return e.setSeconds(0,0),6e4*n+e.getTime()%6e4}},z4hc:function(t,e,n){var r=n("aCM0"),o=n("Rh28"),i=n("UnEC"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},zBOP:function(t,e,n){var r=n("22B7"),o=n("bGc4"),i=n("ZGh9"),a=n("yCNF");t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?o(n)&&i(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},zGZ6:function(t,e,n){var r=n("YeCl"),o="Expected a function";function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},zZbG:function(t,e,n){var r=n("xA5w"),o=n("3znZ");t.exports=function(t){var e=r(t),n=e.getFullYear(),i=new Date(0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);var a=o(i),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var c=o(s);return e.getTime()>=a.getTime()?n+1:e.getTime()>=c.getTime()?n:n-1}},zhVe:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={model:{prop:"model",event:"input"},props:{value:[Object,Array,String,Number,Boolean],label:String,model:[Object,Array,String,Number,Boolean],large:Boolean,name:{type:String,default:"radio-input"},disabled:{type:Boolean,default:!1}},computed:{isChecked:function(){return this.model==this.value}}}},zpVT:function(t,e,n){var r=n("duB3"),o=n("POb3"),i=n("YeCl"),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(t,e),this.size=n.size,this}}},[0]);